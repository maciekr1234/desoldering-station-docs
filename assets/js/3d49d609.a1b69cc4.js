"use strict";(globalThis.webpackChunkdocs_site=globalThis.webpackChunkdocs_site||[]).push([[1176],{982:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>N,contentTitle:()=>g,default:()=>T,frontMatter:()=>b,metadata:()=>r,toc:()=>y});const r=JSON.parse('{"id":"api/files/src-core-auto-tuner-cpp","title":"The auto_tuner.cpp File Reference","description":"PID auto-tuning implementation using relay feedback method. More...","source":"@site/docs/api/files/src-core-auto-tuner-cpp.mdx","sourceDirName":"api/files","slug":"/api/files/src/core/auto-tuner-cpp","permalink":"/desoldering-station-docs/docs/api/files/src/core/auto-tuner-cpp","draft":false,"unlisted":false,"editUrl":null,"tags":[],"version":"current","lastUpdatedAt":null,"frontMatter":{"slug":"/api/files/src/core/auto-tuner-cpp","custom_edit_url":null,"keywords":["doxygen","reference","file"]},"sidebar":"doxygenSidebar","previous":{"title":"The core Folder Reference","permalink":"/desoldering-station-docs/docs/api/folders/src/core"},"next":{"title":"pico_log.cpp","permalink":"/desoldering-station-docs/docs/api/files/src/core/pico-log-cpp"}}');var l=i(74848),d=i(28453),s=i(28774),c=i(27032),t=i(96638),a=i(13763),x=i(54310),o=i(77035),j=i(70900),A=i(55710),h=i(17027),m=i(30729),u=i(35796),k=i(94949),_=i(17949),f=i(86563),p=i(23590);const b={slug:"/api/files/src/core/auto-tuner-cpp",custom_edit_url:null,keywords:["doxygen","reference","file"]},g="The auto_tuner.cpp File Reference",N={},y=[{value:"Included Headers",id:"included-headers",level:2},{value:"Classes Index",id:"classes-index",level:2},{value:"Functions Index",id:"functions-index",level:2},{value:"Variables Index",id:"variables-index",level:2},{value:"Description",id:"details",level:2},{value:"Functions",id:"functions",level:2},{value:"analyze_results()",id:"a84c85d38aa77a427875fdc54f2aecdf1",level:3},{value:"auto_tune_default_config()",id:"a22571b8869e3dcc534f3a41be3be8ebe",level:3},{value:"auto_tune_get_progress()",id:"a156baffd4ab2f83e2701dd5681df552f",level:3},{value:"auto_tune_get_result()",id:"a3cfaf7e30c54941858220d3cf028166c",level:3},{value:"auto_tune_get_state()",id:"a86db5e15b306725d7fcc2dc7605a63f0",level:3},{value:"auto_tune_get_target_temperature()",id:"a8b14669d5934a00d74009b576943e67a",level:3},{value:"auto_tune_is_running()",id:"a93692918a460a3b52ce705776651c0f5",level:3},{value:"auto_tune_start()",id:"aeb8b96560c725bb919f45c256447682e",level:3},{value:"auto_tune_stop()",id:"a3e4bc2b160d818d22c4ebad50ae76f3a",level:3},{value:"auto_tune_update()",id:"a4e45392ff4aa4304006bf5694a76a5c6",level:3},{value:"calculate_average_amplitude()",id:"a420a5175d4fe9c4423e6b63ef6f62a41",level:3},{value:"calculate_average_period()",id:"af21865dc9e2aae1b2eaeb04923b57850",level:3},{value:"calculate_pid_parameters()",id:"aa60d77798014e779cd05b101fca67f09",level:3},{value:"enter_state()",id:"a7b7f0d2237fe1b1e09e3f304270eb645",level:3},{value:"record_point()",id:"a375a63a1e634707035ac99e79e19ca85",level:3},{value:"reset_context()",id:"a25480d8d822206a37bf0303aa5bf77b4",level:3},{value:"update_heating()",id:"a653d69d04f34d46d39cc829ffc23e729",level:3},{value:"update_relay_high()",id:"a0b10a211a0adbfb8bd052c04f3743b0b",level:3},{value:"update_relay_low()",id:"a249fd6875aba0a09666952008afd943e",level:3},{value:"Variables",id:"variables",level:2},{value:"g_ctx",id:"ae86f93088472ba2f94825c62d7a57b76",level:3},{value:"HYSTERESIS_DEFAULT",id:"a74e33bf3707e29173c36e86f6abc3686",level:3},{value:"MAX_CYCLES_DEFAULT",id:"abebd37fa4f14a89a40e48a4873c10977",level:3},{value:"MAX_PEAKS",id:"a032b018144d81c7933141784d3fcd18b",level:3},{value:"MIN_CYCLES_DEFAULT",id:"a74a18928900c6cc8e2b1fde99beea074",level:3},{value:"TAG",id:"a5a85b9c772bbeb480b209a3e6ea92b4c",level:3},{value:"TARGET_TEMP_DEFAULT",id:"aeca4d0ebe84ffda105b956d97b18d56d",level:3},{value:"TIMEOUT_MS_DEFAULT",id:"a3ff0b18f853426e936c1e3297a2b6aba",level:3},{value:"File Listing",id:"file-listing",level:2}];function w(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",...(0,d.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsxs)(n.h1,{id:"the-auto_tunercpp-file-reference",children:["The ",(0,l.jsx)(n.code,{children:"auto_tuner.cpp"})," File Reference"]})}),"\n",(0,l.jsxs)(t.A,{pluginConfig:p,children:[(0,l.jsxs)(n.p,{children:["PID auto-tuning implementation using relay feedback method. ",(0,l.jsx)("a",{href:"#details",children:"More..."})]}),(0,l.jsx)(n.h2,{id:"included-headers",children:"Included Headers"}),(0,l.jsxs)(x.A,{children:[(0,l.jsx)(o.A,{filePath:"core/auto_tuner.h",permalink:"/desoldering-station-docs/docs/api/files/include/core/auto-tuner-h",isLocal:"true"}),(0,l.jsx)(o.A,{filePath:"core/pico_log.h",permalink:"/desoldering-station-docs/docs/api/files/include/core/pico-log-h",isLocal:"true"}),(0,l.jsx)(o.A,{filePath:"Arduino.h",permalink:"",isLocal:"false"}),(0,l.jsx)(o.A,{filePath:"cmath",permalink:"",isLocal:"false"}),(0,l.jsx)(o.A,{filePath:"cstring",permalink:"",isLocal:"false"})]}),(0,l.jsx)(n.h2,{id:"classes-index",children:"Classes Index"}),(0,l.jsxs)(A.A,{children:[(0,l.jsx)(h.A,{type:"struct",name:(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(n.a,{href:"/desoldering-station-docs/docs/api/structs/oscillation-point-t",children:"oscillation_point_t"})}),children:(0,l.jsxs)(n.p,{children:["Peak/trough data for oscillation analysis. ",(0,l.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/oscillation-point-t/#details",children:"More..."})]})}),(0,l.jsx)(h.A,{type:"struct",name:(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(n.a,{href:"/desoldering-station-docs/docs/api/structs/auto-tune-ctx-t",children:"auto_tune_ctx_t"})}),children:(0,l.jsxs)(n.p,{children:["Internal auto-tune context. ",(0,l.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/auto-tune-ctx-t/#details",children:"More..."})]})})]}),(0,l.jsx)(n.h2,{id:"functions-index",children:"Functions Index"}),(0,l.jsxs)(A.A,{children:[(0,l.jsx)(h.A,{type:"void",name:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.a,{href:"#a84c85d38aa77a427875fdc54f2aecdf1",children:"analyze_results"})," (void)"]}),children:(0,l.jsxs)(n.p,{children:["Analyze collected data and calculate PID parameters. ",(0,l.jsx)("a",{href:"#a84c85d38aa77a427875fdc54f2aecdf1",children:"More..."})]})}),(0,l.jsx)(h.A,{type:(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(n.a,{href:"/desoldering-station-docs/docs/api/structs/auto-tune-config-t",children:"auto_tune_config_t"})}),name:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.a,{href:"#a22571b8869e3dcc534f3a41be3be8ebe",children:"auto_tune_default_config"})," (void)"]}),children:(0,l.jsxs)(n.p,{children:["Get default auto-tune configuration. ",(0,l.jsx)("a",{href:"#a22571b8869e3dcc534f3a41be3be8ebe",children:"More..."})]})}),(0,l.jsx)(h.A,{type:"void",name:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.a,{href:"#a156baffd4ab2f83e2701dd5681df552f",children:"auto_tune_get_progress"})," (auto_tune_progress_t *progress)"]}),children:(0,l.jsxs)(n.p,{children:["Get auto-tuning progress information. ",(0,l.jsx)("a",{href:"#a156baffd4ab2f83e2701dd5681df552f",children:"More..."})]})}),(0,l.jsx)(h.A,{type:"bool",name:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.a,{href:"#a3cfaf7e30c54941858220d3cf028166c",children:"auto_tune_get_result"})," (auto_tune_result_t *result)"]}),children:(0,l.jsxs)(n.p,{children:["Get auto-tuning results. ",(0,l.jsx)("a",{href:"#a3cfaf7e30c54941858220d3cf028166c",children:"More..."})]})}),(0,l.jsx)(h.A,{type:(0,l.jsx)(l.Fragment,{children:"auto_tune_state_t"}),name:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.a,{href:"#a86db5e15b306725d7fcc2dc7605a63f0",children:"auto_tune_get_state"})," (void)"]}),children:(0,l.jsxs)(n.p,{children:["Get current auto-tuning state. ",(0,l.jsx)("a",{href:"#a86db5e15b306725d7fcc2dc7605a63f0",children:"More..."})]})}),(0,l.jsx)(h.A,{type:(0,l.jsx)(l.Fragment,{children:"uint16_t"}),name:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.a,{href:"#a8b14669d5934a00d74009b576943e67a",children:"auto_tune_get_target_temperature"})," (void)"]}),children:(0,l.jsxs)(n.p,{children:["Get target temperature for current tuning session. ",(0,l.jsx)("a",{href:"#a8b14669d5934a00d74009b576943e67a",children:"More..."})]})}),(0,l.jsx)(h.A,{type:"bool",name:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.a,{href:"#a93692918a460a3b52ce705776651c0f5",children:"auto_tune_is_running"})," (void)"]}),children:(0,l.jsxs)(n.p,{children:["Check if auto-tuning is currently active. ",(0,l.jsx)("a",{href:"#a93692918a460a3b52ce705776651c0f5",children:"More..."})]})}),(0,l.jsx)(h.A,{type:"bool",name:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.a,{href:"#aeb8b96560c725bb919f45c256447682e",children:"auto_tune_start"})," (const auto_tune_config_t *config)"]}),children:(0,l.jsxs)(n.p,{children:["Start auto-tuning process. ",(0,l.jsx)("a",{href:"#aeb8b96560c725bb919f45c256447682e",children:"More..."})]})}),(0,l.jsx)(h.A,{type:"void",name:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.a,{href:"#a3e4bc2b160d818d22c4ebad50ae76f3a",children:"auto_tune_stop"})," (void)"]}),children:(0,l.jsxs)(n.p,{children:["Stop/cancel auto-tuning process. ",(0,l.jsx)("a",{href:"#a3e4bc2b160d818d22c4ebad50ae76f3a",children:"More..."})]})}),(0,l.jsx)(h.A,{type:(0,l.jsx)(l.Fragment,{children:"uint8_t"}),name:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.a,{href:"#a4e45392ff4aa4304006bf5694a76a5c6",children:"auto_tune_update"})," (float current_temp)"]}),children:(0,l.jsxs)(n.p,{children:["Update auto-tuning state machine. ",(0,l.jsx)("a",{href:"#a4e45392ff4aa4304006bf5694a76a5c6",children:"More..."})]})}),(0,l.jsx)(h.A,{type:"float",name:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.a,{href:"#a420a5175d4fe9c4423e6b63ef6f62a41",children:"calculate_average_amplitude"})," (void)"]}),children:(0,l.jsxs)(n.p,{children:["Calculate average oscillation amplitude. ",(0,l.jsx)("a",{href:"#a420a5175d4fe9c4423e6b63ef6f62a41",children:"More..."})]})}),(0,l.jsx)(h.A,{type:"float",name:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.a,{href:"#af21865dc9e2aae1b2eaeb04923b57850",children:"calculate_average_period"})," (void)"]}),children:(0,l.jsxs)(n.p,{children:["Calculate average oscillation period from recorded points. ",(0,l.jsx)("a",{href:"#af21865dc9e2aae1b2eaeb04923b57850",children:"More..."})]})}),(0,l.jsx)(h.A,{type:"void",name:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.a,{href:"#aa60d77798014e779cd05b101fca67f09",children:"calculate_pid_parameters"})," (void)"]}),children:(0,l.jsxs)(n.p,{children:["Calculate PID parameters using Ziegler-Nichols and conservative methods. ",(0,l.jsx)("a",{href:"#aa60d77798014e779cd05b101fca67f09",children:"More..."})]})}),(0,l.jsx)(h.A,{type:"void",name:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.a,{href:"#a7b7f0d2237fe1b1e09e3f304270eb645",children:"enter_state"})," (auto_tune_state_t new_state)"]})}),(0,l.jsx)(h.A,{type:"void",name:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.a,{href:"#a375a63a1e634707035ac99e79e19ca85",children:"record_point"})," (float temp, bool is_peak)"]}),children:(0,l.jsxs)(n.p,{children:["Record an oscillation peak or trough. ",(0,l.jsx)("a",{href:"#a375a63a1e634707035ac99e79e19ca85",children:"More..."})]})}),(0,l.jsx)(h.A,{type:"void",name:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.a,{href:"#a25480d8d822206a37bf0303aa5bf77b4",children:"reset_context"})," (void)"]})}),(0,l.jsx)(h.A,{type:(0,l.jsx)(l.Fragment,{children:"uint8_t"}),name:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.a,{href:"#a653d69d04f34d46d39cc829ffc23e729",children:"update_heating"})," (float current_temp)"]}),children:(0,l.jsxs)(n.p,{children:["Update during initial heating phase. ",(0,l.jsx)("a",{href:"#a653d69d04f34d46d39cc829ffc23e729",children:"More..."})]})}),(0,l.jsx)(h.A,{type:(0,l.jsx)(l.Fragment,{children:"uint8_t"}),name:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.a,{href:"#a0b10a211a0adbfb8bd052c04f3743b0b",children:"update_relay_high"})," (float current_temp)"]}),children:(0,l.jsxs)(n.p,{children:["Update during relay HIGH (heating) phase. ",(0,l.jsx)("a",{href:"#a0b10a211a0adbfb8bd052c04f3743b0b",children:"More..."})]})}),(0,l.jsx)(h.A,{type:(0,l.jsx)(l.Fragment,{children:"uint8_t"}),name:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.a,{href:"#a249fd6875aba0a09666952008afd943e",children:"update_relay_low"})," (float current_temp)"]}),children:(0,l.jsxs)(n.p,{children:["Update during relay LOW (cooling) phase. ",(0,l.jsx)("a",{href:"#a249fd6875aba0a09666952008afd943e",children:"More..."})]})})]}),(0,l.jsx)(n.h2,{id:"variables-index",children:"Variables Index"}),(0,l.jsxs)(A.A,{children:[(0,l.jsx)(h.A,{type:(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(n.a,{href:"/desoldering-station-docs/docs/api/structs/auto-tune-ctx-t",children:"auto_tune_ctx_t"})}),name:(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(n.a,{href:"#ae86f93088472ba2f94825c62d7a57b76",children:"g_ctx"})})}),(0,l.jsx)(h.A,{type:"float",name:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.a,{href:"#a74e33bf3707e29173c36e86f6abc3686",children:"HYSTERESIS_DEFAULT"})," = 3.0f"]})}),(0,l.jsx)(h.A,{type:(0,l.jsx)(l.Fragment,{children:"uint8_t"}),name:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.a,{href:"#abebd37fa4f14a89a40e48a4873c10977",children:"MAX_CYCLES_DEFAULT"})," = 10"]})}),(0,l.jsx)(h.A,{type:(0,l.jsx)(l.Fragment,{children:"uint8_t"}),name:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.a,{href:"#a032b018144d81c7933141784d3fcd18b",children:"MAX_PEAKS"})," = 20"]})}),(0,l.jsx)(h.A,{type:(0,l.jsx)(l.Fragment,{children:"uint8_t"}),name:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.a,{href:"#a74a18928900c6cc8e2b1fde99beea074",children:"MIN_CYCLES_DEFAULT"})," = 4"]})}),(0,l.jsx)(h.A,{type:(0,l.jsx)(l.Fragment,{children:"const char *"}),name:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.a,{href:"#a5a85b9c772bbeb480b209a3e6ea92b4c",children:"TAG"}),' = "auto_tuner"']})}),(0,l.jsx)(h.A,{type:(0,l.jsx)(l.Fragment,{children:"uint16_t"}),name:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.a,{href:"#aeca4d0ebe84ffda105b956d97b18d56d",children:"TARGET_TEMP_DEFAULT"})," = 350"]})}),(0,l.jsx)(h.A,{type:(0,l.jsx)(l.Fragment,{children:"uint32_t"}),name:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.a,{href:"#a3ff0b18f853426e936c1e3297a2b6aba",children:"TIMEOUT_MS_DEFAULT"})," = 600000"]})})]}),(0,l.jsx)(n.h2,{id:"details",children:"Description"}),(0,l.jsx)(n.p,{children:"PID auto-tuning implementation using relay feedback method."}),(0,l.jsx)(n.p,{children:"Implements the \xc5str\xf6m-H\xe4gglund relay feedback method for automatic PID parameter identification with thermal lag compensation."}),(0,l.jsxs)(_.A,{children:[(0,l.jsx)(n.h2,{id:"functions",children:"Functions"}),(0,l.jsx)(n.h3,{id:"a84c85d38aa77a427875fdc54f2aecdf1",children:"analyze_results()"}),(0,l.jsxs)(j.A,{prototype:(0,l.jsx)(l.Fragment,{children:"static void analyze_results (void)"}),labels:["static"],children:[(0,l.jsx)(n.p,{children:"Analyze collected data and calculate PID parameters."}),(0,l.jsxs)(n.p,{children:["Definition at line ",(0,l.jsx)("a",{href:"#l00487",children:"487"})," of file ",(0,l.jsx)("a",{href:"/desoldering-station-docs/docs/api/files/src/core/auto-tuner-cpp",children:"auto_tuner.cpp"}),"."]})]}),(0,l.jsx)(n.h3,{id:"a22571b8869e3dcc534f3a41be3be8ebe",children:"auto_tune_default_config()"}),(0,l.jsxs)(j.A,{prototype:(0,l.jsx)(l.Fragment,{children:"auto_tune_config_t auto_tune_default_config (void)"}),children:[(0,l.jsx)(n.p,{children:"Get default auto-tune configuration."}),(0,l.jsx)(f.A,{title:"Returns",children:(0,l.jsx)(n.p,{children:"Default configuration values"})}),(0,l.jsxs)(n.p,{children:["Definition at line ",(0,l.jsx)("a",{href:"#l00092",children:"92"})," of file ",(0,l.jsx)("a",{href:"/desoldering-station-docs/docs/api/files/src/core/auto-tuner-cpp",children:"auto_tuner.cpp"}),"."]})]}),(0,l.jsx)(n.h3,{id:"a156baffd4ab2f83e2701dd5681df552f",children:"auto_tune_get_progress()"}),(0,l.jsxs)(j.A,{prototype:(0,l.jsxs)(l.Fragment,{children:["void auto_tune_get_progress (",(0,l.jsx)(n.a,{href:"/desoldering-station-docs/docs/api/structs/auto-tune-progress-t",children:"auto_tune_progress_t"})," * progress)"]}),children:[(0,l.jsx)(n.p,{children:"Get auto-tuning progress information."}),(0,l.jsx)(m.A,{title:"Parameters",children:(0,l.jsx)(u.A,{name:"progress",children:"Pointer to progress structure to fill"})}),(0,l.jsxs)(n.p,{children:["Definition at line ",(0,l.jsx)("a",{href:"#l00194",children:"194"})," of file ",(0,l.jsx)("a",{href:"/desoldering-station-docs/docs/api/files/src/core/auto-tuner-cpp",children:"auto_tuner.cpp"}),"."]})]}),(0,l.jsx)(n.h3,{id:"a3cfaf7e30c54941858220d3cf028166c",children:"auto_tune_get_result()"}),(0,l.jsxs)(j.A,{prototype:(0,l.jsxs)(l.Fragment,{children:["bool auto_tune_get_result (",(0,l.jsx)(n.a,{href:"/desoldering-station-docs/docs/api/structs/auto-tune-result-t",children:"auto_tune_result_t"})," * result)"]}),children:[(0,l.jsx)(n.p,{children:"Get auto-tuning results."}),(0,l.jsx)(n.p,{children:"Only valid when state is AUTO_TUNE_COMPLETE."}),(0,l.jsx)(m.A,{title:"Parameters",children:(0,l.jsx)(u.A,{name:"result",children:"Pointer to result structure to fill"})}),(0,l.jsx)(f.A,{title:"Returns",children:(0,l.jsx)(n.p,{children:"true if results available, false otherwise"})}),(0,l.jsxs)(n.p,{children:["Definition at line ",(0,l.jsx)("a",{href:"#l00226",children:"226"})," of file ",(0,l.jsx)("a",{href:"/desoldering-station-docs/docs/api/files/src/core/auto-tuner-cpp",children:"auto_tuner.cpp"}),"."]})]}),(0,l.jsx)(n.h3,{id:"a86db5e15b306725d7fcc2dc7605a63f0",children:"auto_tune_get_state()"}),(0,l.jsxs)(j.A,{prototype:(0,l.jsx)(l.Fragment,{children:"auto_tune_state_t auto_tune_get_state (void)"}),children:[(0,l.jsx)(n.p,{children:"Get current auto-tuning state."}),(0,l.jsx)(f.A,{title:"Returns",children:(0,l.jsx)(n.p,{children:"Current state"})}),(0,l.jsxs)(n.p,{children:["Definition at line ",(0,l.jsx)("a",{href:"#l00190",children:"190"})," of file ",(0,l.jsx)("a",{href:"/desoldering-station-docs/docs/api/files/src/core/auto-tuner-cpp",children:"auto_tuner.cpp"}),"."]})]}),(0,l.jsx)(n.h3,{id:"a8b14669d5934a00d74009b576943e67a",children:"auto_tune_get_target_temperature()"}),(0,l.jsxs)(j.A,{prototype:(0,l.jsx)(l.Fragment,{children:"uint16_t auto_tune_get_target_temperature (void)"}),children:[(0,l.jsx)(n.p,{children:"Get target temperature for current tuning session."}),(0,l.jsx)(f.A,{title:"Returns",children:(0,l.jsx)(n.p,{children:"Target temperature in \xb0C, or 0 if not running"})}),(0,l.jsxs)(n.p,{children:["Definition at line ",(0,l.jsx)("a",{href:"#l00237",children:"237"})," of file ",(0,l.jsx)("a",{href:"/desoldering-station-docs/docs/api/files/src/core/auto-tuner-cpp",children:"auto_tuner.cpp"}),"."]})]}),(0,l.jsx)(n.h3,{id:"a93692918a460a3b52ce705776651c0f5",children:"auto_tune_is_running()"}),(0,l.jsxs)(j.A,{prototype:(0,l.jsx)(l.Fragment,{children:"bool auto_tune_is_running (void)"}),children:[(0,l.jsx)(n.p,{children:"Check if auto-tuning is currently active."}),(0,l.jsx)(f.A,{title:"Returns",children:(0,l.jsx)(n.p,{children:"true if running, false otherwise"})}),(0,l.jsxs)(n.p,{children:["Definition at line ",(0,l.jsx)("a",{href:"#l00183",children:"183"})," of file ",(0,l.jsx)("a",{href:"/desoldering-station-docs/docs/api/files/src/core/auto-tuner-cpp",children:"auto_tuner.cpp"}),"."]})]}),(0,l.jsx)(n.h3,{id:"aeb8b96560c725bb919f45c256447682e",children:"auto_tune_start()"}),(0,l.jsxs)(j.A,{prototype:(0,l.jsxs)(l.Fragment,{children:["bool auto_tune_start (const ",(0,l.jsx)(n.a,{href:"/desoldering-station-docs/docs/api/structs/auto-tune-config-t",children:"auto_tune_config_t"})," * config)"]}),children:[(0,l.jsx)(n.p,{children:"Start auto-tuning process."}),(0,l.jsx)(m.A,{title:"Parameters",children:(0,l.jsx)(u.A,{name:"config",children:"Configuration parameters (NULL for defaults)"})}),(0,l.jsx)(f.A,{title:"Returns",children:(0,l.jsx)(n.p,{children:"true if started successfully, false if already running or error"})}),(0,l.jsxs)(n.p,{children:["Definition at line ",(0,l.jsx)("a",{href:"#l00105",children:"105"})," of file ",(0,l.jsx)("a",{href:"/desoldering-station-docs/docs/api/files/src/core/auto-tuner-cpp",children:"auto_tuner.cpp"}),"."]})]}),(0,l.jsx)(n.h3,{id:"a3e4bc2b160d818d22c4ebad50ae76f3a",children:"auto_tune_stop()"}),(0,l.jsxs)(j.A,{prototype:(0,l.jsx)(l.Fragment,{children:"void auto_tune_stop (void)"}),children:[(0,l.jsx)(n.p,{children:"Stop/cancel auto-tuning process."}),(0,l.jsxs)(n.p,{children:["Definition at line ",(0,l.jsx)("a",{href:"#l00132",children:"132"})," of file ",(0,l.jsx)("a",{href:"/desoldering-station-docs/docs/api/files/src/core/auto-tuner-cpp",children:"auto_tuner.cpp"}),"."]})]}),(0,l.jsx)(n.h3,{id:"a4e45392ff4aa4304006bf5694a76a5c6",children:"auto_tune_update()"}),(0,l.jsxs)(j.A,{prototype:(0,l.jsx)(l.Fragment,{children:"uint8_t auto_tune_update (float current_temp)"}),children:[(0,l.jsx)(n.p,{children:"Update auto-tuning state machine."}),(0,l.jsx)(n.p,{children:"Must be called periodically (typically from heater task at 10Hz)."}),(0,l.jsx)(m.A,{title:"Parameters",children:(0,l.jsx)(u.A,{name:"current_temp",children:"Current filtered temperature reading"})}),(0,l.jsx)(f.A,{title:"Returns",children:(0,l.jsx)(n.p,{children:"Current power output percentage (0-100) to apply"})}),(0,l.jsxs)(n.p,{children:["Definition at line ",(0,l.jsx)("a",{href:"#l00142",children:"142"})," of file ",(0,l.jsx)("a",{href:"/desoldering-station-docs/docs/api/files/src/core/auto-tuner-cpp",children:"auto_tuner.cpp"}),"."]})]}),(0,l.jsx)(n.h3,{id:"a420a5175d4fe9c4423e6b63ef6f62a41",children:"calculate_average_amplitude()"}),(0,l.jsxs)(j.A,{prototype:(0,l.jsx)(l.Fragment,{children:"static float calculate_average_amplitude (void)"}),labels:["static"],children:[(0,l.jsx)(n.p,{children:"Calculate average oscillation amplitude."}),(0,l.jsxs)(n.p,{children:["Definition at line ",(0,l.jsx)("a",{href:"#l00460",children:"460"})," of file ",(0,l.jsx)("a",{href:"/desoldering-station-docs/docs/api/files/src/core/auto-tuner-cpp",children:"auto_tuner.cpp"}),"."]})]}),(0,l.jsx)(n.h3,{id:"af21865dc9e2aae1b2eaeb04923b57850",children:"calculate_average_period()"}),(0,l.jsxs)(j.A,{prototype:(0,l.jsx)(l.Fragment,{children:"static float calculate_average_period (void)"}),labels:["static"],children:[(0,l.jsx)(n.p,{children:"Calculate average oscillation period from recorded points."}),(0,l.jsxs)(n.p,{children:["Definition at line ",(0,l.jsx)("a",{href:"#l00432",children:"432"})," of file ",(0,l.jsx)("a",{href:"/desoldering-station-docs/docs/api/files/src/core/auto-tuner-cpp",children:"auto_tuner.cpp"}),"."]})]}),(0,l.jsx)(n.h3,{id:"aa60d77798014e779cd05b101fca67f09",children:"calculate_pid_parameters()"}),(0,l.jsxs)(j.A,{prototype:(0,l.jsx)(l.Fragment,{children:"static void calculate_pid_parameters (void)"}),labels:["static"],children:[(0,l.jsx)(n.p,{children:"Calculate PID parameters using Ziegler-Nichols and conservative methods."}),(0,l.jsxs)(n.p,{children:["Definition at line ",(0,l.jsx)("a",{href:"#l00544",children:"544"})," of file ",(0,l.jsx)("a",{href:"/desoldering-station-docs/docs/api/files/src/core/auto-tuner-cpp",children:"auto_tuner.cpp"}),"."]})]}),(0,l.jsx)(n.h3,{id:"a7b7f0d2237fe1b1e09e3f304270eb645",children:"enter_state()"}),(0,l.jsx)(j.A,{prototype:(0,l.jsx)(l.Fragment,{children:"static void enter_state (auto_tune_state_t new_state)"}),labels:["static"],children:(0,l.jsxs)(n.p,{children:["Definition at line ",(0,l.jsx)("a",{href:"#l00251",children:"251"})," of file ",(0,l.jsx)("a",{href:"/desoldering-station-docs/docs/api/files/src/core/auto-tuner-cpp",children:"auto_tuner.cpp"}),"."]})}),(0,l.jsx)(n.h3,{id:"a375a63a1e634707035ac99e79e19ca85",children:"record_point()"}),(0,l.jsxs)(j.A,{prototype:(0,l.jsx)(l.Fragment,{children:"static void record_point (float temp, bool is_peak)"}),labels:["static"],children:[(0,l.jsx)(n.p,{children:"Record an oscillation peak or trough."}),(0,l.jsxs)(n.p,{children:["Definition at line ",(0,l.jsx)("a",{href:"#l00414",children:"414"})," of file ",(0,l.jsx)("a",{href:"/desoldering-station-docs/docs/api/files/src/core/auto-tuner-cpp",children:"auto_tuner.cpp"}),"."]})]}),(0,l.jsx)(n.h3,{id:"a25480d8d822206a37bf0303aa5bf77b4",children:"reset_context()"}),(0,l.jsx)(j.A,{prototype:(0,l.jsx)(l.Fragment,{children:"static void reset_context (void)"}),labels:["static"],children:(0,l.jsxs)(n.p,{children:["Definition at line ",(0,l.jsx)("a",{href:"#l00246",children:"246"})," of file ",(0,l.jsx)("a",{href:"/desoldering-station-docs/docs/api/files/src/core/auto-tuner-cpp",children:"auto_tuner.cpp"}),"."]})}),(0,l.jsx)(n.h3,{id:"a653d69d04f34d46d39cc829ffc23e729",children:"update_heating()"}),(0,l.jsxs)(j.A,{prototype:(0,l.jsx)(l.Fragment,{children:"static uint8_t update_heating (float current_temp)"}),labels:["static"],children:[(0,l.jsx)(n.p,{children:"Update during initial heating phase."}),(0,l.jsxs)(n.p,{children:["Definition at line ",(0,l.jsx)("a",{href:"#l00305",children:"305"})," of file ",(0,l.jsx)("a",{href:"/desoldering-station-docs/docs/api/files/src/core/auto-tuner-cpp",children:"auto_tuner.cpp"}),"."]})]}),(0,l.jsx)(n.h3,{id:"a0b10a211a0adbfb8bd052c04f3743b0b",children:"update_relay_high()"}),(0,l.jsxs)(j.A,{prototype:(0,l.jsx)(l.Fragment,{children:"static uint8_t update_relay_high (float current_temp)"}),labels:["static"],children:[(0,l.jsx)(n.p,{children:"Update during relay HIGH (heating) phase."}),(0,l.jsxs)(n.p,{children:["Definition at line ",(0,l.jsx)("a",{href:"#l00323",children:"323"})," of file ",(0,l.jsx)("a",{href:"/desoldering-station-docs/docs/api/files/src/core/auto-tuner-cpp",children:"auto_tuner.cpp"}),"."]})]}),(0,l.jsx)(n.h3,{id:"a249fd6875aba0a09666952008afd943e",children:"update_relay_low()"}),(0,l.jsxs)(j.A,{prototype:(0,l.jsx)(l.Fragment,{children:"static uint8_t update_relay_low (float current_temp)"}),labels:["static"],children:[(0,l.jsx)(n.p,{children:"Update during relay LOW (cooling) phase."}),(0,l.jsxs)(n.p,{children:["Definition at line ",(0,l.jsx)("a",{href:"#l00365",children:"365"})," of file ",(0,l.jsx)("a",{href:"/desoldering-station-docs/docs/api/files/src/core/auto-tuner-cpp",children:"auto_tuner.cpp"}),"."]})]})]}),(0,l.jsxs)(_.A,{children:[(0,l.jsx)(n.h2,{id:"variables",children:"Variables"}),(0,l.jsx)(n.h3,{id:"ae86f93088472ba2f94825c62d7a57b76",children:"g_ctx"}),(0,l.jsx)(j.A,{prototype:(0,l.jsx)(l.Fragment,{children:"auto_tune_ctx_t g_ctx"}),labels:["static"],children:(0,l.jsxs)(n.p,{children:["Definition at line ",(0,l.jsx)("a",{href:"#l00075",children:"75"})," of file ",(0,l.jsx)("a",{href:"/desoldering-station-docs/docs/api/files/src/core/auto-tuner-cpp",children:"auto_tuner.cpp"}),"."]})}),(0,l.jsx)(n.h3,{id:"a74e33bf3707e29173c36e86f6abc3686",children:"HYSTERESIS_DEFAULT"}),(0,l.jsx)(j.A,{prototype:(0,l.jsx)(l.Fragment,{children:"float HYSTERESIS_DEFAULT = 3.0f"}),labels:["constexpr","static"],children:(0,l.jsxs)(n.p,{children:["Definition at line ",(0,l.jsx)("a",{href:"#l00024",children:"24"})," of file ",(0,l.jsx)("a",{href:"/desoldering-station-docs/docs/api/files/src/core/auto-tuner-cpp",children:"auto_tuner.cpp"}),"."]})}),(0,l.jsx)(n.h3,{id:"abebd37fa4f14a89a40e48a4873c10977",children:"MAX_CYCLES_DEFAULT"}),(0,l.jsx)(j.A,{prototype:(0,l.jsx)(l.Fragment,{children:"uint8_t MAX_CYCLES_DEFAULT = 10"}),labels:["constexpr","static"],children:(0,l.jsxs)(n.p,{children:["Definition at line ",(0,l.jsx)("a",{href:"#l00022",children:"22"})," of file ",(0,l.jsx)("a",{href:"/desoldering-station-docs/docs/api/files/src/core/auto-tuner-cpp",children:"auto_tuner.cpp"}),"."]})}),(0,l.jsx)(n.h3,{id:"a032b018144d81c7933141784d3fcd18b",children:"MAX_PEAKS"}),(0,l.jsx)(j.A,{prototype:(0,l.jsx)(l.Fragment,{children:"uint8_t MAX_PEAKS = 20"}),labels:["constexpr","static"],children:(0,l.jsxs)(n.p,{children:["Definition at line ",(0,l.jsx)("a",{href:"#l00020",children:"20"})," of file ",(0,l.jsx)("a",{href:"/desoldering-station-docs/docs/api/files/src/core/auto-tuner-cpp",children:"auto_tuner.cpp"}),"."]})}),(0,l.jsx)(n.h3,{id:"a74a18928900c6cc8e2b1fde99beea074",children:"MIN_CYCLES_DEFAULT"}),(0,l.jsx)(j.A,{prototype:(0,l.jsx)(l.Fragment,{children:"uint8_t MIN_CYCLES_DEFAULT = 4"}),labels:["constexpr","static"],children:(0,l.jsxs)(n.p,{children:["Definition at line ",(0,l.jsx)("a",{href:"#l00021",children:"21"})," of file ",(0,l.jsx)("a",{href:"/desoldering-station-docs/docs/api/files/src/core/auto-tuner-cpp",children:"auto_tuner.cpp"}),"."]})}),(0,l.jsx)(n.h3,{id:"a5a85b9c772bbeb480b209a3e6ea92b4c",children:"TAG"}),(0,l.jsx)(j.A,{prototype:(0,l.jsx)(l.Fragment,{children:'const char* TAG = "auto_tuner"'}),labels:["static"],children:(0,l.jsxs)(n.p,{children:["Definition at line ",(0,l.jsx)("a",{href:"#l00016",children:"16"})," of file ",(0,l.jsx)("a",{href:"/desoldering-station-docs/docs/api/files/src/core/auto-tuner-cpp",children:"auto_tuner.cpp"}),"."]})}),(0,l.jsx)(n.h3,{id:"aeca4d0ebe84ffda105b956d97b18d56d",children:"TARGET_TEMP_DEFAULT"}),(0,l.jsx)(j.A,{prototype:(0,l.jsx)(l.Fragment,{children:"uint16_t TARGET_TEMP_DEFAULT = 350"}),labels:["constexpr","static"],children:(0,l.jsxs)(n.p,{children:["Definition at line ",(0,l.jsx)("a",{href:"#l00025",children:"25"})," of file ",(0,l.jsx)("a",{href:"/desoldering-station-docs/docs/api/files/src/core/auto-tuner-cpp",children:"auto_tuner.cpp"}),"."]})}),(0,l.jsx)(n.h3,{id:"a3ff0b18f853426e936c1e3297a2b6aba",children:"TIMEOUT_MS_DEFAULT"}),(0,l.jsx)(j.A,{prototype:(0,l.jsx)(l.Fragment,{children:"uint32_t TIMEOUT_MS_DEFAULT = 600000"}),labels:["constexpr","static"],children:(0,l.jsxs)(n.p,{children:["Definition at line ",(0,l.jsx)("a",{href:"#l00023",children:"23"})," of file ",(0,l.jsx)("a",{href:"/desoldering-station-docs/docs/api/files/src/core/auto-tuner-cpp",children:"auto_tuner.cpp"}),"."]})})]}),(0,l.jsx)(n.h2,{id:"file-listing",children:"File Listing"}),(0,l.jsx)(n.p,{children:"The file content with the documentation metadata removed is:"}),(0,l.jsxs)(k.A,{children:[(0,l.jsx)(s.A,{id:"l00001"}),(0,l.jsx)(c.A,{lineNumber:"1",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00008"}),(0,l.jsx)(c.A,{lineNumber:"8",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00009"}),(0,l.jsxs)(c.A,{lineNumber:"9",children:[(0,l.jsx)(a.A,{kind:"normal"}),(0,l.jsx)(a.A,{kind:"preprocessor",children:'#include "core/auto_tuner.h"'}),(0,l.jsx)(a.A,{kind:"normal"})]}),(0,l.jsx)(s.A,{id:"l00010"}),(0,l.jsxs)(c.A,{lineNumber:"10",children:[(0,l.jsx)(a.A,{kind:"normal"}),(0,l.jsx)(a.A,{kind:"preprocessor",children:'#include "core/pico_log.h"'}),(0,l.jsx)(a.A,{kind:"normal"})]}),(0,l.jsx)(s.A,{id:"l00011"}),(0,l.jsx)(c.A,{lineNumber:"11",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00012"}),(0,l.jsxs)(c.A,{lineNumber:"12",children:[(0,l.jsx)(a.A,{kind:"normal"}),(0,l.jsx)(a.A,{kind:"preprocessor",children:"#include <Arduino.h>"}),(0,l.jsx)(a.A,{kind:"normal"})]}),(0,l.jsx)(s.A,{id:"l00013"}),(0,l.jsxs)(c.A,{lineNumber:"13",children:[(0,l.jsx)(a.A,{kind:"normal"}),(0,l.jsx)(a.A,{kind:"preprocessor",children:"#include <cmath>"}),(0,l.jsx)(a.A,{kind:"normal"})]}),(0,l.jsx)(s.A,{id:"l00014"}),(0,l.jsxs)(c.A,{lineNumber:"14",children:[(0,l.jsx)(a.A,{kind:"normal"}),(0,l.jsx)(a.A,{kind:"preprocessor",children:"#include <cstring>"}),(0,l.jsx)(a.A,{kind:"normal"})]}),(0,l.jsx)(s.A,{id:"l00015"}),(0,l.jsx)(c.A,{lineNumber:"15",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00016"}),(0,l.jsxs)(c.A,{lineNumber:"16",children:[(0,l.jsx)(a.A,{kind:"normal"}),(0,l.jsx)(a.A,{kind:"keyword",children:"static"}),(0,l.jsx)(a.A,{kind:"normal",children:" "}),(0,l.jsx)(a.A,{kind:"keyword",children:"const"}),(0,l.jsx)(a.A,{kind:"normal",children:" "}),(0,l.jsx)(a.A,{kind:"keywordtype",children:"char"}),(0,l.jsx)(a.A,{kind:"normal",children:"* TAG = "}),(0,l.jsx)(a.A,{kind:"stringliteral",children:'"auto_tuner"'}),(0,l.jsx)(a.A,{kind:"normal",children:";"})]}),(0,l.jsx)(s.A,{id:"l00017"}),(0,l.jsx)(c.A,{lineNumber:"17",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00018"}),(0,l.jsxs)(c.A,{lineNumber:"18",children:[(0,l.jsx)(a.A,{kind:"normal"}),(0,l.jsx)(a.A,{kind:"comment",children:"// =====================  CONFIGURATION CONSTANTS ====================="}),(0,l.jsx)(a.A,{kind:"normal"})]}),(0,l.jsx)(s.A,{id:"l00019"}),(0,l.jsx)(c.A,{lineNumber:"19",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00020"}),(0,l.jsxs)(c.A,{lineNumber:"20",children:[(0,l.jsx)(a.A,{kind:"normal"}),(0,l.jsx)(a.A,{kind:"keyword",children:"static"}),(0,l.jsx)(a.A,{kind:"normal",children:" "}),(0,l.jsx)(a.A,{kind:"keyword",children:"constexpr"}),(0,l.jsx)(a.A,{kind:"normal",children:" uint8_t  MAX_PEAKS          = 20;     "}),(0,l.jsx)(a.A,{kind:"comment",children:"// Max peaks to store for analysis"}),(0,l.jsx)(a.A,{kind:"normal"})]}),(0,l.jsx)(s.A,{id:"l00021"}),(0,l.jsxs)(c.A,{lineNumber:"21",children:[(0,l.jsx)(a.A,{kind:"normal"}),(0,l.jsx)(a.A,{kind:"keyword",children:"static"}),(0,l.jsx)(a.A,{kind:"normal",children:" "}),(0,l.jsx)(a.A,{kind:"keyword",children:"constexpr"}),(0,l.jsx)(a.A,{kind:"normal",children:" uint8_t  MIN_CYCLES_DEFAULT = 4;      "}),(0,l.jsx)(a.A,{kind:"comment",children:"// Minimum cycles for valid result"}),(0,l.jsx)(a.A,{kind:"normal"})]}),(0,l.jsx)(s.A,{id:"l00022"}),(0,l.jsxs)(c.A,{lineNumber:"22",children:[(0,l.jsx)(a.A,{kind:"normal"}),(0,l.jsx)(a.A,{kind:"keyword",children:"static"}),(0,l.jsx)(a.A,{kind:"normal",children:" "}),(0,l.jsx)(a.A,{kind:"keyword",children:"constexpr"}),(0,l.jsx)(a.A,{kind:"normal",children:" uint8_t  MAX_CYCLES_DEFAULT = 10;     "}),(0,l.jsx)(a.A,{kind:"comment",children:"// Maximum cycles before stopping"}),(0,l.jsx)(a.A,{kind:"normal"})]}),(0,l.jsx)(s.A,{id:"l00023"}),(0,l.jsxs)(c.A,{lineNumber:"23",children:[(0,l.jsx)(a.A,{kind:"normal"}),(0,l.jsx)(a.A,{kind:"keyword",children:"static"}),(0,l.jsx)(a.A,{kind:"normal",children:" "}),(0,l.jsx)(a.A,{kind:"keyword",children:"constexpr"}),(0,l.jsx)(a.A,{kind:"normal",children:" uint32_t TIMEOUT_MS_DEFAULT = 600000; "}),(0,l.jsx)(a.A,{kind:"comment",children:"// 10 minute timeout"}),(0,l.jsx)(a.A,{kind:"normal"})]}),(0,l.jsx)(s.A,{id:"l00024"}),(0,l.jsxs)(c.A,{lineNumber:"24",children:[(0,l.jsx)(a.A,{kind:"normal"}),(0,l.jsx)(a.A,{kind:"keyword",children:"static"}),(0,l.jsx)(a.A,{kind:"normal",children:" "}),(0,l.jsx)(a.A,{kind:"keyword",children:"constexpr"}),(0,l.jsx)(a.A,{kind:"normal",children:" "}),(0,l.jsx)(a.A,{kind:"keywordtype",children:"float"}),(0,l.jsx)(a.A,{kind:"normal",children:"    HYSTERESIS_DEFAULT = 3.0f;   "}),(0,l.jsx)(a.A,{kind:"comment",children:"// Default hysteresis band (\xb0C)"}),(0,l.jsx)(a.A,{kind:"normal"})]}),(0,l.jsx)(s.A,{id:"l00025"}),(0,l.jsxs)(c.A,{lineNumber:"25",children:[(0,l.jsx)(a.A,{kind:"normal"}),(0,l.jsx)(a.A,{kind:"keyword",children:"static"}),(0,l.jsx)(a.A,{kind:"normal",children:" "}),(0,l.jsx)(a.A,{kind:"keyword",children:"constexpr"}),(0,l.jsx)(a.A,{kind:"normal",children:" uint16_t TARGET_TEMP_DEFAULT = 350;   "}),(0,l.jsx)(a.A,{kind:"comment",children:"// Default target temperature"}),(0,l.jsx)(a.A,{kind:"normal"})]}),(0,l.jsx)(s.A,{id:"l00026"}),(0,l.jsx)(c.A,{lineNumber:"26",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00027"}),(0,l.jsxs)(c.A,{lineNumber:"27",children:[(0,l.jsx)(a.A,{kind:"normal"}),(0,l.jsx)(a.A,{kind:"comment",children:"// =====================  INTERNAL STATE ====================="}),(0,l.jsx)(a.A,{kind:"normal"})]}),(0,l.jsx)(s.A,{id:"l00028"}),(0,l.jsx)(c.A,{lineNumber:"28",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00032"}),(0,l.jsxs)(c.A,{lineNumber:"32",lineLink:"/desoldering-station-docs/docs/api/structs/oscillation-point-t",children:[(0,l.jsx)(a.A,{kind:"normal"}),(0,l.jsx)(a.A,{kind:"keyword",children:"typedef"}),(0,l.jsx)(a.A,{kind:"normal",children:" "}),(0,l.jsx)(a.A,{kind:"keyword",children:"struct "}),(0,l.jsx)(a.A,{kind:"normal",children:"{"})]}),(0,l.jsx)(s.A,{id:"l00033"}),(0,l.jsxs)(c.A,{lineNumber:"33",lineLink:"/desoldering-station-docs/docs/api/structs/oscillation-point-t/#afc1d28cfbce795d6ea954ebe725241f5",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"keywordtype",children:"float"}),(0,l.jsxs)(a.A,{kind:"normal",children:["    ",(0,l.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/oscillation-point-t/#afc1d28cfbce795d6ea954ebe725241f5",children:"temperature"}),";  "]})]}),(0,l.jsx)(s.A,{id:"l00034"}),(0,l.jsx)(c.A,{lineNumber:"34",lineLink:"/desoldering-station-docs/docs/api/structs/oscillation-point-t/#a7151fee88ade6cc487805f36f80cf619",children:(0,l.jsxs)(a.A,{kind:"normal",children:["    uint32_t ",(0,l.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/oscillation-point-t/#a7151fee88ade6cc487805f36f80cf619",children:"timestamp_ms"}),"; "]})}),(0,l.jsx)(s.A,{id:"l00035"}),(0,l.jsxs)(c.A,{lineNumber:"35",lineLink:"/desoldering-station-docs/docs/api/structs/oscillation-point-t/#a026b439459873275d16ee405c29256f1",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"keywordtype",children:"bool"}),(0,l.jsxs)(a.A,{kind:"normal",children:["     ",(0,l.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/oscillation-point-t/#a026b439459873275d16ee405c29256f1",children:"is_peak"}),";      "]})]}),(0,l.jsx)(s.A,{id:"l00036"}),(0,l.jsx)(c.A,{lineNumber:"36",children:(0,l.jsxs)(a.A,{kind:"normal",children:["} ",(0,l.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/oscillation-point-t",children:"oscillation_point_t"}),";"]})}),(0,l.jsx)(s.A,{id:"l00037"}),(0,l.jsx)(c.A,{lineNumber:"37",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00041"}),(0,l.jsxs)(c.A,{lineNumber:"41",lineLink:"/desoldering-station-docs/docs/api/structs/auto-tune-ctx-t",children:[(0,l.jsx)(a.A,{kind:"normal"}),(0,l.jsx)(a.A,{kind:"keyword",children:"typedef"}),(0,l.jsx)(a.A,{kind:"normal",children:" "}),(0,l.jsx)(a.A,{kind:"keyword",children:"struct "}),(0,l.jsx)(a.A,{kind:"normal",children:"{"})]}),(0,l.jsx)(s.A,{id:"l00042"}),(0,l.jsxs)(c.A,{lineNumber:"42",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"comment",children:"// Configuration"}),(0,l.jsx)(a.A,{kind:"normal"})]}),(0,l.jsx)(s.A,{id:"l00043"}),(0,l.jsx)(c.A,{lineNumber:"43",lineLink:"/desoldering-station-docs/docs/api/structs/auto-tune-ctx-t/#a36640d5e6b62bbd52ed3e5de11e621c5",children:(0,l.jsxs)(a.A,{kind:"normal",children:["    ",(0,l.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/auto-tune-config-t",children:"auto_tune_config_t"})," ",(0,l.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/auto-tune-ctx-t/#a36640d5e6b62bbd52ed3e5de11e621c5",children:"config"}),";"]})}),(0,l.jsx)(s.A,{id:"l00044"}),(0,l.jsx)(c.A,{lineNumber:"44",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00045"}),(0,l.jsxs)(c.A,{lineNumber:"45",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"comment",children:"// State"}),(0,l.jsx)(a.A,{kind:"normal"})]}),(0,l.jsx)(s.A,{id:"l00046"}),(0,l.jsx)(c.A,{lineNumber:"46",lineLink:"/desoldering-station-docs/docs/api/structs/auto-tune-ctx-t/#aa5e9da11dc05955cdc4f4d8d00501957",children:(0,l.jsxs)(a.A,{kind:"normal",children:["    auto_tune_state_t ",(0,l.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/auto-tune-ctx-t/#aa5e9da11dc05955cdc4f4d8d00501957",children:"state"}),";"]})}),(0,l.jsx)(s.A,{id:"l00047"}),(0,l.jsx)(c.A,{lineNumber:"47",lineLink:"/desoldering-station-docs/docs/api/structs/auto-tune-ctx-t/#a91cd2a2a0c6c422ff62aef7e75e220e3",children:(0,l.jsxs)(a.A,{kind:"normal",children:["    uint32_t ",(0,l.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/auto-tune-ctx-t/#a91cd2a2a0c6c422ff62aef7e75e220e3",children:"start_time_ms"}),";"]})}),(0,l.jsx)(s.A,{id:"l00048"}),(0,l.jsx)(c.A,{lineNumber:"48",lineLink:"/desoldering-station-docs/docs/api/structs/auto-tune-ctx-t/#a0eaf8ecfb4412cf71d285f18d732bf7c",children:(0,l.jsxs)(a.A,{kind:"normal",children:["    uint32_t ",(0,l.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/auto-tune-ctx-t/#a0eaf8ecfb4412cf71d285f18d732bf7c",children:"state_entry_time_ms"}),";"]})}),(0,l.jsx)(s.A,{id:"l00049"}),(0,l.jsx)(c.A,{lineNumber:"49",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00050"}),(0,l.jsxs)(c.A,{lineNumber:"50",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"comment",children:"// Relay control"}),(0,l.jsx)(a.A,{kind:"normal"})]}),(0,l.jsx)(s.A,{id:"l00051"}),(0,l.jsx)(c.A,{lineNumber:"51",lineLink:"/desoldering-station-docs/docs/api/structs/auto-tune-ctx-t/#aa139c54ca6adb570ece47bec46dd54a0",children:(0,l.jsxs)(a.A,{kind:"normal",children:["    uint8_t ",(0,l.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/auto-tune-ctx-t/#aa139c54ca6adb570ece47bec46dd54a0",children:"current_power"}),";"]})}),(0,l.jsx)(s.A,{id:"l00052"}),(0,l.jsxs)(c.A,{lineNumber:"52",lineLink:"/desoldering-station-docs/docs/api/structs/auto-tune-ctx-t/#a50bb77aa7fd57b0e4fd4ddce4745a568",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"keywordtype",children:"bool"}),(0,l.jsxs)(a.A,{kind:"normal",children:[" ",(0,l.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/auto-tune-ctx-t/#a50bb77aa7fd57b0e4fd4ddce4745a568",children:"relay_is_high"}),";"]})]}),(0,l.jsx)(s.A,{id:"l00053"}),(0,l.jsx)(c.A,{lineNumber:"53",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00054"}),(0,l.jsxs)(c.A,{lineNumber:"54",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"comment",children:"// Oscillation tracking"}),(0,l.jsx)(a.A,{kind:"normal"})]}),(0,l.jsx)(s.A,{id:"l00055"}),(0,l.jsx)(c.A,{lineNumber:"55",lineLink:"/desoldering-station-docs/docs/api/structs/auto-tune-ctx-t/#a50172bc08ac448852063e73ce2a9a9e1",children:(0,l.jsxs)(a.A,{kind:"normal",children:["    ",(0,l.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/oscillation-point-t",children:"oscillation_point_t"})," ",(0,l.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/auto-tune-ctx-t/#a50172bc08ac448852063e73ce2a9a9e1",children:"points"}),"[MAX_PEAKS];"]})}),(0,l.jsx)(s.A,{id:"l00056"}),(0,l.jsx)(c.A,{lineNumber:"56",lineLink:"/desoldering-station-docs/docs/api/structs/auto-tune-ctx-t/#a141b7b9fb5788808602eb1d492468576",children:(0,l.jsxs)(a.A,{kind:"normal",children:["    uint8_t ",(0,l.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/auto-tune-ctx-t/#a141b7b9fb5788808602eb1d492468576",children:"point_count"}),";"]})}),(0,l.jsx)(s.A,{id:"l00057"}),(0,l.jsx)(c.A,{lineNumber:"57",lineLink:"/desoldering-station-docs/docs/api/structs/auto-tune-ctx-t/#a937f74a65988b9e22241ab3765b82c50",children:(0,l.jsxs)(a.A,{kind:"normal",children:["    uint8_t ",(0,l.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/auto-tune-ctx-t/#a937f74a65988b9e22241ab3765b82c50",children:"cycle_count"}),";"]})}),(0,l.jsx)(s.A,{id:"l00058"}),(0,l.jsx)(c.A,{lineNumber:"58",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00059"}),(0,l.jsxs)(c.A,{lineNumber:"59",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"comment",children:"// Temperature tracking for peak detection"}),(0,l.jsx)(a.A,{kind:"normal"})]}),(0,l.jsx)(s.A,{id:"l00060"}),(0,l.jsxs)(c.A,{lineNumber:"60",lineLink:"/desoldering-station-docs/docs/api/structs/auto-tune-ctx-t/#a670d087169173e473c4c0528839d7200",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"keywordtype",children:"float"}),(0,l.jsxs)(a.A,{kind:"normal",children:[" ",(0,l.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/auto-tune-ctx-t/#a670d087169173e473c4c0528839d7200",children:"last_temp"}),";"]})]}),(0,l.jsx)(s.A,{id:"l00061"}),(0,l.jsxs)(c.A,{lineNumber:"61",lineLink:"/desoldering-station-docs/docs/api/structs/auto-tune-ctx-t/#a01f45c5138b2d4e7e6f5fecdb0a27b91",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"keywordtype",children:"float"}),(0,l.jsxs)(a.A,{kind:"normal",children:[" ",(0,l.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/auto-tune-ctx-t/#a01f45c5138b2d4e7e6f5fecdb0a27b91",children:"min_temp_in_half_cycle"}),";"]})]}),(0,l.jsx)(s.A,{id:"l00062"}),(0,l.jsxs)(c.A,{lineNumber:"62",lineLink:"/desoldering-station-docs/docs/api/structs/auto-tune-ctx-t/#a44800c0cf6776bae780037083f256652",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"keywordtype",children:"float"}),(0,l.jsxs)(a.A,{kind:"normal",children:[" ",(0,l.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/auto-tune-ctx-t/#a44800c0cf6776bae780037083f256652",children:"max_temp_in_half_cycle"}),";"]})]}),(0,l.jsx)(s.A,{id:"l00063"}),(0,l.jsx)(c.A,{lineNumber:"63",lineLink:"/desoldering-station-docs/docs/api/structs/auto-tune-ctx-t/#a3ffaeff233b58e5e503aaecacd215fa7",children:(0,l.jsxs)(a.A,{kind:"normal",children:["    uint32_t ",(0,l.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/auto-tune-ctx-t/#a3ffaeff233b58e5e503aaecacd215fa7",children:"last_crossing_time_ms"}),";"]})}),(0,l.jsx)(s.A,{id:"l00064"}),(0,l.jsx)(c.A,{lineNumber:"64",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00065"}),(0,l.jsxs)(c.A,{lineNumber:"65",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"comment",children:"// Thermal lag measurement"}),(0,l.jsx)(a.A,{kind:"normal"})]}),(0,l.jsx)(s.A,{id:"l00066"}),(0,l.jsx)(c.A,{lineNumber:"66",lineLink:"/desoldering-station-docs/docs/api/structs/auto-tune-ctx-t/#a386df5504bd6f7d6c6eccdac0096537c",children:(0,l.jsxs)(a.A,{kind:"normal",children:["    uint32_t ",(0,l.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/auto-tune-ctx-t/#a386df5504bd6f7d6c6eccdac0096537c",children:"relay_switch_time_ms"}),";"]})}),(0,l.jsx)(s.A,{id:"l00067"}),(0,l.jsxs)(c.A,{lineNumber:"67",lineLink:"/desoldering-station-docs/docs/api/structs/auto-tune-ctx-t/#a8ee7bfa4403ec8778fadf421e887dd5f",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"keywordtype",children:"float"}),(0,l.jsxs)(a.A,{kind:"normal",children:["    ",(0,l.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/auto-tune-ctx-t/#a8ee7bfa4403ec8778fadf421e887dd5f",children:"temp_at_relay_switch"}),";"]})]}),(0,l.jsx)(s.A,{id:"l00068"}),(0,l.jsxs)(c.A,{lineNumber:"68",lineLink:"/desoldering-station-docs/docs/api/structs/auto-tune-ctx-t/#ab6eabe03e966ff0d61ee6ff2a6e0cac3",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"keywordtype",children:"float"}),(0,l.jsxs)(a.A,{kind:"normal",children:["    ",(0,l.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/auto-tune-ctx-t/#ab6eabe03e966ff0d61ee6ff2a6e0cac3",children:"thermal_lag_sum_ms"}),";"]})]}),(0,l.jsx)(s.A,{id:"l00069"}),(0,l.jsx)(c.A,{lineNumber:"69",lineLink:"/desoldering-station-docs/docs/api/structs/auto-tune-ctx-t/#a7af35864009c9cb5cc3caef4d5868adf",children:(0,l.jsxs)(a.A,{kind:"normal",children:["    uint8_t  ",(0,l.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/auto-tune-ctx-t/#a7af35864009c9cb5cc3caef4d5868adf",children:"thermal_lag_samples"}),";"]})}),(0,l.jsx)(s.A,{id:"l00070"}),(0,l.jsx)(c.A,{lineNumber:"70",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00071"}),(0,l.jsxs)(c.A,{lineNumber:"71",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"comment",children:"// Results"}),(0,l.jsx)(a.A,{kind:"normal"})]}),(0,l.jsx)(s.A,{id:"l00072"}),(0,l.jsx)(c.A,{lineNumber:"72",lineLink:"/desoldering-station-docs/docs/api/structs/auto-tune-ctx-t/#a58da2c7c4d6b85f4329ce874dd97d06f",children:(0,l.jsxs)(a.A,{kind:"normal",children:["    ",(0,l.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/auto-tune-result-t",children:"auto_tune_result_t"})," ",(0,l.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/auto-tune-ctx-t/#a58da2c7c4d6b85f4329ce874dd97d06f",children:"result"}),";"]})}),(0,l.jsx)(s.A,{id:"l00073"}),(0,l.jsx)(c.A,{lineNumber:"73",children:(0,l.jsxs)(a.A,{kind:"normal",children:["} ",(0,l.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/auto-tune-ctx-t",children:"auto_tune_ctx_t"}),";"]})}),(0,l.jsx)(s.A,{id:"l00074"}),(0,l.jsx)(c.A,{lineNumber:"74",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00075"}),(0,l.jsxs)(c.A,{lineNumber:"75",children:[(0,l.jsx)(a.A,{kind:"normal"}),(0,l.jsx)(a.A,{kind:"keyword",children:"static"}),(0,l.jsxs)(a.A,{kind:"normal",children:[" ",(0,l.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/auto-tune-ctx-t",children:"auto_tune_ctx_t"})," g_ctx;"]})]}),(0,l.jsx)(s.A,{id:"l00076"}),(0,l.jsx)(c.A,{lineNumber:"76",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00077"}),(0,l.jsxs)(c.A,{lineNumber:"77",children:[(0,l.jsx)(a.A,{kind:"normal"}),(0,l.jsx)(a.A,{kind:"comment",children:"// =====================  FORWARD DECLARATIONS ====================="}),(0,l.jsx)(a.A,{kind:"normal"})]}),(0,l.jsx)(s.A,{id:"l00078"}),(0,l.jsx)(c.A,{lineNumber:"78",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00079"}),(0,l.jsxs)(c.A,{lineNumber:"79",children:[(0,l.jsx)(a.A,{kind:"normal"}),(0,l.jsx)(a.A,{kind:"keyword",children:"static"}),(0,l.jsx)(a.A,{kind:"normal",children:" "}),(0,l.jsx)(a.A,{kind:"keywordtype",children:"void"}),(0,l.jsx)(a.A,{kind:"normal",children:" reset_context("}),(0,l.jsx)(a.A,{kind:"keywordtype",children:"void"}),(0,l.jsx)(a.A,{kind:"normal",children:");"})]}),(0,l.jsx)(s.A,{id:"l00080"}),(0,l.jsxs)(c.A,{lineNumber:"80",children:[(0,l.jsx)(a.A,{kind:"normal"}),(0,l.jsx)(a.A,{kind:"keyword",children:"static"}),(0,l.jsx)(a.A,{kind:"normal",children:" "}),(0,l.jsx)(a.A,{kind:"keywordtype",children:"void"}),(0,l.jsx)(a.A,{kind:"normal",children:" enter_state(auto_tune_state_t new_state);"})]}),(0,l.jsx)(s.A,{id:"l00081"}),(0,l.jsxs)(c.A,{lineNumber:"81",children:[(0,l.jsx)(a.A,{kind:"normal"}),(0,l.jsx)(a.A,{kind:"keyword",children:"static"}),(0,l.jsx)(a.A,{kind:"normal",children:" uint8_t update_heating("}),(0,l.jsx)(a.A,{kind:"keywordtype",children:"float"}),(0,l.jsx)(a.A,{kind:"normal",children:" current_temp);"})]}),(0,l.jsx)(s.A,{id:"l00082"}),(0,l.jsxs)(c.A,{lineNumber:"82",children:[(0,l.jsx)(a.A,{kind:"normal"}),(0,l.jsx)(a.A,{kind:"keyword",children:"static"}),(0,l.jsx)(a.A,{kind:"normal",children:" uint8_t update_relay_high("}),(0,l.jsx)(a.A,{kind:"keywordtype",children:"float"}),(0,l.jsx)(a.A,{kind:"normal",children:" current_temp);"})]}),(0,l.jsx)(s.A,{id:"l00083"}),(0,l.jsxs)(c.A,{lineNumber:"83",children:[(0,l.jsx)(a.A,{kind:"normal"}),(0,l.jsx)(a.A,{kind:"keyword",children:"static"}),(0,l.jsx)(a.A,{kind:"normal",children:" uint8_t update_relay_low("}),(0,l.jsx)(a.A,{kind:"keywordtype",children:"float"}),(0,l.jsx)(a.A,{kind:"normal",children:" current_temp);"})]}),(0,l.jsx)(s.A,{id:"l00084"}),(0,l.jsxs)(c.A,{lineNumber:"84",children:[(0,l.jsx)(a.A,{kind:"normal"}),(0,l.jsx)(a.A,{kind:"keyword",children:"static"}),(0,l.jsx)(a.A,{kind:"normal",children:" "}),(0,l.jsx)(a.A,{kind:"keywordtype",children:"void"}),(0,l.jsx)(a.A,{kind:"normal",children:" analyze_results("}),(0,l.jsx)(a.A,{kind:"keywordtype",children:"void"}),(0,l.jsx)(a.A,{kind:"normal",children:");"})]}),(0,l.jsx)(s.A,{id:"l00085"}),(0,l.jsxs)(c.A,{lineNumber:"85",children:[(0,l.jsx)(a.A,{kind:"normal"}),(0,l.jsx)(a.A,{kind:"keyword",children:"static"}),(0,l.jsx)(a.A,{kind:"normal",children:" "}),(0,l.jsx)(a.A,{kind:"keywordtype",children:"void"}),(0,l.jsx)(a.A,{kind:"normal",children:" record_point("}),(0,l.jsx)(a.A,{kind:"keywordtype",children:"float"}),(0,l.jsx)(a.A,{kind:"normal",children:" temp, "}),(0,l.jsx)(a.A,{kind:"keywordtype",children:"bool"}),(0,l.jsx)(a.A,{kind:"normal",children:" is_peak);"})]}),(0,l.jsx)(s.A,{id:"l00086"}),(0,l.jsxs)(c.A,{lineNumber:"86",children:[(0,l.jsx)(a.A,{kind:"normal"}),(0,l.jsx)(a.A,{kind:"keyword",children:"static"}),(0,l.jsx)(a.A,{kind:"normal",children:" "}),(0,l.jsx)(a.A,{kind:"keywordtype",children:"float"}),(0,l.jsx)(a.A,{kind:"normal",children:" calculate_average_period("}),(0,l.jsx)(a.A,{kind:"keywordtype",children:"void"}),(0,l.jsx)(a.A,{kind:"normal",children:");"})]}),(0,l.jsx)(s.A,{id:"l00087"}),(0,l.jsxs)(c.A,{lineNumber:"87",children:[(0,l.jsx)(a.A,{kind:"normal"}),(0,l.jsx)(a.A,{kind:"keyword",children:"static"}),(0,l.jsx)(a.A,{kind:"normal",children:" "}),(0,l.jsx)(a.A,{kind:"keywordtype",children:"float"}),(0,l.jsx)(a.A,{kind:"normal",children:" calculate_average_amplitude("}),(0,l.jsx)(a.A,{kind:"keywordtype",children:"void"}),(0,l.jsx)(a.A,{kind:"normal",children:");"})]}),(0,l.jsx)(s.A,{id:"l00088"}),(0,l.jsxs)(c.A,{lineNumber:"88",children:[(0,l.jsx)(a.A,{kind:"normal"}),(0,l.jsx)(a.A,{kind:"keyword",children:"static"}),(0,l.jsx)(a.A,{kind:"normal",children:" "}),(0,l.jsx)(a.A,{kind:"keywordtype",children:"void"}),(0,l.jsx)(a.A,{kind:"normal",children:" calculate_pid_parameters("}),(0,l.jsx)(a.A,{kind:"keywordtype",children:"void"}),(0,l.jsx)(a.A,{kind:"normal",children:");"})]}),(0,l.jsx)(s.A,{id:"l00089"}),(0,l.jsx)(c.A,{lineNumber:"89",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00090"}),(0,l.jsxs)(c.A,{lineNumber:"90",children:[(0,l.jsx)(a.A,{kind:"normal"}),(0,l.jsx)(a.A,{kind:"comment",children:"// =====================  PUBLIC API ====================="}),(0,l.jsx)(a.A,{kind:"normal"})]}),(0,l.jsx)(s.A,{id:"l00091"}),(0,l.jsx)(c.A,{lineNumber:"91",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00092"}),(0,l.jsxs)(c.A,{lineNumber:"92",children:[(0,l.jsxs)(a.A,{kind:"normal",children:[(0,l.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/auto-tune-config-t",children:"auto_tune_config_t"})," auto_tune_default_config("]}),(0,l.jsx)(a.A,{kind:"keywordtype",children:"void"}),(0,l.jsx)(a.A,{kind:"normal",children:") {"})]}),(0,l.jsx)(s.A,{id:"l00093"}),(0,l.jsx)(c.A,{lineNumber:"93",children:(0,l.jsxs)(a.A,{kind:"normal",children:["    ",(0,l.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/auto-tune-config-t",children:"auto_tune_config_t"})," config;"]})}),(0,l.jsx)(s.A,{id:"l00094"}),(0,l.jsx)(c.A,{lineNumber:"94",children:(0,l.jsxs)(a.A,{kind:"normal",children:["    config.",(0,l.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/auto-tune-config-t/#a8d635c050452c20c44ba058443ad5543",children:"target_temperature"})," = TARGET_TEMP_DEFAULT;"]})}),(0,l.jsx)(s.A,{id:"l00095"}),(0,l.jsx)(c.A,{lineNumber:"95",children:(0,l.jsxs)(a.A,{kind:"normal",children:["    config.",(0,l.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/auto-tune-config-t/#ac536a17c5e8e62ccacb280f7c4597a74",children:"hysteresis"}),"         = HYSTERESIS_DEFAULT;"]})}),(0,l.jsx)(s.A,{id:"l00096"}),(0,l.jsx)(c.A,{lineNumber:"96",children:(0,l.jsxs)(a.A,{kind:"normal",children:["    config.",(0,l.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/auto-tune-config-t/#af2416d5ce87c2d63040a6ddf809a1eb2",children:"min_cycles"}),"         = MIN_CYCLES_DEFAULT;"]})}),(0,l.jsx)(s.A,{id:"l00097"}),(0,l.jsx)(c.A,{lineNumber:"97",children:(0,l.jsxs)(a.A,{kind:"normal",children:["    config.",(0,l.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/auto-tune-config-t/#aaf945bdc4f6ee1b8a547c2da40a21392",children:"max_cycles"}),"         = MAX_CYCLES_DEFAULT;"]})}),(0,l.jsx)(s.A,{id:"l00098"}),(0,l.jsx)(c.A,{lineNumber:"98",children:(0,l.jsxs)(a.A,{kind:"normal",children:["    config.",(0,l.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/auto-tune-config-t/#aca14dfa629015ee4cc42bd01d9933944",children:"timeout_ms"}),"         = TIMEOUT_MS_DEFAULT;"]})}),(0,l.jsx)(s.A,{id:"l00099"}),(0,l.jsxs)(c.A,{lineNumber:"99",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"comment",children:"// Heater can only heat, not actively cool - use 0% for cooling phase"}),(0,l.jsx)(a.A,{kind:"normal"})]}),(0,l.jsx)(s.A,{id:"l00100"}),(0,l.jsx)(c.A,{lineNumber:"100",children:(0,l.jsxs)(a.A,{kind:"normal",children:["    config.",(0,l.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/auto-tune-config-t/#a6f5b386351fd69a08c6b3698287a21cb",children:"relay_power_high"}),"   = 100;"]})}),(0,l.jsx)(s.A,{id:"l00101"}),(0,l.jsx)(c.A,{lineNumber:"101",children:(0,l.jsxs)(a.A,{kind:"normal",children:["    config.",(0,l.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/auto-tune-config-t/#a094661e4f75b7e4760da21f1ff2296d4",children:"relay_power_low"}),"    = 0;"]})}),(0,l.jsx)(s.A,{id:"l00102"}),(0,l.jsxs)(c.A,{lineNumber:"102",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"return"}),(0,l.jsx)(a.A,{kind:"normal",children:" config;"})]}),(0,l.jsx)(s.A,{id:"l00103"}),(0,l.jsx)(c.A,{lineNumber:"103",children:(0,l.jsx)(a.A,{kind:"normal",children:"}"})}),(0,l.jsx)(s.A,{id:"l00104"}),(0,l.jsx)(c.A,{lineNumber:"104",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00105"}),(0,l.jsxs)(c.A,{lineNumber:"105",children:[(0,l.jsx)(a.A,{kind:"normal"}),(0,l.jsx)(a.A,{kind:"keywordtype",children:"bool"}),(0,l.jsx)(a.A,{kind:"normal",children:" auto_tune_start("}),(0,l.jsx)(a.A,{kind:"keyword",children:"const"}),(0,l.jsxs)(a.A,{kind:"normal",children:[" ",(0,l.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/auto-tune-config-t",children:"auto_tune_config_t"}),"* config) {"]})]}),(0,l.jsx)(s.A,{id:"l00106"}),(0,l.jsxs)(c.A,{lineNumber:"106",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"if"}),(0,l.jsx)(a.A,{kind:"normal",children:" (g_ctx.state != AUTO_TUNE_IDLE && "})]}),(0,l.jsx)(s.A,{id:"l00107"}),(0,l.jsx)(c.A,{lineNumber:"107",children:(0,l.jsx)(a.A,{kind:"normal",children:"        g_ctx.state != AUTO_TUNE_COMPLETE && "})}),(0,l.jsx)(s.A,{id:"l00108"}),(0,l.jsx)(c.A,{lineNumber:"108",children:(0,l.jsx)(a.A,{kind:"normal",children:"        g_ctx.state != AUTO_TUNE_FAILED &&"})}),(0,l.jsx)(s.A,{id:"l00109"}),(0,l.jsx)(c.A,{lineNumber:"109",children:(0,l.jsx)(a.A,{kind:"normal",children:"        g_ctx.state != AUTO_TUNE_CANCELLED) {"})}),(0,l.jsx)(s.A,{id:"l00110"}),(0,l.jsxs)(c.A,{lineNumber:"110",children:[(0,l.jsx)(a.A,{kind:"normal",children:"        PICO_LOGW(TAG, "}),(0,l.jsx)(a.A,{kind:"stringliteral",children:'"Cannot start: already running (state=%d)"'}),(0,l.jsx)(a.A,{kind:"normal",children:", g_ctx.state);"})]}),(0,l.jsx)(s.A,{id:"l00111"}),(0,l.jsxs)(c.A,{lineNumber:"111",children:[(0,l.jsx)(a.A,{kind:"normal",children:"        "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"return"}),(0,l.jsx)(a.A,{kind:"normal",children:" "}),(0,l.jsx)(a.A,{kind:"keyword",children:"false"}),(0,l.jsx)(a.A,{kind:"normal",children:";"})]}),(0,l.jsx)(s.A,{id:"l00112"}),(0,l.jsx)(c.A,{lineNumber:"112",children:(0,l.jsx)(a.A,{kind:"normal",children:"    }"})}),(0,l.jsx)(s.A,{id:"l00113"}),(0,l.jsx)(c.A,{lineNumber:"113",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00114"}),(0,l.jsx)(c.A,{lineNumber:"114",children:(0,l.jsx)(a.A,{kind:"normal",children:"    reset_context();"})}),(0,l.jsx)(s.A,{id:"l00115"}),(0,l.jsx)(c.A,{lineNumber:"115",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00116"}),(0,l.jsxs)(c.A,{lineNumber:"116",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"if"}),(0,l.jsx)(a.A,{kind:"normal",children:" (config != "}),(0,l.jsx)(a.A,{kind:"keyword",children:"nullptr"}),(0,l.jsx)(a.A,{kind:"normal",children:") {"})]}),(0,l.jsx)(s.A,{id:"l00117"}),(0,l.jsxs)(c.A,{lineNumber:"117",children:[(0,l.jsx)(a.A,{kind:"normal",children:"        memcpy(&g_ctx.config, config, "}),(0,l.jsx)(a.A,{kind:"keyword",children:"sizeof"}),(0,l.jsxs)(a.A,{kind:"normal",children:["(",(0,l.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/auto-tune-config-t",children:"auto_tune_config_t"}),"));"]})]}),(0,l.jsx)(s.A,{id:"l00118"}),(0,l.jsxs)(c.A,{lineNumber:"118",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    } "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"else"}),(0,l.jsx)(a.A,{kind:"normal",children:" {"})]}),(0,l.jsx)(s.A,{id:"l00119"}),(0,l.jsx)(c.A,{lineNumber:"119",children:(0,l.jsx)(a.A,{kind:"normal",children:"        g_ctx.config = auto_tune_default_config();"})}),(0,l.jsx)(s.A,{id:"l00120"}),(0,l.jsx)(c.A,{lineNumber:"120",children:(0,l.jsx)(a.A,{kind:"normal",children:"    }"})}),(0,l.jsx)(s.A,{id:"l00121"}),(0,l.jsx)(c.A,{lineNumber:"121",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00122"}),(0,l.jsx)(c.A,{lineNumber:"122",children:(0,l.jsx)(a.A,{kind:"normal",children:"    g_ctx.start_time_ms = millis();"})}),(0,l.jsx)(s.A,{id:"l00123"}),(0,l.jsx)(c.A,{lineNumber:"123",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00124"}),(0,l.jsxs)(c.A,{lineNumber:"124",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    PICO_LOGI(TAG, "}),(0,l.jsx)(a.A,{kind:"stringliteral",children:'"Starting auto-tune: target=%d\xb0C, hysteresis=%.1f\xb0C, cycles=%d-%d"'}),(0,l.jsx)(a.A,{kind:"normal",children:","})]}),(0,l.jsx)(s.A,{id:"l00125"}),(0,l.jsx)(c.A,{lineNumber:"125",children:(0,l.jsx)(a.A,{kind:"normal",children:"              g_ctx.config.target_temperature, g_ctx.config.hysteresis,"})}),(0,l.jsx)(s.A,{id:"l00126"}),(0,l.jsx)(c.A,{lineNumber:"126",children:(0,l.jsx)(a.A,{kind:"normal",children:"              g_ctx.config.min_cycles, g_ctx.config.max_cycles);"})}),(0,l.jsx)(s.A,{id:"l00127"}),(0,l.jsx)(c.A,{lineNumber:"127",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00128"}),(0,l.jsx)(c.A,{lineNumber:"128",children:(0,l.jsx)(a.A,{kind:"normal",children:"    enter_state(AUTO_TUNE_HEATING);"})}),(0,l.jsx)(s.A,{id:"l00129"}),(0,l.jsxs)(c.A,{lineNumber:"129",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"return"}),(0,l.jsx)(a.A,{kind:"normal",children:" "}),(0,l.jsx)(a.A,{kind:"keyword",children:"true"}),(0,l.jsx)(a.A,{kind:"normal",children:";"})]}),(0,l.jsx)(s.A,{id:"l00130"}),(0,l.jsx)(c.A,{lineNumber:"130",children:(0,l.jsx)(a.A,{kind:"normal",children:"}"})}),(0,l.jsx)(s.A,{id:"l00131"}),(0,l.jsx)(c.A,{lineNumber:"131",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00132"}),(0,l.jsxs)(c.A,{lineNumber:"132",children:[(0,l.jsx)(a.A,{kind:"normal"}),(0,l.jsx)(a.A,{kind:"keywordtype",children:"void"}),(0,l.jsx)(a.A,{kind:"normal",children:" auto_tune_stop("}),(0,l.jsx)(a.A,{kind:"keywordtype",children:"void"}),(0,l.jsx)(a.A,{kind:"normal",children:") {"})]}),(0,l.jsx)(s.A,{id:"l00133"}),(0,l.jsxs)(c.A,{lineNumber:"133",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"if"}),(0,l.jsx)(a.A,{kind:"normal",children:" (g_ctx.state == AUTO_TUNE_IDLE) {"})]}),(0,l.jsx)(s.A,{id:"l00134"}),(0,l.jsxs)(c.A,{lineNumber:"134",children:[(0,l.jsx)(a.A,{kind:"normal",children:"        "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"return"}),(0,l.jsx)(a.A,{kind:"normal",children:";"})]}),(0,l.jsx)(s.A,{id:"l00135"}),(0,l.jsx)(c.A,{lineNumber:"135",children:(0,l.jsx)(a.A,{kind:"normal",children:"    }"})}),(0,l.jsx)(s.A,{id:"l00136"}),(0,l.jsx)(c.A,{lineNumber:"136",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00137"}),(0,l.jsxs)(c.A,{lineNumber:"137",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    PICO_LOGI(TAG, "}),(0,l.jsx)(a.A,{kind:"stringliteral",children:'"Auto-tune cancelled by user"'}),(0,l.jsx)(a.A,{kind:"normal",children:");"})]}),(0,l.jsx)(s.A,{id:"l00138"}),(0,l.jsx)(c.A,{lineNumber:"138",children:(0,l.jsx)(a.A,{kind:"normal",children:"    g_ctx.current_power = 0;"})}),(0,l.jsx)(s.A,{id:"l00139"}),(0,l.jsx)(c.A,{lineNumber:"139",children:(0,l.jsx)(a.A,{kind:"normal",children:"    enter_state(AUTO_TUNE_CANCELLED);"})}),(0,l.jsx)(s.A,{id:"l00140"}),(0,l.jsx)(c.A,{lineNumber:"140",children:(0,l.jsx)(a.A,{kind:"normal",children:"}"})}),(0,l.jsx)(s.A,{id:"l00141"}),(0,l.jsx)(c.A,{lineNumber:"141",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00142"}),(0,l.jsxs)(c.A,{lineNumber:"142",children:[(0,l.jsx)(a.A,{kind:"normal",children:"uint8_t auto_tune_update("}),(0,l.jsx)(a.A,{kind:"keywordtype",children:"float"}),(0,l.jsx)(a.A,{kind:"normal",children:" current_temp) {"})]}),(0,l.jsx)(s.A,{id:"l00143"}),(0,l.jsxs)(c.A,{lineNumber:"143",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"comment",children:"// Check timeout"}),(0,l.jsx)(a.A,{kind:"normal"})]}),(0,l.jsx)(s.A,{id:"l00144"}),(0,l.jsxs)(c.A,{lineNumber:"144",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"if"}),(0,l.jsx)(a.A,{kind:"normal",children:" (g_ctx.state != AUTO_TUNE_IDLE && "})]}),(0,l.jsx)(s.A,{id:"l00145"}),(0,l.jsx)(c.A,{lineNumber:"145",children:(0,l.jsx)(a.A,{kind:"normal",children:"        g_ctx.state != AUTO_TUNE_COMPLETE &&"})}),(0,l.jsx)(s.A,{id:"l00146"}),(0,l.jsx)(c.A,{lineNumber:"146",children:(0,l.jsx)(a.A,{kind:"normal",children:"        g_ctx.state != AUTO_TUNE_FAILED &&"})}),(0,l.jsx)(s.A,{id:"l00147"}),(0,l.jsx)(c.A,{lineNumber:"147",children:(0,l.jsx)(a.A,{kind:"normal",children:"        g_ctx.state != AUTO_TUNE_CANCELLED) {"})}),(0,l.jsx)(s.A,{id:"l00148"}),(0,l.jsx)(c.A,{lineNumber:"148",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00149"}),(0,l.jsx)(c.A,{lineNumber:"149",children:(0,l.jsx)(a.A,{kind:"normal",children:"        uint32_t elapsed = millis() - g_ctx.start_time_ms;"})}),(0,l.jsx)(s.A,{id:"l00150"}),(0,l.jsxs)(c.A,{lineNumber:"150",children:[(0,l.jsx)(a.A,{kind:"normal",children:"        "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"if"}),(0,l.jsx)(a.A,{kind:"normal",children:" (elapsed > g_ctx.config.timeout_ms) {"})]}),(0,l.jsx)(s.A,{id:"l00151"}),(0,l.jsxs)(c.A,{lineNumber:"151",children:[(0,l.jsx)(a.A,{kind:"normal",children:"            PICO_LOGE(TAG, "}),(0,l.jsx)(a.A,{kind:"stringliteral",children:'"Auto-tune timeout after %lu ms"'}),(0,l.jsx)(a.A,{kind:"normal",children:", elapsed);"})]}),(0,l.jsx)(s.A,{id:"l00152"}),(0,l.jsx)(c.A,{lineNumber:"152",children:(0,l.jsx)(a.A,{kind:"normal",children:"            g_ctx.current_power = 0;"})}),(0,l.jsx)(s.A,{id:"l00153"}),(0,l.jsx)(c.A,{lineNumber:"153",children:(0,l.jsx)(a.A,{kind:"normal",children:"            enter_state(AUTO_TUNE_FAILED);"})}),(0,l.jsx)(s.A,{id:"l00154"}),(0,l.jsxs)(c.A,{lineNumber:"154",children:[(0,l.jsx)(a.A,{kind:"normal",children:"            "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"return"}),(0,l.jsx)(a.A,{kind:"normal",children:" 0;"})]}),(0,l.jsx)(s.A,{id:"l00155"}),(0,l.jsx)(c.A,{lineNumber:"155",children:(0,l.jsx)(a.A,{kind:"normal",children:"        }"})}),(0,l.jsx)(s.A,{id:"l00156"}),(0,l.jsx)(c.A,{lineNumber:"156",children:(0,l.jsx)(a.A,{kind:"normal",children:"    }"})}),(0,l.jsx)(s.A,{id:"l00157"}),(0,l.jsx)(c.A,{lineNumber:"157",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00158"}),(0,l.jsxs)(c.A,{lineNumber:"158",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"switch"}),(0,l.jsx)(a.A,{kind:"normal",children:" (g_ctx.state) {"})]}),(0,l.jsx)(s.A,{id:"l00159"}),(0,l.jsxs)(c.A,{lineNumber:"159",children:[(0,l.jsx)(a.A,{kind:"normal",children:"        "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"case"}),(0,l.jsx)(a.A,{kind:"normal",children:" AUTO_TUNE_IDLE:"})]}),(0,l.jsx)(s.A,{id:"l00160"}),(0,l.jsxs)(c.A,{lineNumber:"160",children:[(0,l.jsx)(a.A,{kind:"normal",children:"        "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"case"}),(0,l.jsx)(a.A,{kind:"normal",children:" AUTO_TUNE_COMPLETE:"})]}),(0,l.jsx)(s.A,{id:"l00161"}),(0,l.jsxs)(c.A,{lineNumber:"161",children:[(0,l.jsx)(a.A,{kind:"normal",children:"        "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"case"}),(0,l.jsx)(a.A,{kind:"normal",children:" AUTO_TUNE_FAILED:"})]}),(0,l.jsx)(s.A,{id:"l00162"}),(0,l.jsxs)(c.A,{lineNumber:"162",children:[(0,l.jsx)(a.A,{kind:"normal",children:"        "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"case"}),(0,l.jsx)(a.A,{kind:"normal",children:" AUTO_TUNE_CANCELLED:"})]}),(0,l.jsx)(s.A,{id:"l00163"}),(0,l.jsxs)(c.A,{lineNumber:"163",children:[(0,l.jsx)(a.A,{kind:"normal",children:"            "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"return"}),(0,l.jsx)(a.A,{kind:"normal",children:" 0;"})]}),(0,l.jsx)(s.A,{id:"l00164"}),(0,l.jsx)(c.A,{lineNumber:"164",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00165"}),(0,l.jsxs)(c.A,{lineNumber:"165",children:[(0,l.jsx)(a.A,{kind:"normal",children:"        "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"case"}),(0,l.jsx)(a.A,{kind:"normal",children:" AUTO_TUNE_HEATING:"})]}),(0,l.jsx)(s.A,{id:"l00166"}),(0,l.jsxs)(c.A,{lineNumber:"166",children:[(0,l.jsx)(a.A,{kind:"normal",children:"            "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"return"}),(0,l.jsx)(a.A,{kind:"normal",children:" update_heating(current_temp);"})]}),(0,l.jsx)(s.A,{id:"l00167"}),(0,l.jsx)(c.A,{lineNumber:"167",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00168"}),(0,l.jsxs)(c.A,{lineNumber:"168",children:[(0,l.jsx)(a.A,{kind:"normal",children:"        "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"case"}),(0,l.jsx)(a.A,{kind:"normal",children:" AUTO_TUNE_RELAY_HIGH:"})]}),(0,l.jsx)(s.A,{id:"l00169"}),(0,l.jsxs)(c.A,{lineNumber:"169",children:[(0,l.jsx)(a.A,{kind:"normal",children:"            "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"return"}),(0,l.jsx)(a.A,{kind:"normal",children:" update_relay_high(current_temp);"})]}),(0,l.jsx)(s.A,{id:"l00170"}),(0,l.jsx)(c.A,{lineNumber:"170",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00171"}),(0,l.jsxs)(c.A,{lineNumber:"171",children:[(0,l.jsx)(a.A,{kind:"normal",children:"        "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"case"}),(0,l.jsx)(a.A,{kind:"normal",children:" AUTO_TUNE_RELAY_LOW:"})]}),(0,l.jsx)(s.A,{id:"l00172"}),(0,l.jsxs)(c.A,{lineNumber:"172",children:[(0,l.jsx)(a.A,{kind:"normal",children:"            "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"return"}),(0,l.jsx)(a.A,{kind:"normal",children:" update_relay_low(current_temp);"})]}),(0,l.jsx)(s.A,{id:"l00173"}),(0,l.jsx)(c.A,{lineNumber:"173",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00174"}),(0,l.jsxs)(c.A,{lineNumber:"174",children:[(0,l.jsx)(a.A,{kind:"normal",children:"        "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"case"}),(0,l.jsx)(a.A,{kind:"normal",children:" AUTO_TUNE_ANALYZING:"})]}),(0,l.jsx)(s.A,{id:"l00175"}),(0,l.jsx)(c.A,{lineNumber:"175",children:(0,l.jsx)(a.A,{kind:"normal",children:"            analyze_results();"})}),(0,l.jsx)(s.A,{id:"l00176"}),(0,l.jsxs)(c.A,{lineNumber:"176",children:[(0,l.jsx)(a.A,{kind:"normal",children:"            "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"return"}),(0,l.jsx)(a.A,{kind:"normal",children:" 0;"})]}),(0,l.jsx)(s.A,{id:"l00177"}),(0,l.jsx)(c.A,{lineNumber:"177",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00178"}),(0,l.jsxs)(c.A,{lineNumber:"178",children:[(0,l.jsx)(a.A,{kind:"normal",children:"        "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"default"}),(0,l.jsx)(a.A,{kind:"normal",children:":"})]}),(0,l.jsx)(s.A,{id:"l00179"}),(0,l.jsxs)(c.A,{lineNumber:"179",children:[(0,l.jsx)(a.A,{kind:"normal",children:"            "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"return"}),(0,l.jsx)(a.A,{kind:"normal",children:" 0;"})]}),(0,l.jsx)(s.A,{id:"l00180"}),(0,l.jsx)(c.A,{lineNumber:"180",children:(0,l.jsx)(a.A,{kind:"normal",children:"    }"})}),(0,l.jsx)(s.A,{id:"l00181"}),(0,l.jsx)(c.A,{lineNumber:"181",children:(0,l.jsx)(a.A,{kind:"normal",children:"}"})}),(0,l.jsx)(s.A,{id:"l00182"}),(0,l.jsx)(c.A,{lineNumber:"182",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00183"}),(0,l.jsxs)(c.A,{lineNumber:"183",children:[(0,l.jsx)(a.A,{kind:"normal"}),(0,l.jsx)(a.A,{kind:"keywordtype",children:"bool"}),(0,l.jsx)(a.A,{kind:"normal",children:" auto_tune_is_running("}),(0,l.jsx)(a.A,{kind:"keywordtype",children:"void"}),(0,l.jsx)(a.A,{kind:"normal",children:") {"})]}),(0,l.jsx)(s.A,{id:"l00184"}),(0,l.jsxs)(c.A,{lineNumber:"184",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"return"}),(0,l.jsx)(a.A,{kind:"normal",children:" g_ctx.state != AUTO_TUNE_IDLE && "})]}),(0,l.jsx)(s.A,{id:"l00185"}),(0,l.jsx)(c.A,{lineNumber:"185",children:(0,l.jsx)(a.A,{kind:"normal",children:"           g_ctx.state != AUTO_TUNE_COMPLETE &&"})}),(0,l.jsx)(s.A,{id:"l00186"}),(0,l.jsx)(c.A,{lineNumber:"186",children:(0,l.jsx)(a.A,{kind:"normal",children:"           g_ctx.state != AUTO_TUNE_FAILED &&"})}),(0,l.jsx)(s.A,{id:"l00187"}),(0,l.jsx)(c.A,{lineNumber:"187",children:(0,l.jsx)(a.A,{kind:"normal",children:"           g_ctx.state != AUTO_TUNE_CANCELLED;"})}),(0,l.jsx)(s.A,{id:"l00188"}),(0,l.jsx)(c.A,{lineNumber:"188",children:(0,l.jsx)(a.A,{kind:"normal",children:"}"})}),(0,l.jsx)(s.A,{id:"l00189"}),(0,l.jsx)(c.A,{lineNumber:"189",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00190"}),(0,l.jsxs)(c.A,{lineNumber:"190",children:[(0,l.jsx)(a.A,{kind:"normal",children:"auto_tune_state_t auto_tune_get_state("}),(0,l.jsx)(a.A,{kind:"keywordtype",children:"void"}),(0,l.jsx)(a.A,{kind:"normal",children:") {"})]}),(0,l.jsx)(s.A,{id:"l00191"}),(0,l.jsxs)(c.A,{lineNumber:"191",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"return"}),(0,l.jsx)(a.A,{kind:"normal",children:" g_ctx.state;"})]}),(0,l.jsx)(s.A,{id:"l00192"}),(0,l.jsx)(c.A,{lineNumber:"192",children:(0,l.jsx)(a.A,{kind:"normal",children:"}"})}),(0,l.jsx)(s.A,{id:"l00193"}),(0,l.jsx)(c.A,{lineNumber:"193",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00194"}),(0,l.jsxs)(c.A,{lineNumber:"194",children:[(0,l.jsx)(a.A,{kind:"normal"}),(0,l.jsx)(a.A,{kind:"keywordtype",children:"void"}),(0,l.jsxs)(a.A,{kind:"normal",children:[" auto_tune_get_progress(",(0,l.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/auto-tune-progress-t",children:"auto_tune_progress_t"}),"* progress) {"]})]}),(0,l.jsx)(s.A,{id:"l00195"}),(0,l.jsxs)(c.A,{lineNumber:"195",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"if"}),(0,l.jsx)(a.A,{kind:"normal",children:" (progress == "}),(0,l.jsx)(a.A,{kind:"keyword",children:"nullptr"}),(0,l.jsx)(a.A,{kind:"normal",children:") "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"return"}),(0,l.jsx)(a.A,{kind:"normal",children:";"})]}),(0,l.jsx)(s.A,{id:"l00196"}),(0,l.jsx)(c.A,{lineNumber:"196",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00197"}),(0,l.jsx)(c.A,{lineNumber:"197",children:(0,l.jsxs)(a.A,{kind:"normal",children:["    progress->",(0,l.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/auto-tune-progress-t/#aa5e9da11dc05955cdc4f4d8d00501957",children:"state"}),"       = g_ctx.state;"]})}),(0,l.jsx)(s.A,{id:"l00198"}),(0,l.jsx)(c.A,{lineNumber:"198",children:(0,l.jsxs)(a.A,{kind:"normal",children:["    progress->",(0,l.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/auto-tune-progress-t/#a937f74a65988b9e22241ab3765b82c50",children:"cycle_count"})," = g_ctx.cycle_count;"]})}),(0,l.jsx)(s.A,{id:"l00199"}),(0,l.jsx)(c.A,{lineNumber:"199",children:(0,l.jsxs)(a.A,{kind:"normal",children:["    progress->",(0,l.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/auto-tune-progress-t/#aaf945bdc4f6ee1b8a547c2da40a21392",children:"max_cycles"}),"  = g_ctx.config.max_cycles;"]})}),(0,l.jsx)(s.A,{id:"l00200"}),(0,l.jsx)(c.A,{lineNumber:"200",children:(0,l.jsxs)(a.A,{kind:"normal",children:["    progress->",(0,l.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/auto-tune-progress-t/#a33b4d8627ee9fe589beb1066fd123a6f",children:"target_temp"})," = g_ctx.config.target_temperature;"]})}),(0,l.jsx)(s.A,{id:"l00201"}),(0,l.jsx)(c.A,{lineNumber:"201",children:(0,l.jsxs)(a.A,{kind:"normal",children:["    progress->",(0,l.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/auto-tune-progress-t/#af7b06315e8a7ba5cc1c06fc8f48404fa",children:"power_pct"}),"   = g_ctx.current_power;"]})}),(0,l.jsx)(s.A,{id:"l00202"}),(0,l.jsx)(c.A,{lineNumber:"202",children:(0,l.jsxs)(a.A,{kind:"normal",children:["    progress->",(0,l.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/auto-tune-progress-t/#aa6f7bcf6274792464b78df3ddb13faa7",children:"current_temp"})," = g_ctx.last_temp;"]})}),(0,l.jsx)(s.A,{id:"l00203"}),(0,l.jsx)(c.A,{lineNumber:"203",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00204"}),(0,l.jsxs)(c.A,{lineNumber:"204",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"if"}),(0,l.jsx)(a.A,{kind:"normal",children:" (g_ctx.state == AUTO_TUNE_IDLE) {"})]}),(0,l.jsx)(s.A,{id:"l00205"}),(0,l.jsx)(c.A,{lineNumber:"205",children:(0,l.jsxs)(a.A,{kind:"normal",children:["        progress->",(0,l.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/auto-tune-progress-t/#ade1165bf48dec2e3efeb45ecfb4fb378",children:"elapsed_ms"})," = 0;"]})}),(0,l.jsx)(s.A,{id:"l00206"}),(0,l.jsx)(c.A,{lineNumber:"206",children:(0,l.jsxs)(a.A,{kind:"normal",children:["        progress->",(0,l.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/auto-tune-progress-t/#a4cfff23827592876a98cd53864c87393",children:"eta_ms"}),"     = 0;"]})}),(0,l.jsx)(s.A,{id:"l00207"}),(0,l.jsxs)(c.A,{lineNumber:"207",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    } "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"else"}),(0,l.jsx)(a.A,{kind:"normal",children:" {"})]}),(0,l.jsx)(s.A,{id:"l00208"}),(0,l.jsx)(c.A,{lineNumber:"208",children:(0,l.jsxs)(a.A,{kind:"normal",children:["        progress->",(0,l.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/auto-tune-progress-t/#ade1165bf48dec2e3efeb45ecfb4fb378",children:"elapsed_ms"})," = millis() - g_ctx.start_time_ms;"]})}),(0,l.jsx)(s.A,{id:"l00209"}),(0,l.jsx)(c.A,{lineNumber:"209",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00210"}),(0,l.jsxs)(c.A,{lineNumber:"210",children:[(0,l.jsx)(a.A,{kind:"normal",children:"        "}),(0,l.jsx)(a.A,{kind:"comment",children:"// Estimate ETA based on cycles completed"}),(0,l.jsx)(a.A,{kind:"normal"})]}),(0,l.jsx)(s.A,{id:"l00211"}),(0,l.jsxs)(c.A,{lineNumber:"211",children:[(0,l.jsx)(a.A,{kind:"normal",children:"        "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"if"}),(0,l.jsx)(a.A,{kind:"normal",children:" (g_ctx.cycle_count > 0) {"})]}),(0,l.jsx)(s.A,{id:"l00212"}),(0,l.jsx)(c.A,{lineNumber:"212",children:(0,l.jsxs)(a.A,{kind:"normal",children:["            uint32_t time_per_cycle = progress->",(0,l.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/auto-tune-progress-t/#ade1165bf48dec2e3efeb45ecfb4fb378",children:"elapsed_ms"})," / g_ctx.cycle_count;"]})}),(0,l.jsx)(s.A,{id:"l00213"}),(0,l.jsx)(c.A,{lineNumber:"213",children:(0,l.jsx)(a.A,{kind:"normal",children:"            uint8_t remaining_cycles = g_ctx.config.min_cycles - g_ctx.cycle_count;"})}),(0,l.jsx)(s.A,{id:"l00214"}),(0,l.jsxs)(c.A,{lineNumber:"214",children:[(0,l.jsx)(a.A,{kind:"normal",children:"            "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"if"}),(0,l.jsx)(a.A,{kind:"normal",children:" (remaining_cycles > 0) {"})]}),(0,l.jsx)(s.A,{id:"l00215"}),(0,l.jsx)(c.A,{lineNumber:"215",children:(0,l.jsxs)(a.A,{kind:"normal",children:["                progress->",(0,l.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/auto-tune-progress-t/#a4cfff23827592876a98cd53864c87393",children:"eta_ms"})," = time_per_cycle * remaining_cycles;"]})}),(0,l.jsx)(s.A,{id:"l00216"}),(0,l.jsxs)(c.A,{lineNumber:"216",children:[(0,l.jsx)(a.A,{kind:"normal",children:"            } "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"else"}),(0,l.jsx)(a.A,{kind:"normal",children:" {"})]}),(0,l.jsx)(s.A,{id:"l00217"}),(0,l.jsx)(c.A,{lineNumber:"217",children:(0,l.jsxs)(a.A,{kind:"normal",children:["                progress->",(0,l.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/auto-tune-progress-t/#a4cfff23827592876a98cd53864c87393",children:"eta_ms"})," = 0;"]})}),(0,l.jsx)(s.A,{id:"l00218"}),(0,l.jsx)(c.A,{lineNumber:"218",children:(0,l.jsx)(a.A,{kind:"normal",children:"            }"})}),(0,l.jsx)(s.A,{id:"l00219"}),(0,l.jsxs)(c.A,{lineNumber:"219",children:[(0,l.jsx)(a.A,{kind:"normal",children:"        } "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"else"}),(0,l.jsx)(a.A,{kind:"normal",children:" {"})]}),(0,l.jsx)(s.A,{id:"l00220"}),(0,l.jsxs)(c.A,{lineNumber:"220",children:[(0,l.jsx)(a.A,{kind:"normal",children:"            "}),(0,l.jsx)(a.A,{kind:"comment",children:"// No cycles yet - rough estimate based on typical timing"}),(0,l.jsx)(a.A,{kind:"normal"})]}),(0,l.jsx)(s.A,{id:"l00221"}),(0,l.jsxs)(c.A,{lineNumber:"221",children:[(0,l.jsxs)(a.A,{kind:"normal",children:["            progress->",(0,l.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/auto-tune-progress-t/#a4cfff23827592876a98cd53864c87393",children:"eta_ms"})," = 180000; "]}),(0,l.jsx)(a.A,{kind:"comment",children:"// ~3 minutes typical"}),(0,l.jsx)(a.A,{kind:"normal"})]}),(0,l.jsx)(s.A,{id:"l00222"}),(0,l.jsx)(c.A,{lineNumber:"222",children:(0,l.jsx)(a.A,{kind:"normal",children:"        }"})}),(0,l.jsx)(s.A,{id:"l00223"}),(0,l.jsx)(c.A,{lineNumber:"223",children:(0,l.jsx)(a.A,{kind:"normal",children:"    }"})}),(0,l.jsx)(s.A,{id:"l00224"}),(0,l.jsx)(c.A,{lineNumber:"224",children:(0,l.jsx)(a.A,{kind:"normal",children:"}"})}),(0,l.jsx)(s.A,{id:"l00225"}),(0,l.jsx)(c.A,{lineNumber:"225",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00226"}),(0,l.jsxs)(c.A,{lineNumber:"226",children:[(0,l.jsx)(a.A,{kind:"normal"}),(0,l.jsx)(a.A,{kind:"keywordtype",children:"bool"}),(0,l.jsxs)(a.A,{kind:"normal",children:[" auto_tune_get_result(",(0,l.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/auto-tune-result-t",children:"auto_tune_result_t"}),"* result) {"]})]}),(0,l.jsx)(s.A,{id:"l00227"}),(0,l.jsxs)(c.A,{lineNumber:"227",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"if"}),(0,l.jsx)(a.A,{kind:"normal",children:" (result == "}),(0,l.jsx)(a.A,{kind:"keyword",children:"nullptr"}),(0,l.jsx)(a.A,{kind:"normal",children:") "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"return"}),(0,l.jsx)(a.A,{kind:"normal",children:" "}),(0,l.jsx)(a.A,{kind:"keyword",children:"false"}),(0,l.jsx)(a.A,{kind:"normal",children:";"})]}),(0,l.jsx)(s.A,{id:"l00228"}),(0,l.jsx)(c.A,{lineNumber:"228",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00229"}),(0,l.jsxs)(c.A,{lineNumber:"229",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"if"}),(0,l.jsx)(a.A,{kind:"normal",children:" (g_ctx.state != AUTO_TUNE_COMPLETE) {"})]}),(0,l.jsx)(s.A,{id:"l00230"}),(0,l.jsxs)(c.A,{lineNumber:"230",children:[(0,l.jsx)(a.A,{kind:"normal",children:"        "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"return"}),(0,l.jsx)(a.A,{kind:"normal",children:" "}),(0,l.jsx)(a.A,{kind:"keyword",children:"false"}),(0,l.jsx)(a.A,{kind:"normal",children:";"})]}),(0,l.jsx)(s.A,{id:"l00231"}),(0,l.jsx)(c.A,{lineNumber:"231",children:(0,l.jsx)(a.A,{kind:"normal",children:"    }"})}),(0,l.jsx)(s.A,{id:"l00232"}),(0,l.jsx)(c.A,{lineNumber:"232",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00233"}),(0,l.jsxs)(c.A,{lineNumber:"233",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    memcpy(result, &g_ctx.result, "}),(0,l.jsx)(a.A,{kind:"keyword",children:"sizeof"}),(0,l.jsxs)(a.A,{kind:"normal",children:["(",(0,l.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/auto-tune-result-t",children:"auto_tune_result_t"}),"));"]})]}),(0,l.jsx)(s.A,{id:"l00234"}),(0,l.jsxs)(c.A,{lineNumber:"234",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"return"}),(0,l.jsx)(a.A,{kind:"normal",children:" "}),(0,l.jsx)(a.A,{kind:"keyword",children:"true"}),(0,l.jsx)(a.A,{kind:"normal",children:";"})]}),(0,l.jsx)(s.A,{id:"l00235"}),(0,l.jsx)(c.A,{lineNumber:"235",children:(0,l.jsx)(a.A,{kind:"normal",children:"}"})}),(0,l.jsx)(s.A,{id:"l00236"}),(0,l.jsx)(c.A,{lineNumber:"236",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00237"}),(0,l.jsxs)(c.A,{lineNumber:"237",children:[(0,l.jsx)(a.A,{kind:"normal",children:"uint16_t auto_tune_get_target_temperature("}),(0,l.jsx)(a.A,{kind:"keywordtype",children:"void"}),(0,l.jsx)(a.A,{kind:"normal",children:") {"})]}),(0,l.jsx)(s.A,{id:"l00238"}),(0,l.jsxs)(c.A,{lineNumber:"238",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"if"}),(0,l.jsx)(a.A,{kind:"normal",children:" (g_ctx.state == AUTO_TUNE_IDLE) {"})]}),(0,l.jsx)(s.A,{id:"l00239"}),(0,l.jsxs)(c.A,{lineNumber:"239",children:[(0,l.jsx)(a.A,{kind:"normal",children:"        "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"return"}),(0,l.jsx)(a.A,{kind:"normal",children:" 0;"})]}),(0,l.jsx)(s.A,{id:"l00240"}),(0,l.jsx)(c.A,{lineNumber:"240",children:(0,l.jsx)(a.A,{kind:"normal",children:"    }"})}),(0,l.jsx)(s.A,{id:"l00241"}),(0,l.jsxs)(c.A,{lineNumber:"241",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"return"}),(0,l.jsx)(a.A,{kind:"normal",children:" g_ctx.config.target_temperature;"})]}),(0,l.jsx)(s.A,{id:"l00242"}),(0,l.jsx)(c.A,{lineNumber:"242",children:(0,l.jsx)(a.A,{kind:"normal",children:"}"})}),(0,l.jsx)(s.A,{id:"l00243"}),(0,l.jsx)(c.A,{lineNumber:"243",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00244"}),(0,l.jsxs)(c.A,{lineNumber:"244",children:[(0,l.jsx)(a.A,{kind:"normal"}),(0,l.jsx)(a.A,{kind:"comment",children:"// =====================  INTERNAL FUNCTIONS ====================="}),(0,l.jsx)(a.A,{kind:"normal"})]}),(0,l.jsx)(s.A,{id:"l00245"}),(0,l.jsx)(c.A,{lineNumber:"245",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00246"}),(0,l.jsxs)(c.A,{lineNumber:"246",children:[(0,l.jsx)(a.A,{kind:"normal"}),(0,l.jsx)(a.A,{kind:"keyword",children:"static"}),(0,l.jsx)(a.A,{kind:"normal",children:" "}),(0,l.jsx)(a.A,{kind:"keywordtype",children:"void"}),(0,l.jsx)(a.A,{kind:"normal",children:" reset_context("}),(0,l.jsx)(a.A,{kind:"keywordtype",children:"void"}),(0,l.jsx)(a.A,{kind:"normal",children:") {"})]}),(0,l.jsx)(s.A,{id:"l00247"}),(0,l.jsxs)(c.A,{lineNumber:"247",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    memset(&g_ctx, 0, "}),(0,l.jsx)(a.A,{kind:"keyword",children:"sizeof"}),(0,l.jsxs)(a.A,{kind:"normal",children:["(",(0,l.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/auto-tune-ctx-t",children:"auto_tune_ctx_t"}),"));"]})]}),(0,l.jsx)(s.A,{id:"l00248"}),(0,l.jsx)(c.A,{lineNumber:"248",children:(0,l.jsx)(a.A,{kind:"normal",children:"    g_ctx.state = AUTO_TUNE_IDLE;"})}),(0,l.jsx)(s.A,{id:"l00249"}),(0,l.jsx)(c.A,{lineNumber:"249",children:(0,l.jsx)(a.A,{kind:"normal",children:"}"})}),(0,l.jsx)(s.A,{id:"l00250"}),(0,l.jsx)(c.A,{lineNumber:"250",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00251"}),(0,l.jsxs)(c.A,{lineNumber:"251",children:[(0,l.jsx)(a.A,{kind:"normal"}),(0,l.jsx)(a.A,{kind:"keyword",children:"static"}),(0,l.jsx)(a.A,{kind:"normal",children:" "}),(0,l.jsx)(a.A,{kind:"keywordtype",children:"void"}),(0,l.jsx)(a.A,{kind:"normal",children:" enter_state(auto_tune_state_t new_state) {"})]}),(0,l.jsx)(s.A,{id:"l00252"}),(0,l.jsxs)(c.A,{lineNumber:"252",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"if"}),(0,l.jsx)(a.A,{kind:"normal",children:" (g_ctx.state == new_state) "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"return"}),(0,l.jsx)(a.A,{kind:"normal",children:";"})]}),(0,l.jsx)(s.A,{id:"l00253"}),(0,l.jsx)(c.A,{lineNumber:"253",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00254"}),(0,l.jsxs)(c.A,{lineNumber:"254",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"keyword",children:"const"}),(0,l.jsx)(a.A,{kind:"normal",children:" "}),(0,l.jsx)(a.A,{kind:"keywordtype",children:"char"}),(0,l.jsx)(a.A,{kind:"normal",children:"* state_names[] = {"})]}),(0,l.jsx)(s.A,{id:"l00255"}),(0,l.jsxs)(c.A,{lineNumber:"255",children:[(0,l.jsx)(a.A,{kind:"normal",children:"        "}),(0,l.jsx)(a.A,{kind:"stringliteral",children:'"IDLE"'}),(0,l.jsx)(a.A,{kind:"normal",children:", "}),(0,l.jsx)(a.A,{kind:"stringliteral",children:'"HEATING"'}),(0,l.jsx)(a.A,{kind:"normal",children:", "}),(0,l.jsx)(a.A,{kind:"stringliteral",children:'"RELAY_HIGH"'}),(0,l.jsx)(a.A,{kind:"normal",children:", "}),(0,l.jsx)(a.A,{kind:"stringliteral",children:'"RELAY_LOW"'}),(0,l.jsx)(a.A,{kind:"normal",children:", "})]}),(0,l.jsx)(s.A,{id:"l00256"}),(0,l.jsxs)(c.A,{lineNumber:"256",children:[(0,l.jsx)(a.A,{kind:"normal",children:"        "}),(0,l.jsx)(a.A,{kind:"stringliteral",children:'"ANALYZING"'}),(0,l.jsx)(a.A,{kind:"normal",children:", "}),(0,l.jsx)(a.A,{kind:"stringliteral",children:'"COMPLETE"'}),(0,l.jsx)(a.A,{kind:"normal",children:", "}),(0,l.jsx)(a.A,{kind:"stringliteral",children:'"FAILED"'}),(0,l.jsx)(a.A,{kind:"normal",children:", "}),(0,l.jsx)(a.A,{kind:"stringliteral",children:'"CANCELLED"'}),(0,l.jsx)(a.A,{kind:"normal"})]}),(0,l.jsx)(s.A,{id:"l00257"}),(0,l.jsx)(c.A,{lineNumber:"257",children:(0,l.jsx)(a.A,{kind:"normal",children:"    };"})}),(0,l.jsx)(s.A,{id:"l00258"}),(0,l.jsx)(c.A,{lineNumber:"258",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00259"}),(0,l.jsxs)(c.A,{lineNumber:"259",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    PICO_LOGD(TAG, "}),(0,l.jsx)(a.A,{kind:"stringliteral",children:'"State: %s -> %s"'}),(0,l.jsx)(a.A,{kind:"normal",children:", "})]}),(0,l.jsx)(s.A,{id:"l00260"}),(0,l.jsx)(c.A,{lineNumber:"260",children:(0,l.jsx)(a.A,{kind:"normal",children:"              state_names[g_ctx.state], state_names[new_state]);"})}),(0,l.jsx)(s.A,{id:"l00261"}),(0,l.jsx)(c.A,{lineNumber:"261",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00262"}),(0,l.jsx)(c.A,{lineNumber:"262",children:(0,l.jsx)(a.A,{kind:"normal",children:"    g_ctx.state = new_state;"})}),(0,l.jsx)(s.A,{id:"l00263"}),(0,l.jsx)(c.A,{lineNumber:"263",children:(0,l.jsx)(a.A,{kind:"normal",children:"    g_ctx.state_entry_time_ms = millis();"})}),(0,l.jsx)(s.A,{id:"l00264"}),(0,l.jsx)(c.A,{lineNumber:"264",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00265"}),(0,l.jsxs)(c.A,{lineNumber:"265",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"comment",children:"// State entry actions"}),(0,l.jsx)(a.A,{kind:"normal"})]}),(0,l.jsx)(s.A,{id:"l00266"}),(0,l.jsxs)(c.A,{lineNumber:"266",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"switch"}),(0,l.jsx)(a.A,{kind:"normal",children:" (new_state) {"})]}),(0,l.jsx)(s.A,{id:"l00267"}),(0,l.jsxs)(c.A,{lineNumber:"267",children:[(0,l.jsx)(a.A,{kind:"normal",children:"        "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"case"}),(0,l.jsx)(a.A,{kind:"normal",children:" AUTO_TUNE_HEATING:"})]}),(0,l.jsx)(s.A,{id:"l00268"}),(0,l.jsx)(c.A,{lineNumber:"268",children:(0,l.jsx)(a.A,{kind:"normal",children:"            g_ctx.current_power = g_ctx.config.relay_power_high;"})}),(0,l.jsx)(s.A,{id:"l00269"}),(0,l.jsxs)(c.A,{lineNumber:"269",children:[(0,l.jsx)(a.A,{kind:"normal",children:"            g_ctx.relay_is_high = "}),(0,l.jsx)(a.A,{kind:"keyword",children:"true"}),(0,l.jsx)(a.A,{kind:"normal",children:";"})]}),(0,l.jsx)(s.A,{id:"l00270"}),(0,l.jsxs)(c.A,{lineNumber:"270",children:[(0,l.jsx)(a.A,{kind:"normal",children:"            "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"break"}),(0,l.jsx)(a.A,{kind:"normal",children:";"})]}),(0,l.jsx)(s.A,{id:"l00271"}),(0,l.jsx)(c.A,{lineNumber:"271",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00272"}),(0,l.jsxs)(c.A,{lineNumber:"272",children:[(0,l.jsx)(a.A,{kind:"normal",children:"        "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"case"}),(0,l.jsx)(a.A,{kind:"normal",children:" AUTO_TUNE_RELAY_HIGH:"})]}),(0,l.jsx)(s.A,{id:"l00273"}),(0,l.jsx)(c.A,{lineNumber:"273",children:(0,l.jsx)(a.A,{kind:"normal",children:"            g_ctx.current_power = g_ctx.config.relay_power_high;"})}),(0,l.jsx)(s.A,{id:"l00274"}),(0,l.jsxs)(c.A,{lineNumber:"274",children:[(0,l.jsx)(a.A,{kind:"normal",children:"            g_ctx.relay_is_high = "}),(0,l.jsx)(a.A,{kind:"keyword",children:"true"}),(0,l.jsx)(a.A,{kind:"normal",children:";"})]}),(0,l.jsx)(s.A,{id:"l00275"}),(0,l.jsx)(c.A,{lineNumber:"275",children:(0,l.jsx)(a.A,{kind:"normal",children:"            g_ctx.relay_switch_time_ms = millis();"})}),(0,l.jsx)(s.A,{id:"l00276"}),(0,l.jsxs)(c.A,{lineNumber:"276",children:[(0,l.jsx)(a.A,{kind:"normal",children:"            g_ctx.max_temp_in_half_cycle = -1000.0f; "}),(0,l.jsx)(a.A,{kind:"comment",children:"// Reset max tracking"}),(0,l.jsx)(a.A,{kind:"normal"})]}),(0,l.jsx)(s.A,{id:"l00277"}),(0,l.jsxs)(c.A,{lineNumber:"277",children:[(0,l.jsx)(a.A,{kind:"normal",children:"            "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"break"}),(0,l.jsx)(a.A,{kind:"normal",children:";"})]}),(0,l.jsx)(s.A,{id:"l00278"}),(0,l.jsx)(c.A,{lineNumber:"278",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00279"}),(0,l.jsxs)(c.A,{lineNumber:"279",children:[(0,l.jsx)(a.A,{kind:"normal",children:"        "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"case"}),(0,l.jsx)(a.A,{kind:"normal",children:" AUTO_TUNE_RELAY_LOW:"})]}),(0,l.jsx)(s.A,{id:"l00280"}),(0,l.jsx)(c.A,{lineNumber:"280",children:(0,l.jsx)(a.A,{kind:"normal",children:"            g_ctx.current_power = g_ctx.config.relay_power_low;"})}),(0,l.jsx)(s.A,{id:"l00281"}),(0,l.jsxs)(c.A,{lineNumber:"281",children:[(0,l.jsx)(a.A,{kind:"normal",children:"            g_ctx.relay_is_high = "}),(0,l.jsx)(a.A,{kind:"keyword",children:"false"}),(0,l.jsx)(a.A,{kind:"normal",children:";"})]}),(0,l.jsx)(s.A,{id:"l00282"}),(0,l.jsx)(c.A,{lineNumber:"282",children:(0,l.jsx)(a.A,{kind:"normal",children:"            g_ctx.relay_switch_time_ms = millis();"})}),(0,l.jsx)(s.A,{id:"l00283"}),(0,l.jsxs)(c.A,{lineNumber:"283",children:[(0,l.jsx)(a.A,{kind:"normal",children:"            g_ctx.min_temp_in_half_cycle = 1000.0f; "}),(0,l.jsx)(a.A,{kind:"comment",children:"// Reset min tracking"}),(0,l.jsx)(a.A,{kind:"normal"})]}),(0,l.jsx)(s.A,{id:"l00284"}),(0,l.jsxs)(c.A,{lineNumber:"284",children:[(0,l.jsx)(a.A,{kind:"normal",children:"            "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"break"}),(0,l.jsx)(a.A,{kind:"normal",children:";"})]}),(0,l.jsx)(s.A,{id:"l00285"}),(0,l.jsx)(c.A,{lineNumber:"285",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00286"}),(0,l.jsxs)(c.A,{lineNumber:"286",children:[(0,l.jsx)(a.A,{kind:"normal",children:"        "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"case"}),(0,l.jsx)(a.A,{kind:"normal",children:" AUTO_TUNE_ANALYZING:"})]}),(0,l.jsx)(s.A,{id:"l00287"}),(0,l.jsx)(c.A,{lineNumber:"287",children:(0,l.jsx)(a.A,{kind:"normal",children:"            g_ctx.current_power = 0;"})}),(0,l.jsx)(s.A,{id:"l00288"}),(0,l.jsxs)(c.A,{lineNumber:"288",children:[(0,l.jsx)(a.A,{kind:"normal",children:"            "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"break"}),(0,l.jsx)(a.A,{kind:"normal",children:";"})]}),(0,l.jsx)(s.A,{id:"l00289"}),(0,l.jsx)(c.A,{lineNumber:"289",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00290"}),(0,l.jsxs)(c.A,{lineNumber:"290",children:[(0,l.jsx)(a.A,{kind:"normal",children:"        "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"case"}),(0,l.jsx)(a.A,{kind:"normal",children:" AUTO_TUNE_COMPLETE:"})]}),(0,l.jsx)(s.A,{id:"l00291"}),(0,l.jsxs)(c.A,{lineNumber:"291",children:[(0,l.jsx)(a.A,{kind:"normal",children:"        "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"case"}),(0,l.jsx)(a.A,{kind:"normal",children:" AUTO_TUNE_FAILED:"})]}),(0,l.jsx)(s.A,{id:"l00292"}),(0,l.jsxs)(c.A,{lineNumber:"292",children:[(0,l.jsx)(a.A,{kind:"normal",children:"        "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"case"}),(0,l.jsx)(a.A,{kind:"normal",children:" AUTO_TUNE_CANCELLED:"})]}),(0,l.jsx)(s.A,{id:"l00293"}),(0,l.jsx)(c.A,{lineNumber:"293",children:(0,l.jsx)(a.A,{kind:"normal",children:"            g_ctx.current_power = 0;"})}),(0,l.jsx)(s.A,{id:"l00294"}),(0,l.jsx)(c.A,{lineNumber:"294",children:(0,l.jsx)(a.A,{kind:"normal",children:"            g_ctx.result.tuning_duration_ms = millis() - g_ctx.start_time_ms;"})}),(0,l.jsx)(s.A,{id:"l00295"}),(0,l.jsxs)(c.A,{lineNumber:"295",children:[(0,l.jsx)(a.A,{kind:"normal",children:"            "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"break"}),(0,l.jsx)(a.A,{kind:"normal",children:";"})]}),(0,l.jsx)(s.A,{id:"l00296"}),(0,l.jsx)(c.A,{lineNumber:"296",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00297"}),(0,l.jsxs)(c.A,{lineNumber:"297",children:[(0,l.jsx)(a.A,{kind:"normal",children:"        "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"default"}),(0,l.jsx)(a.A,{kind:"normal",children:":"})]}),(0,l.jsx)(s.A,{id:"l00298"}),(0,l.jsxs)(c.A,{lineNumber:"298",children:[(0,l.jsx)(a.A,{kind:"normal",children:"            "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"break"}),(0,l.jsx)(a.A,{kind:"normal",children:";"})]}),(0,l.jsx)(s.A,{id:"l00299"}),(0,l.jsx)(c.A,{lineNumber:"299",children:(0,l.jsx)(a.A,{kind:"normal",children:"    }"})}),(0,l.jsx)(s.A,{id:"l00300"}),(0,l.jsx)(c.A,{lineNumber:"300",children:(0,l.jsx)(a.A,{kind:"normal",children:"}"})}),(0,l.jsx)(s.A,{id:"l00301"}),(0,l.jsx)(c.A,{lineNumber:"301",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00305"}),(0,l.jsxs)(c.A,{lineNumber:"305",children:[(0,l.jsx)(a.A,{kind:"normal"}),(0,l.jsx)(a.A,{kind:"keyword",children:"static"}),(0,l.jsx)(a.A,{kind:"normal",children:" uint8_t update_heating("}),(0,l.jsx)(a.A,{kind:"keywordtype",children:"float"}),(0,l.jsx)(a.A,{kind:"normal",children:" current_temp) {"})]}),(0,l.jsx)(s.A,{id:"l00306"}),(0,l.jsx)(c.A,{lineNumber:"306",children:(0,l.jsx)(a.A,{kind:"normal",children:"    g_ctx.last_temp = current_temp;"})}),(0,l.jsx)(s.A,{id:"l00307"}),(0,l.jsx)(c.A,{lineNumber:"307",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00308"}),(0,l.jsxs)(c.A,{lineNumber:"308",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"keywordtype",children:"float"}),(0,l.jsx)(a.A,{kind:"normal",children:" target = "}),(0,l.jsx)(a.A,{kind:"keyword",children:"static_cast<"}),(0,l.jsx)(a.A,{kind:"keywordtype",children:"float"}),(0,l.jsx)(a.A,{kind:"keyword",children:">"}),(0,l.jsx)(a.A,{kind:"normal",children:"(g_ctx.config.target_temperature);"})]}),(0,l.jsx)(s.A,{id:"l00309"}),(0,l.jsx)(c.A,{lineNumber:"309",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00310"}),(0,l.jsxs)(c.A,{lineNumber:"310",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"comment",children:"// Heat until we reach target - hysteresis"}),(0,l.jsx)(a.A,{kind:"normal"})]}),(0,l.jsx)(s.A,{id:"l00311"}),(0,l.jsxs)(c.A,{lineNumber:"311",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"if"}),(0,l.jsx)(a.A,{kind:"normal",children:" (current_temp >= target - g_ctx.config.hysteresis) {"})]}),(0,l.jsx)(s.A,{id:"l00312"}),(0,l.jsxs)(c.A,{lineNumber:"312",children:[(0,l.jsx)(a.A,{kind:"normal",children:"        PICO_LOGI(TAG, "}),(0,l.jsx)(a.A,{kind:"stringliteral",children:'"Reached target zone (%.1f\xb0C), starting relay test"'}),(0,l.jsx)(a.A,{kind:"normal",children:", current_temp);"})]}),(0,l.jsx)(s.A,{id:"l00313"}),(0,l.jsx)(c.A,{lineNumber:"313",children:(0,l.jsx)(a.A,{kind:"normal",children:"        g_ctx.last_crossing_time_ms = millis();"})}),(0,l.jsx)(s.A,{id:"l00314"}),(0,l.jsxs)(c.A,{lineNumber:"314",children:[(0,l.jsx)(a.A,{kind:"normal",children:"        enter_state(AUTO_TUNE_RELAY_LOW); "}),(0,l.jsx)(a.A,{kind:"comment",children:"// Start with relay OFF"}),(0,l.jsx)(a.A,{kind:"normal"})]}),(0,l.jsx)(s.A,{id:"l00315"}),(0,l.jsx)(c.A,{lineNumber:"315",children:(0,l.jsx)(a.A,{kind:"normal",children:"    }"})}),(0,l.jsx)(s.A,{id:"l00316"}),(0,l.jsx)(c.A,{lineNumber:"316",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00317"}),(0,l.jsxs)(c.A,{lineNumber:"317",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"return"}),(0,l.jsx)(a.A,{kind:"normal",children:" g_ctx.current_power;"})]}),(0,l.jsx)(s.A,{id:"l00318"}),(0,l.jsx)(c.A,{lineNumber:"318",children:(0,l.jsx)(a.A,{kind:"normal",children:"}"})}),(0,l.jsx)(s.A,{id:"l00319"}),(0,l.jsx)(c.A,{lineNumber:"319",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00323"}),(0,l.jsxs)(c.A,{lineNumber:"323",children:[(0,l.jsx)(a.A,{kind:"normal"}),(0,l.jsx)(a.A,{kind:"keyword",children:"static"}),(0,l.jsx)(a.A,{kind:"normal",children:" uint8_t update_relay_high("}),(0,l.jsx)(a.A,{kind:"keywordtype",children:"float"}),(0,l.jsx)(a.A,{kind:"normal",children:" current_temp) {"})]}),(0,l.jsx)(s.A,{id:"l00324"}),(0,l.jsx)(c.A,{lineNumber:"324",children:(0,l.jsx)(a.A,{kind:"normal",children:"    g_ctx.last_temp = current_temp;"})}),(0,l.jsx)(s.A,{id:"l00325"}),(0,l.jsxs)(c.A,{lineNumber:"325",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"keywordtype",children:"float"}),(0,l.jsx)(a.A,{kind:"normal",children:" target = "}),(0,l.jsx)(a.A,{kind:"keyword",children:"static_cast<"}),(0,l.jsx)(a.A,{kind:"keywordtype",children:"float"}),(0,l.jsx)(a.A,{kind:"keyword",children:">"}),(0,l.jsx)(a.A,{kind:"normal",children:"(g_ctx.config.target_temperature);"})]}),(0,l.jsx)(s.A,{id:"l00326"}),(0,l.jsx)(c.A,{lineNumber:"326",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00327"}),(0,l.jsxs)(c.A,{lineNumber:"327",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"comment",children:"// Track maximum temperature in this half-cycle"}),(0,l.jsx)(a.A,{kind:"normal"})]}),(0,l.jsx)(s.A,{id:"l00328"}),(0,l.jsxs)(c.A,{lineNumber:"328",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"if"}),(0,l.jsx)(a.A,{kind:"normal",children:" (current_temp > g_ctx.max_temp_in_half_cycle) {"})]}),(0,l.jsx)(s.A,{id:"l00329"}),(0,l.jsx)(c.A,{lineNumber:"329",children:(0,l.jsx)(a.A,{kind:"normal",children:"        g_ctx.max_temp_in_half_cycle = current_temp;"})}),(0,l.jsx)(s.A,{id:"l00330"}),(0,l.jsx)(c.A,{lineNumber:"330",children:(0,l.jsx)(a.A,{kind:"normal",children:"    }"})}),(0,l.jsx)(s.A,{id:"l00331"}),(0,l.jsx)(c.A,{lineNumber:"331",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00332"}),(0,l.jsxs)(c.A,{lineNumber:"332",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"comment",children:"// Measure thermal lag: time from relay switch until temp starts rising significantly"}),(0,l.jsx)(a.A,{kind:"normal"})]}),(0,l.jsx)(s.A,{id:"l00333"}),(0,l.jsxs)(c.A,{lineNumber:"333",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"if"}),(0,l.jsx)(a.A,{kind:"normal",children:" (g_ctx.thermal_lag_samples < 10 && g_ctx.temp_at_relay_switch > 0.0f) {"})]}),(0,l.jsx)(s.A,{id:"l00334"}),(0,l.jsxs)(c.A,{lineNumber:"334",children:[(0,l.jsx)(a.A,{kind:"normal",children:"        "}),(0,l.jsx)(a.A,{kind:"keywordtype",children:"float"}),(0,l.jsx)(a.A,{kind:"normal",children:" temp_rise = current_temp - g_ctx.temp_at_relay_switch;"})]}),(0,l.jsx)(s.A,{id:"l00335"}),(0,l.jsxs)(c.A,{lineNumber:"335",children:[(0,l.jsx)(a.A,{kind:"normal",children:"        "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"if"}),(0,l.jsx)(a.A,{kind:"normal",children:" (temp_rise > 1.0f) { "}),(0,l.jsx)(a.A,{kind:"comment",children:"// Temperature started responding"}),(0,l.jsx)(a.A,{kind:"normal"})]}),(0,l.jsx)(s.A,{id:"l00336"}),(0,l.jsx)(c.A,{lineNumber:"336",children:(0,l.jsx)(a.A,{kind:"normal",children:"            uint32_t lag = millis() - g_ctx.relay_switch_time_ms;"})}),(0,l.jsx)(s.A,{id:"l00337"}),(0,l.jsx)(c.A,{lineNumber:"337",children:(0,l.jsx)(a.A,{kind:"normal",children:"            g_ctx.thermal_lag_sum_ms += lag;"})}),(0,l.jsx)(s.A,{id:"l00338"}),(0,l.jsx)(c.A,{lineNumber:"338",children:(0,l.jsx)(a.A,{kind:"normal",children:"            g_ctx.thermal_lag_samples++;"})}),(0,l.jsx)(s.A,{id:"l00339"}),(0,l.jsxs)(c.A,{lineNumber:"339",children:[(0,l.jsx)(a.A,{kind:"normal",children:"            g_ctx.temp_at_relay_switch = 0.0f; "}),(0,l.jsx)(a.A,{kind:"comment",children:"// Don't measure again this cycle"}),(0,l.jsx)(a.A,{kind:"normal"})]}),(0,l.jsx)(s.A,{id:"l00340"}),(0,l.jsxs)(c.A,{lineNumber:"340",children:[(0,l.jsx)(a.A,{kind:"normal",children:"            PICO_LOGD(TAG, "}),(0,l.jsx)(a.A,{kind:"stringliteral",children:'"Thermal lag sample: %lu ms (rise=%.1f\xb0C)"'}),(0,l.jsx)(a.A,{kind:"normal",children:", lag, temp_rise);"})]}),(0,l.jsx)(s.A,{id:"l00341"}),(0,l.jsx)(c.A,{lineNumber:"341",children:(0,l.jsx)(a.A,{kind:"normal",children:"        }"})}),(0,l.jsx)(s.A,{id:"l00342"}),(0,l.jsx)(c.A,{lineNumber:"342",children:(0,l.jsx)(a.A,{kind:"normal",children:"    }"})}),(0,l.jsx)(s.A,{id:"l00343"}),(0,l.jsx)(c.A,{lineNumber:"343",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00344"}),(0,l.jsxs)(c.A,{lineNumber:"344",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"comment",children:"// Switch to LOW when temperature exceeds target + hysteresis"}),(0,l.jsx)(a.A,{kind:"normal"})]}),(0,l.jsx)(s.A,{id:"l00345"}),(0,l.jsxs)(c.A,{lineNumber:"345",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"if"}),(0,l.jsx)(a.A,{kind:"normal",children:" (current_temp >= target + g_ctx.config.hysteresis) {"})]}),(0,l.jsx)(s.A,{id:"l00346"}),(0,l.jsxs)(c.A,{lineNumber:"346",children:[(0,l.jsx)(a.A,{kind:"normal",children:"        "}),(0,l.jsx)(a.A,{kind:"comment",children:"// Record peak"}),(0,l.jsx)(a.A,{kind:"normal"})]}),(0,l.jsx)(s.A,{id:"l00347"}),(0,l.jsxs)(c.A,{lineNumber:"347",children:[(0,l.jsx)(a.A,{kind:"normal",children:"        record_point(g_ctx.max_temp_in_half_cycle, "}),(0,l.jsx)(a.A,{kind:"keyword",children:"true"}),(0,l.jsx)(a.A,{kind:"normal",children:");"})]}),(0,l.jsx)(s.A,{id:"l00348"}),(0,l.jsx)(c.A,{lineNumber:"348",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00349"}),(0,l.jsxs)(c.A,{lineNumber:"349",children:[(0,l.jsx)(a.A,{kind:"normal",children:"        "}),(0,l.jsx)(a.A,{kind:"comment",children:"// Record crossing time for period calculation"}),(0,l.jsx)(a.A,{kind:"normal"})]}),(0,l.jsx)(s.A,{id:"l00350"}),(0,l.jsxs)(c.A,{lineNumber:"350",children:[(0,l.jsx)(a.A,{kind:"normal",children:"        "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"if"}),(0,l.jsx)(a.A,{kind:"normal",children:" (g_ctx.last_crossing_time_ms > 0) {"})]}),(0,l.jsx)(s.A,{id:"l00351"}),(0,l.jsxs)(c.A,{lineNumber:"351",children:[(0,l.jsx)(a.A,{kind:"normal",children:"            "}),(0,l.jsx)(a.A,{kind:"comment",children:"// Not the first crossing"}),(0,l.jsx)(a.A,{kind:"normal"})]}),(0,l.jsx)(s.A,{id:"l00352"}),(0,l.jsx)(c.A,{lineNumber:"352",children:(0,l.jsx)(a.A,{kind:"normal",children:"        }"})}),(0,l.jsx)(s.A,{id:"l00353"}),(0,l.jsx)(c.A,{lineNumber:"353",children:(0,l.jsx)(a.A,{kind:"normal",children:"        g_ctx.last_crossing_time_ms = millis();"})}),(0,l.jsx)(s.A,{id:"l00354"}),(0,l.jsx)(c.A,{lineNumber:"354",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00355"}),(0,l.jsx)(c.A,{lineNumber:"355",children:(0,l.jsx)(a.A,{kind:"normal",children:"        g_ctx.temp_at_relay_switch = current_temp;"})}),(0,l.jsx)(s.A,{id:"l00356"}),(0,l.jsx)(c.A,{lineNumber:"356",children:(0,l.jsx)(a.A,{kind:"normal",children:"        enter_state(AUTO_TUNE_RELAY_LOW);"})}),(0,l.jsx)(s.A,{id:"l00357"}),(0,l.jsx)(c.A,{lineNumber:"357",children:(0,l.jsx)(a.A,{kind:"normal",children:"    }"})}),(0,l.jsx)(s.A,{id:"l00358"}),(0,l.jsx)(c.A,{lineNumber:"358",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00359"}),(0,l.jsxs)(c.A,{lineNumber:"359",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"return"}),(0,l.jsx)(a.A,{kind:"normal",children:" g_ctx.current_power;"})]}),(0,l.jsx)(s.A,{id:"l00360"}),(0,l.jsx)(c.A,{lineNumber:"360",children:(0,l.jsx)(a.A,{kind:"normal",children:"}"})}),(0,l.jsx)(s.A,{id:"l00361"}),(0,l.jsx)(c.A,{lineNumber:"361",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00365"}),(0,l.jsxs)(c.A,{lineNumber:"365",children:[(0,l.jsx)(a.A,{kind:"normal"}),(0,l.jsx)(a.A,{kind:"keyword",children:"static"}),(0,l.jsx)(a.A,{kind:"normal",children:" uint8_t update_relay_low("}),(0,l.jsx)(a.A,{kind:"keywordtype",children:"float"}),(0,l.jsx)(a.A,{kind:"normal",children:" current_temp) {"})]}),(0,l.jsx)(s.A,{id:"l00366"}),(0,l.jsx)(c.A,{lineNumber:"366",children:(0,l.jsx)(a.A,{kind:"normal",children:"    g_ctx.last_temp = current_temp;"})}),(0,l.jsx)(s.A,{id:"l00367"}),(0,l.jsxs)(c.A,{lineNumber:"367",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"keywordtype",children:"float"}),(0,l.jsx)(a.A,{kind:"normal",children:" target = "}),(0,l.jsx)(a.A,{kind:"keyword",children:"static_cast<"}),(0,l.jsx)(a.A,{kind:"keywordtype",children:"float"}),(0,l.jsx)(a.A,{kind:"keyword",children:">"}),(0,l.jsx)(a.A,{kind:"normal",children:"(g_ctx.config.target_temperature);"})]}),(0,l.jsx)(s.A,{id:"l00368"}),(0,l.jsx)(c.A,{lineNumber:"368",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00369"}),(0,l.jsxs)(c.A,{lineNumber:"369",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"comment",children:"// Track minimum temperature in this half-cycle"}),(0,l.jsx)(a.A,{kind:"normal"})]}),(0,l.jsx)(s.A,{id:"l00370"}),(0,l.jsxs)(c.A,{lineNumber:"370",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"if"}),(0,l.jsx)(a.A,{kind:"normal",children:" (current_temp < g_ctx.min_temp_in_half_cycle) {"})]}),(0,l.jsx)(s.A,{id:"l00371"}),(0,l.jsx)(c.A,{lineNumber:"371",children:(0,l.jsx)(a.A,{kind:"normal",children:"        g_ctx.min_temp_in_half_cycle = current_temp;"})}),(0,l.jsx)(s.A,{id:"l00372"}),(0,l.jsx)(c.A,{lineNumber:"372",children:(0,l.jsx)(a.A,{kind:"normal",children:"    }"})}),(0,l.jsx)(s.A,{id:"l00373"}),(0,l.jsx)(c.A,{lineNumber:"373",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00374"}),(0,l.jsxs)(c.A,{lineNumber:"374",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"comment",children:"// Switch to HIGH when temperature drops below target - hysteresis"}),(0,l.jsx)(a.A,{kind:"normal"})]}),(0,l.jsx)(s.A,{id:"l00375"}),(0,l.jsxs)(c.A,{lineNumber:"375",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"if"}),(0,l.jsx)(a.A,{kind:"normal",children:" (current_temp <= target - g_ctx.config.hysteresis) {"})]}),(0,l.jsx)(s.A,{id:"l00376"}),(0,l.jsxs)(c.A,{lineNumber:"376",children:[(0,l.jsx)(a.A,{kind:"normal",children:"        "}),(0,l.jsx)(a.A,{kind:"comment",children:"// Record trough"}),(0,l.jsx)(a.A,{kind:"normal"})]}),(0,l.jsx)(s.A,{id:"l00377"}),(0,l.jsxs)(c.A,{lineNumber:"377",children:[(0,l.jsx)(a.A,{kind:"normal",children:"        record_point(g_ctx.min_temp_in_half_cycle, "}),(0,l.jsx)(a.A,{kind:"keyword",children:"false"}),(0,l.jsx)(a.A,{kind:"normal",children:");"})]}),(0,l.jsx)(s.A,{id:"l00378"}),(0,l.jsx)(c.A,{lineNumber:"378",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00379"}),(0,l.jsxs)(c.A,{lineNumber:"379",children:[(0,l.jsx)(a.A,{kind:"normal",children:"        "}),(0,l.jsx)(a.A,{kind:"comment",children:"// Increment cycle count (one complete oscillation)"}),(0,l.jsx)(a.A,{kind:"normal"})]}),(0,l.jsx)(s.A,{id:"l00380"}),(0,l.jsx)(c.A,{lineNumber:"380",children:(0,l.jsx)(a.A,{kind:"normal",children:"        g_ctx.cycle_count++;"})}),(0,l.jsx)(s.A,{id:"l00381"}),(0,l.jsx)(c.A,{lineNumber:"381",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00382"}),(0,l.jsxs)(c.A,{lineNumber:"382",children:[(0,l.jsx)(a.A,{kind:"normal",children:"        PICO_LOGI(TAG, "}),(0,l.jsx)(a.A,{kind:"stringliteral",children:'"Cycle %d complete: peak=%.1f\xb0C, trough=%.1f\xb0C"'}),(0,l.jsx)(a.A,{kind:"normal",children:","})]}),(0,l.jsx)(s.A,{id:"l00383"}),(0,l.jsx)(c.A,{lineNumber:"383",children:(0,l.jsx)(a.A,{kind:"normal",children:"                  g_ctx.cycle_count, "})}),(0,l.jsx)(s.A,{id:"l00384"}),(0,l.jsx)(c.A,{lineNumber:"384",children:(0,l.jsx)(a.A,{kind:"normal",children:"                  g_ctx.max_temp_in_half_cycle, "})}),(0,l.jsx)(s.A,{id:"l00385"}),(0,l.jsx)(c.A,{lineNumber:"385",children:(0,l.jsx)(a.A,{kind:"normal",children:"                  g_ctx.min_temp_in_half_cycle);"})}),(0,l.jsx)(s.A,{id:"l00386"}),(0,l.jsx)(c.A,{lineNumber:"386",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00387"}),(0,l.jsxs)(c.A,{lineNumber:"387",children:[(0,l.jsx)(a.A,{kind:"normal",children:"        "}),(0,l.jsx)(a.A,{kind:"comment",children:"// Check if we have enough cycles"}),(0,l.jsx)(a.A,{kind:"normal"})]}),(0,l.jsx)(s.A,{id:"l00388"}),(0,l.jsxs)(c.A,{lineNumber:"388",children:[(0,l.jsx)(a.A,{kind:"normal",children:"        "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"if"}),(0,l.jsx)(a.A,{kind:"normal",children:" (g_ctx.cycle_count >= g_ctx.config.max_cycles) {"})]}),(0,l.jsx)(s.A,{id:"l00389"}),(0,l.jsxs)(c.A,{lineNumber:"389",children:[(0,l.jsx)(a.A,{kind:"normal",children:"            PICO_LOGI(TAG, "}),(0,l.jsx)(a.A,{kind:"stringliteral",children:'"Maximum cycles reached, analyzing results"'}),(0,l.jsx)(a.A,{kind:"normal",children:");"})]}),(0,l.jsx)(s.A,{id:"l00390"}),(0,l.jsx)(c.A,{lineNumber:"390",children:(0,l.jsx)(a.A,{kind:"normal",children:"            enter_state(AUTO_TUNE_ANALYZING);"})}),(0,l.jsx)(s.A,{id:"l00391"}),(0,l.jsxs)(c.A,{lineNumber:"391",children:[(0,l.jsx)(a.A,{kind:"normal",children:"            "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"return"}),(0,l.jsx)(a.A,{kind:"normal",children:" 0;"})]}),(0,l.jsx)(s.A,{id:"l00392"}),(0,l.jsx)(c.A,{lineNumber:"392",children:(0,l.jsx)(a.A,{kind:"normal",children:"        }"})}),(0,l.jsx)(s.A,{id:"l00393"}),(0,l.jsx)(c.A,{lineNumber:"393",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00394"}),(0,l.jsxs)(c.A,{lineNumber:"394",children:[(0,l.jsx)(a.A,{kind:"normal",children:"        "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"if"}),(0,l.jsx)(a.A,{kind:"normal",children:" (g_ctx.cycle_count >= g_ctx.config.min_cycles) {"})]}),(0,l.jsx)(s.A,{id:"l00395"}),(0,l.jsxs)(c.A,{lineNumber:"395",children:[(0,l.jsx)(a.A,{kind:"normal",children:"            "}),(0,l.jsx)(a.A,{kind:"comment",children:"// Check if oscillation is stable (amplitude variance low)"}),(0,l.jsx)(a.A,{kind:"normal"})]}),(0,l.jsx)(s.A,{id:"l00396"}),(0,l.jsxs)(c.A,{lineNumber:"396",children:[(0,l.jsx)(a.A,{kind:"normal",children:"            "}),(0,l.jsx)(a.A,{kind:"keywordtype",children:"float"}),(0,l.jsx)(a.A,{kind:"normal",children:" amplitude = calculate_average_amplitude();"})]}),(0,l.jsx)(s.A,{id:"l00397"}),(0,l.jsxs)(c.A,{lineNumber:"397",children:[(0,l.jsx)(a.A,{kind:"normal",children:"            "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"if"}),(0,l.jsx)(a.A,{kind:"normal",children:" (amplitude > 0.0f && g_ctx.point_count >= 4) {"})]}),(0,l.jsx)(s.A,{id:"l00398"}),(0,l.jsxs)(c.A,{lineNumber:"398",children:[(0,l.jsx)(a.A,{kind:"normal",children:"                PICO_LOGI(TAG, "}),(0,l.jsx)(a.A,{kind:"stringliteral",children:'"Sufficient stable cycles, analyzing results"'}),(0,l.jsx)(a.A,{kind:"normal",children:");"})]}),(0,l.jsx)(s.A,{id:"l00399"}),(0,l.jsx)(c.A,{lineNumber:"399",children:(0,l.jsx)(a.A,{kind:"normal",children:"                enter_state(AUTO_TUNE_ANALYZING);"})}),(0,l.jsx)(s.A,{id:"l00400"}),(0,l.jsxs)(c.A,{lineNumber:"400",children:[(0,l.jsx)(a.A,{kind:"normal",children:"                "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"return"}),(0,l.jsx)(a.A,{kind:"normal",children:" 0;"})]}),(0,l.jsx)(s.A,{id:"l00401"}),(0,l.jsx)(c.A,{lineNumber:"401",children:(0,l.jsx)(a.A,{kind:"normal",children:"            }"})}),(0,l.jsx)(s.A,{id:"l00402"}),(0,l.jsx)(c.A,{lineNumber:"402",children:(0,l.jsx)(a.A,{kind:"normal",children:"        }"})}),(0,l.jsx)(s.A,{id:"l00403"}),(0,l.jsx)(c.A,{lineNumber:"403",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00404"}),(0,l.jsx)(c.A,{lineNumber:"404",children:(0,l.jsx)(a.A,{kind:"normal",children:"        g_ctx.temp_at_relay_switch = current_temp;"})}),(0,l.jsx)(s.A,{id:"l00405"}),(0,l.jsx)(c.A,{lineNumber:"405",children:(0,l.jsx)(a.A,{kind:"normal",children:"        enter_state(AUTO_TUNE_RELAY_HIGH);"})}),(0,l.jsx)(s.A,{id:"l00406"}),(0,l.jsx)(c.A,{lineNumber:"406",children:(0,l.jsx)(a.A,{kind:"normal",children:"    }"})}),(0,l.jsx)(s.A,{id:"l00407"}),(0,l.jsx)(c.A,{lineNumber:"407",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00408"}),(0,l.jsxs)(c.A,{lineNumber:"408",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"return"}),(0,l.jsx)(a.A,{kind:"normal",children:" g_ctx.current_power;"})]}),(0,l.jsx)(s.A,{id:"l00409"}),(0,l.jsx)(c.A,{lineNumber:"409",children:(0,l.jsx)(a.A,{kind:"normal",children:"}"})}),(0,l.jsx)(s.A,{id:"l00410"}),(0,l.jsx)(c.A,{lineNumber:"410",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00414"}),(0,l.jsxs)(c.A,{lineNumber:"414",children:[(0,l.jsx)(a.A,{kind:"normal"}),(0,l.jsx)(a.A,{kind:"keyword",children:"static"}),(0,l.jsx)(a.A,{kind:"normal",children:" "}),(0,l.jsx)(a.A,{kind:"keywordtype",children:"void"}),(0,l.jsx)(a.A,{kind:"normal",children:" record_point("}),(0,l.jsx)(a.A,{kind:"keywordtype",children:"float"}),(0,l.jsx)(a.A,{kind:"normal",children:" temp, "}),(0,l.jsx)(a.A,{kind:"keywordtype",children:"bool"}),(0,l.jsx)(a.A,{kind:"normal",children:" is_peak) {"})]}),(0,l.jsx)(s.A,{id:"l00415"}),(0,l.jsxs)(c.A,{lineNumber:"415",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"if"}),(0,l.jsx)(a.A,{kind:"normal",children:" (g_ctx.point_count >= MAX_PEAKS) {"})]}),(0,l.jsx)(s.A,{id:"l00416"}),(0,l.jsxs)(c.A,{lineNumber:"416",children:[(0,l.jsx)(a.A,{kind:"normal",children:"        "}),(0,l.jsx)(a.A,{kind:"comment",children:"// Shift array to make room"}),(0,l.jsx)(a.A,{kind:"normal"})]}),(0,l.jsx)(s.A,{id:"l00417"}),(0,l.jsx)(c.A,{lineNumber:"417",children:(0,l.jsx)(a.A,{kind:"normal",children:"        memmove(&g_ctx.points[0], &g_ctx.points[1], "})}),(0,l.jsx)(s.A,{id:"l00418"}),(0,l.jsxs)(c.A,{lineNumber:"418",children:[(0,l.jsx)(a.A,{kind:"normal",children:"                "}),(0,l.jsx)(a.A,{kind:"keyword",children:"sizeof"}),(0,l.jsxs)(a.A,{kind:"normal",children:["(",(0,l.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/oscillation-point-t",children:"oscillation_point_t"}),") * (MAX_PEAKS - 1));"]})]}),(0,l.jsx)(s.A,{id:"l00419"}),(0,l.jsx)(c.A,{lineNumber:"419",children:(0,l.jsx)(a.A,{kind:"normal",children:"        g_ctx.point_count = MAX_PEAKS - 1;"})}),(0,l.jsx)(s.A,{id:"l00420"}),(0,l.jsx)(c.A,{lineNumber:"420",children:(0,l.jsx)(a.A,{kind:"normal",children:"    }"})}),(0,l.jsx)(s.A,{id:"l00421"}),(0,l.jsx)(c.A,{lineNumber:"421",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00422"}),(0,l.jsx)(c.A,{lineNumber:"422",children:(0,l.jsxs)(a.A,{kind:"normal",children:["    ",(0,l.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/oscillation-point-t",children:"oscillation_point_t"}),"* p = &g_ctx.points[g_ctx.point_count];"]})}),(0,l.jsx)(s.A,{id:"l00423"}),(0,l.jsx)(c.A,{lineNumber:"423",children:(0,l.jsxs)(a.A,{kind:"normal",children:["    p->",(0,l.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/oscillation-point-t/#afc1d28cfbce795d6ea954ebe725241f5",children:"temperature"}),"  = temp;"]})}),(0,l.jsx)(s.A,{id:"l00424"}),(0,l.jsx)(c.A,{lineNumber:"424",children:(0,l.jsxs)(a.A,{kind:"normal",children:["    p->",(0,l.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/oscillation-point-t/#a7151fee88ade6cc487805f36f80cf619",children:"timestamp_ms"})," = millis();"]})}),(0,l.jsx)(s.A,{id:"l00425"}),(0,l.jsx)(c.A,{lineNumber:"425",children:(0,l.jsxs)(a.A,{kind:"normal",children:["    p->",(0,l.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/oscillation-point-t/#a026b439459873275d16ee405c29256f1",children:"is_peak"}),"      = is_peak;"]})}),(0,l.jsx)(s.A,{id:"l00426"}),(0,l.jsx)(c.A,{lineNumber:"426",children:(0,l.jsx)(a.A,{kind:"normal",children:"    g_ctx.point_count++;"})}),(0,l.jsx)(s.A,{id:"l00427"}),(0,l.jsx)(c.A,{lineNumber:"427",children:(0,l.jsx)(a.A,{kind:"normal",children:"}"})}),(0,l.jsx)(s.A,{id:"l00428"}),(0,l.jsx)(c.A,{lineNumber:"428",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00432"}),(0,l.jsxs)(c.A,{lineNumber:"432",children:[(0,l.jsx)(a.A,{kind:"normal"}),(0,l.jsx)(a.A,{kind:"keyword",children:"static"}),(0,l.jsx)(a.A,{kind:"normal",children:" "}),(0,l.jsx)(a.A,{kind:"keywordtype",children:"float"}),(0,l.jsx)(a.A,{kind:"normal",children:" calculate_average_period("}),(0,l.jsx)(a.A,{kind:"keywordtype",children:"void"}),(0,l.jsx)(a.A,{kind:"normal",children:") {"})]}),(0,l.jsx)(s.A,{id:"l00433"}),(0,l.jsxs)(c.A,{lineNumber:"433",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"if"}),(0,l.jsx)(a.A,{kind:"normal",children:" (g_ctx.point_count < 4) {"})]}),(0,l.jsx)(s.A,{id:"l00434"}),(0,l.jsxs)(c.A,{lineNumber:"434",children:[(0,l.jsx)(a.A,{kind:"normal",children:"        "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"return"}),(0,l.jsx)(a.A,{kind:"normal",children:" 0.0f;"})]}),(0,l.jsx)(s.A,{id:"l00435"}),(0,l.jsx)(c.A,{lineNumber:"435",children:(0,l.jsx)(a.A,{kind:"normal",children:"    }"})}),(0,l.jsx)(s.A,{id:"l00436"}),(0,l.jsx)(c.A,{lineNumber:"436",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00437"}),(0,l.jsxs)(c.A,{lineNumber:"437",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"comment",children:"// Calculate period from peak-to-peak or trough-to-trough times"}),(0,l.jsx)(a.A,{kind:"normal"})]}),(0,l.jsx)(s.A,{id:"l00438"}),(0,l.jsxs)(c.A,{lineNumber:"438",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"keywordtype",children:"float"}),(0,l.jsx)(a.A,{kind:"normal",children:" period_sum = 0.0f;"})]}),(0,l.jsx)(s.A,{id:"l00439"}),(0,l.jsx)(c.A,{lineNumber:"439",children:(0,l.jsx)(a.A,{kind:"normal",children:"    uint8_t period_count = 0;"})}),(0,l.jsx)(s.A,{id:"l00440"}),(0,l.jsx)(c.A,{lineNumber:"440",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00441"}),(0,l.jsxs)(c.A,{lineNumber:"441",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"for"}),(0,l.jsx)(a.A,{kind:"normal",children:" (uint8_t i = 2; i < g_ctx.point_count; i++) {"})]}),(0,l.jsx)(s.A,{id:"l00442"}),(0,l.jsxs)(c.A,{lineNumber:"442",children:[(0,l.jsx)(a.A,{kind:"normal",children:"        "}),(0,l.jsx)(a.A,{kind:"comment",children:"// Find same type points (peak-to-peak or trough-to-trough)"}),(0,l.jsx)(a.A,{kind:"normal"})]}),(0,l.jsx)(s.A,{id:"l00443"}),(0,l.jsxs)(c.A,{lineNumber:"443",children:[(0,l.jsx)(a.A,{kind:"normal",children:"        "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"if"}),(0,l.jsx)(a.A,{kind:"normal",children:" (g_ctx.points[i].is_peak == g_ctx.points[i-2].is_peak) {"})]}),(0,l.jsx)(s.A,{id:"l00444"}),(0,l.jsx)(c.A,{lineNumber:"444",children:(0,l.jsx)(a.A,{kind:"normal",children:"            uint32_t dt = g_ctx.points[i].timestamp_ms - g_ctx.points[i-2].timestamp_ms;"})}),(0,l.jsx)(s.A,{id:"l00445"}),(0,l.jsxs)(c.A,{lineNumber:"445",children:[(0,l.jsx)(a.A,{kind:"normal",children:"            period_sum += "}),(0,l.jsx)(a.A,{kind:"keyword",children:"static_cast<"}),(0,l.jsx)(a.A,{kind:"keywordtype",children:"float"}),(0,l.jsx)(a.A,{kind:"keyword",children:">"}),(0,l.jsx)(a.A,{kind:"normal",children:"(dt) / 1000.0f; "}),(0,l.jsx)(a.A,{kind:"comment",children:"// Convert to seconds"}),(0,l.jsx)(a.A,{kind:"normal"})]}),(0,l.jsx)(s.A,{id:"l00446"}),(0,l.jsx)(c.A,{lineNumber:"446",children:(0,l.jsx)(a.A,{kind:"normal",children:"            period_count++;"})}),(0,l.jsx)(s.A,{id:"l00447"}),(0,l.jsx)(c.A,{lineNumber:"447",children:(0,l.jsx)(a.A,{kind:"normal",children:"        }"})}),(0,l.jsx)(s.A,{id:"l00448"}),(0,l.jsx)(c.A,{lineNumber:"448",children:(0,l.jsx)(a.A,{kind:"normal",children:"    }"})}),(0,l.jsx)(s.A,{id:"l00449"}),(0,l.jsx)(c.A,{lineNumber:"449",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00450"}),(0,l.jsxs)(c.A,{lineNumber:"450",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"if"}),(0,l.jsx)(a.A,{kind:"normal",children:" (period_count == 0) {"})]}),(0,l.jsx)(s.A,{id:"l00451"}),(0,l.jsxs)(c.A,{lineNumber:"451",children:[(0,l.jsx)(a.A,{kind:"normal",children:"        "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"return"}),(0,l.jsx)(a.A,{kind:"normal",children:" 0.0f;"})]}),(0,l.jsx)(s.A,{id:"l00452"}),(0,l.jsx)(c.A,{lineNumber:"452",children:(0,l.jsx)(a.A,{kind:"normal",children:"    }"})}),(0,l.jsx)(s.A,{id:"l00453"}),(0,l.jsx)(c.A,{lineNumber:"453",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00454"}),(0,l.jsxs)(c.A,{lineNumber:"454",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"return"}),(0,l.jsx)(a.A,{kind:"normal",children:" period_sum / "}),(0,l.jsx)(a.A,{kind:"keyword",children:"static_cast<"}),(0,l.jsx)(a.A,{kind:"keywordtype",children:"float"}),(0,l.jsx)(a.A,{kind:"keyword",children:">"}),(0,l.jsx)(a.A,{kind:"normal",children:"(period_count);"})]}),(0,l.jsx)(s.A,{id:"l00455"}),(0,l.jsx)(c.A,{lineNumber:"455",children:(0,l.jsx)(a.A,{kind:"normal",children:"}"})}),(0,l.jsx)(s.A,{id:"l00456"}),(0,l.jsx)(c.A,{lineNumber:"456",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00460"}),(0,l.jsxs)(c.A,{lineNumber:"460",children:[(0,l.jsx)(a.A,{kind:"normal"}),(0,l.jsx)(a.A,{kind:"keyword",children:"static"}),(0,l.jsx)(a.A,{kind:"normal",children:" "}),(0,l.jsx)(a.A,{kind:"keywordtype",children:"float"}),(0,l.jsx)(a.A,{kind:"normal",children:" calculate_average_amplitude("}),(0,l.jsx)(a.A,{kind:"keywordtype",children:"void"}),(0,l.jsx)(a.A,{kind:"normal",children:") {"})]}),(0,l.jsx)(s.A,{id:"l00461"}),(0,l.jsxs)(c.A,{lineNumber:"461",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"if"}),(0,l.jsx)(a.A,{kind:"normal",children:" (g_ctx.point_count < 2) {"})]}),(0,l.jsx)(s.A,{id:"l00462"}),(0,l.jsxs)(c.A,{lineNumber:"462",children:[(0,l.jsx)(a.A,{kind:"normal",children:"        "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"return"}),(0,l.jsx)(a.A,{kind:"normal",children:" 0.0f;"})]}),(0,l.jsx)(s.A,{id:"l00463"}),(0,l.jsx)(c.A,{lineNumber:"463",children:(0,l.jsx)(a.A,{kind:"normal",children:"    }"})}),(0,l.jsx)(s.A,{id:"l00464"}),(0,l.jsx)(c.A,{lineNumber:"464",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00465"}),(0,l.jsxs)(c.A,{lineNumber:"465",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"keywordtype",children:"float"}),(0,l.jsx)(a.A,{kind:"normal",children:" amplitude_sum = 0.0f;"})]}),(0,l.jsx)(s.A,{id:"l00466"}),(0,l.jsx)(c.A,{lineNumber:"466",children:(0,l.jsx)(a.A,{kind:"normal",children:"    uint8_t amplitude_count = 0;"})}),(0,l.jsx)(s.A,{id:"l00467"}),(0,l.jsx)(c.A,{lineNumber:"467",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00468"}),(0,l.jsxs)(c.A,{lineNumber:"468",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"comment",children:"// Calculate amplitude from consecutive peak-trough pairs"}),(0,l.jsx)(a.A,{kind:"normal"})]}),(0,l.jsx)(s.A,{id:"l00469"}),(0,l.jsxs)(c.A,{lineNumber:"469",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"for"}),(0,l.jsx)(a.A,{kind:"normal",children:" (uint8_t i = 1; i < g_ctx.point_count; i++) {"})]}),(0,l.jsx)(s.A,{id:"l00470"}),(0,l.jsxs)(c.A,{lineNumber:"470",children:[(0,l.jsx)(a.A,{kind:"normal",children:"        "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"if"}),(0,l.jsx)(a.A,{kind:"normal",children:" (g_ctx.points[i].is_peak != g_ctx.points[i-1].is_peak) {"})]}),(0,l.jsx)(s.A,{id:"l00471"}),(0,l.jsxs)(c.A,{lineNumber:"471",children:[(0,l.jsx)(a.A,{kind:"normal",children:"            "}),(0,l.jsx)(a.A,{kind:"keywordtype",children:"float"}),(0,l.jsx)(a.A,{kind:"normal",children:" diff = fabsf(g_ctx.points[i].temperature - g_ctx.points[i-1].temperature);"})]}),(0,l.jsx)(s.A,{id:"l00472"}),(0,l.jsx)(c.A,{lineNumber:"472",children:(0,l.jsx)(a.A,{kind:"normal",children:"            amplitude_sum += diff;"})}),(0,l.jsx)(s.A,{id:"l00473"}),(0,l.jsx)(c.A,{lineNumber:"473",children:(0,l.jsx)(a.A,{kind:"normal",children:"            amplitude_count++;"})}),(0,l.jsx)(s.A,{id:"l00474"}),(0,l.jsx)(c.A,{lineNumber:"474",children:(0,l.jsx)(a.A,{kind:"normal",children:"        }"})}),(0,l.jsx)(s.A,{id:"l00475"}),(0,l.jsx)(c.A,{lineNumber:"475",children:(0,l.jsx)(a.A,{kind:"normal",children:"    }"})}),(0,l.jsx)(s.A,{id:"l00476"}),(0,l.jsx)(c.A,{lineNumber:"476",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00477"}),(0,l.jsxs)(c.A,{lineNumber:"477",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"if"}),(0,l.jsx)(a.A,{kind:"normal",children:" (amplitude_count == 0) {"})]}),(0,l.jsx)(s.A,{id:"l00478"}),(0,l.jsxs)(c.A,{lineNumber:"478",children:[(0,l.jsx)(a.A,{kind:"normal",children:"        "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"return"}),(0,l.jsx)(a.A,{kind:"normal",children:" 0.0f;"})]}),(0,l.jsx)(s.A,{id:"l00479"}),(0,l.jsx)(c.A,{lineNumber:"479",children:(0,l.jsx)(a.A,{kind:"normal",children:"    }"})}),(0,l.jsx)(s.A,{id:"l00480"}),(0,l.jsx)(c.A,{lineNumber:"480",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00481"}),(0,l.jsxs)(c.A,{lineNumber:"481",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"return"}),(0,l.jsx)(a.A,{kind:"normal",children:" amplitude_sum / "}),(0,l.jsx)(a.A,{kind:"keyword",children:"static_cast<"}),(0,l.jsx)(a.A,{kind:"keywordtype",children:"float"}),(0,l.jsx)(a.A,{kind:"keyword",children:">"}),(0,l.jsx)(a.A,{kind:"normal",children:"(amplitude_count);"})]}),(0,l.jsx)(s.A,{id:"l00482"}),(0,l.jsx)(c.A,{lineNumber:"482",children:(0,l.jsx)(a.A,{kind:"normal",children:"}"})}),(0,l.jsx)(s.A,{id:"l00483"}),(0,l.jsx)(c.A,{lineNumber:"483",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00487"}),(0,l.jsxs)(c.A,{lineNumber:"487",children:[(0,l.jsx)(a.A,{kind:"normal"}),(0,l.jsx)(a.A,{kind:"keyword",children:"static"}),(0,l.jsx)(a.A,{kind:"normal",children:" "}),(0,l.jsx)(a.A,{kind:"keywordtype",children:"void"}),(0,l.jsx)(a.A,{kind:"normal",children:" analyze_results("}),(0,l.jsx)(a.A,{kind:"keywordtype",children:"void"}),(0,l.jsx)(a.A,{kind:"normal",children:") {"})]}),(0,l.jsx)(s.A,{id:"l00488"}),(0,l.jsxs)(c.A,{lineNumber:"488",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    PICO_LOGI(TAG, "}),(0,l.jsx)(a.A,{kind:"stringliteral",children:'"Analyzing %d oscillation points from %d cycles"'}),(0,l.jsx)(a.A,{kind:"normal",children:","})]}),(0,l.jsx)(s.A,{id:"l00489"}),(0,l.jsx)(c.A,{lineNumber:"489",children:(0,l.jsx)(a.A,{kind:"normal",children:"              g_ctx.point_count, g_ctx.cycle_count);"})}),(0,l.jsx)(s.A,{id:"l00490"}),(0,l.jsx)(c.A,{lineNumber:"490",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00491"}),(0,l.jsxs)(c.A,{lineNumber:"491",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"comment",children:"// Calculate ultimate period (Tu)"}),(0,l.jsx)(a.A,{kind:"normal"})]}),(0,l.jsx)(s.A,{id:"l00492"}),(0,l.jsxs)(c.A,{lineNumber:"492",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"keywordtype",children:"float"}),(0,l.jsx)(a.A,{kind:"normal",children:" Tu = calculate_average_period();"})]}),(0,l.jsx)(s.A,{id:"l00493"}),(0,l.jsxs)(c.A,{lineNumber:"493",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"if"}),(0,l.jsx)(a.A,{kind:"normal",children:" (Tu <= 0.0f) {"})]}),(0,l.jsx)(s.A,{id:"l00494"}),(0,l.jsxs)(c.A,{lineNumber:"494",children:[(0,l.jsx)(a.A,{kind:"normal",children:"        PICO_LOGE(TAG, "}),(0,l.jsx)(a.A,{kind:"stringliteral",children:'"Failed to calculate oscillation period"'}),(0,l.jsx)(a.A,{kind:"normal",children:");"})]}),(0,l.jsx)(s.A,{id:"l00495"}),(0,l.jsx)(c.A,{lineNumber:"495",children:(0,l.jsx)(a.A,{kind:"normal",children:"        enter_state(AUTO_TUNE_FAILED);"})}),(0,l.jsx)(s.A,{id:"l00496"}),(0,l.jsxs)(c.A,{lineNumber:"496",children:[(0,l.jsx)(a.A,{kind:"normal",children:"        "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"return"}),(0,l.jsx)(a.A,{kind:"normal",children:";"})]}),(0,l.jsx)(s.A,{id:"l00497"}),(0,l.jsx)(c.A,{lineNumber:"497",children:(0,l.jsx)(a.A,{kind:"normal",children:"    }"})}),(0,l.jsx)(s.A,{id:"l00498"}),(0,l.jsx)(c.A,{lineNumber:"498",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00499"}),(0,l.jsxs)(c.A,{lineNumber:"499",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"comment",children:"// Calculate amplitude"}),(0,l.jsx)(a.A,{kind:"normal"})]}),(0,l.jsx)(s.A,{id:"l00500"}),(0,l.jsxs)(c.A,{lineNumber:"500",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"keywordtype",children:"float"}),(0,l.jsx)(a.A,{kind:"normal",children:" amplitude = calculate_average_amplitude();"})]}),(0,l.jsx)(s.A,{id:"l00501"}),(0,l.jsxs)(c.A,{lineNumber:"501",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"if"}),(0,l.jsx)(a.A,{kind:"normal",children:" (amplitude <= 0.0f) {"})]}),(0,l.jsx)(s.A,{id:"l00502"}),(0,l.jsxs)(c.A,{lineNumber:"502",children:[(0,l.jsx)(a.A,{kind:"normal",children:"        PICO_LOGE(TAG, "}),(0,l.jsx)(a.A,{kind:"stringliteral",children:'"Failed to calculate oscillation amplitude"'}),(0,l.jsx)(a.A,{kind:"normal",children:");"})]}),(0,l.jsx)(s.A,{id:"l00503"}),(0,l.jsx)(c.A,{lineNumber:"503",children:(0,l.jsx)(a.A,{kind:"normal",children:"        enter_state(AUTO_TUNE_FAILED);"})}),(0,l.jsx)(s.A,{id:"l00504"}),(0,l.jsxs)(c.A,{lineNumber:"504",children:[(0,l.jsx)(a.A,{kind:"normal",children:"        "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"return"}),(0,l.jsx)(a.A,{kind:"normal",children:";"})]}),(0,l.jsx)(s.A,{id:"l00505"}),(0,l.jsx)(c.A,{lineNumber:"505",children:(0,l.jsx)(a.A,{kind:"normal",children:"    }"})}),(0,l.jsx)(s.A,{id:"l00506"}),(0,l.jsx)(c.A,{lineNumber:"506",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00507"}),(0,l.jsxs)(c.A,{lineNumber:"507",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"comment",children:"// Calculate relay amplitude (d) - this is half the power swing"}),(0,l.jsx)(a.A,{kind:"normal"})]}),(0,l.jsx)(s.A,{id:"l00508"}),(0,l.jsxs)(c.A,{lineNumber:"508",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"keywordtype",children:"float"}),(0,l.jsx)(a.A,{kind:"normal",children:" d = "}),(0,l.jsx)(a.A,{kind:"keyword",children:"static_cast<"}),(0,l.jsx)(a.A,{kind:"keywordtype",children:"float"}),(0,l.jsx)(a.A,{kind:"keyword",children:">"}),(0,l.jsx)(a.A,{kind:"normal",children:"(g_ctx.config.relay_power_high - g_ctx.config.relay_power_low) / 2.0f;"})]}),(0,l.jsx)(s.A,{id:"l00509"}),(0,l.jsx)(c.A,{lineNumber:"509",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00510"}),(0,l.jsxs)(c.A,{lineNumber:"510",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"comment",children:"// Calculate ultimate gain (Ku) using relay method formula"}),(0,l.jsx)(a.A,{kind:"normal"})]}),(0,l.jsx)(s.A,{id:"l00511"}),(0,l.jsxs)(c.A,{lineNumber:"511",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"comment",children:"// Ku = (4 * d) / (pi * amplitude)"}),(0,l.jsx)(a.A,{kind:"normal"})]}),(0,l.jsx)(s.A,{id:"l00512"}),(0,l.jsxs)(c.A,{lineNumber:"512",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"keywordtype",children:"float"}),(0,l.jsx)(a.A,{kind:"normal",children:" Ku = (4.0f * d) / (M_PI * amplitude);"})]}),(0,l.jsx)(s.A,{id:"l00513"}),(0,l.jsx)(c.A,{lineNumber:"513",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00514"}),(0,l.jsxs)(c.A,{lineNumber:"514",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"comment",children:"// Calculate thermal lag"}),(0,l.jsx)(a.A,{kind:"normal"})]}),(0,l.jsx)(s.A,{id:"l00515"}),(0,l.jsx)(c.A,{lineNumber:"515",children:(0,l.jsx)(a.A,{kind:"normal",children:"    uint16_t thermal_lag_ms = 0;"})}),(0,l.jsx)(s.A,{id:"l00516"}),(0,l.jsxs)(c.A,{lineNumber:"516",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"keywordflow",children:"if"}),(0,l.jsx)(a.A,{kind:"normal",children:" (g_ctx.thermal_lag_samples > 0) {"})]}),(0,l.jsx)(s.A,{id:"l00517"}),(0,l.jsxs)(c.A,{lineNumber:"517",children:[(0,l.jsx)(a.A,{kind:"normal",children:"        thermal_lag_ms = "}),(0,l.jsx)(a.A,{kind:"keyword",children:"static_cast<"}),(0,l.jsx)(a.A,{kind:"normal",children:"uint16_t"}),(0,l.jsx)(a.A,{kind:"keyword",children:">"}),(0,l.jsx)(a.A,{kind:"normal",children:"(g_ctx.thermal_lag_sum_ms / g_ctx.thermal_lag_samples);"})]}),(0,l.jsx)(s.A,{id:"l00518"}),(0,l.jsx)(c.A,{lineNumber:"518",children:(0,l.jsx)(a.A,{kind:"normal",children:"    }"})}),(0,l.jsx)(s.A,{id:"l00519"}),(0,l.jsx)(c.A,{lineNumber:"519",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00520"}),(0,l.jsxs)(c.A,{lineNumber:"520",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"comment",children:"// Store results"}),(0,l.jsx)(a.A,{kind:"normal"})]}),(0,l.jsx)(s.A,{id:"l00521"}),(0,l.jsx)(c.A,{lineNumber:"521",children:(0,l.jsx)(a.A,{kind:"normal",children:"    g_ctx.result.ultimate_gain   = Ku;"})}),(0,l.jsx)(s.A,{id:"l00522"}),(0,l.jsx)(c.A,{lineNumber:"522",children:(0,l.jsx)(a.A,{kind:"normal",children:"    g_ctx.result.ultimate_period = Tu;"})}),(0,l.jsx)(s.A,{id:"l00523"}),(0,l.jsx)(c.A,{lineNumber:"523",children:(0,l.jsx)(a.A,{kind:"normal",children:"    g_ctx.result.thermal_lag_ms  = thermal_lag_ms;"})}),(0,l.jsx)(s.A,{id:"l00524"}),(0,l.jsx)(c.A,{lineNumber:"524",children:(0,l.jsx)(a.A,{kind:"normal",children:"    g_ctx.result.amplitude       = amplitude;"})}),(0,l.jsx)(s.A,{id:"l00525"}),(0,l.jsx)(c.A,{lineNumber:"525",children:(0,l.jsx)(a.A,{kind:"normal",children:"    g_ctx.result.cycles_completed = g_ctx.cycle_count;"})}),(0,l.jsx)(s.A,{id:"l00526"}),(0,l.jsx)(c.A,{lineNumber:"526",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00527"}),(0,l.jsxs)(c.A,{lineNumber:"527",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"comment",children:"// Calculate PID parameters"}),(0,l.jsx)(a.A,{kind:"normal"})]}),(0,l.jsx)(s.A,{id:"l00528"}),(0,l.jsx)(c.A,{lineNumber:"528",children:(0,l.jsx)(a.A,{kind:"normal",children:"    calculate_pid_parameters();"})}),(0,l.jsx)(s.A,{id:"l00529"}),(0,l.jsx)(c.A,{lineNumber:"529",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00530"}),(0,l.jsxs)(c.A,{lineNumber:"530",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    PICO_LOGI(TAG, "}),(0,l.jsx)(a.A,{kind:"stringliteral",children:'"Auto-tune complete: Ku=%.3f, Tu=%.2fs, amplitude=%.1f\xb0C, lag=%dms"'}),(0,l.jsx)(a.A,{kind:"normal",children:","})]}),(0,l.jsx)(s.A,{id:"l00531"}),(0,l.jsx)(c.A,{lineNumber:"531",children:(0,l.jsx)(a.A,{kind:"normal",children:"              Ku, Tu, amplitude, thermal_lag_ms);"})}),(0,l.jsx)(s.A,{id:"l00532"}),(0,l.jsxs)(c.A,{lineNumber:"532",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    PICO_LOGI(TAG, "}),(0,l.jsx)(a.A,{kind:"stringliteral",children:'"Ziegler-Nichols: Kp=%.3f, Ki=%.3f, Kd=%.3f"'}),(0,l.jsx)(a.A,{kind:"normal",children:","})]}),(0,l.jsx)(s.A,{id:"l00533"}),(0,l.jsx)(c.A,{lineNumber:"533",children:(0,l.jsx)(a.A,{kind:"normal",children:"              g_ctx.result.pid_zn.kp, g_ctx.result.pid_zn.ki, g_ctx.result.pid_zn.kd);"})}),(0,l.jsx)(s.A,{id:"l00534"}),(0,l.jsxs)(c.A,{lineNumber:"534",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    PICO_LOGI(TAG, "}),(0,l.jsx)(a.A,{kind:"stringliteral",children:'"Conservative:    Kp=%.3f, Ki=%.3f, Kd=%.3f"'}),(0,l.jsx)(a.A,{kind:"normal",children:","})]}),(0,l.jsx)(s.A,{id:"l00535"}),(0,l.jsx)(c.A,{lineNumber:"535",children:(0,l.jsx)(a.A,{kind:"normal",children:"              g_ctx.result.pid_conservative.kp, g_ctx.result.pid_conservative.ki, "})}),(0,l.jsx)(s.A,{id:"l00536"}),(0,l.jsx)(c.A,{lineNumber:"536",children:(0,l.jsx)(a.A,{kind:"normal",children:"              g_ctx.result.pid_conservative.kd);"})}),(0,l.jsx)(s.A,{id:"l00537"}),(0,l.jsx)(c.A,{lineNumber:"537",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00538"}),(0,l.jsx)(c.A,{lineNumber:"538",children:(0,l.jsx)(a.A,{kind:"normal",children:"    enter_state(AUTO_TUNE_COMPLETE);"})}),(0,l.jsx)(s.A,{id:"l00539"}),(0,l.jsx)(c.A,{lineNumber:"539",children:(0,l.jsx)(a.A,{kind:"normal",children:"}"})}),(0,l.jsx)(s.A,{id:"l00540"}),(0,l.jsx)(c.A,{lineNumber:"540",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00544"}),(0,l.jsxs)(c.A,{lineNumber:"544",children:[(0,l.jsx)(a.A,{kind:"normal"}),(0,l.jsx)(a.A,{kind:"keyword",children:"static"}),(0,l.jsx)(a.A,{kind:"normal",children:" "}),(0,l.jsx)(a.A,{kind:"keywordtype",children:"void"}),(0,l.jsx)(a.A,{kind:"normal",children:" calculate_pid_parameters("}),(0,l.jsx)(a.A,{kind:"keywordtype",children:"void"}),(0,l.jsx)(a.A,{kind:"normal",children:") {"})]}),(0,l.jsx)(s.A,{id:"l00545"}),(0,l.jsxs)(c.A,{lineNumber:"545",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"keywordtype",children:"float"}),(0,l.jsx)(a.A,{kind:"normal",children:" Ku = g_ctx.result.ultimate_gain;"})]}),(0,l.jsx)(s.A,{id:"l00546"}),(0,l.jsxs)(c.A,{lineNumber:"546",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"keywordtype",children:"float"}),(0,l.jsx)(a.A,{kind:"normal",children:" Tu = g_ctx.result.ultimate_period;"})]}),(0,l.jsx)(s.A,{id:"l00547"}),(0,l.jsx)(c.A,{lineNumber:"547",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00548"}),(0,l.jsxs)(c.A,{lineNumber:"548",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"comment",children:"// Ziegler-Nichols PID formula (classic)"}),(0,l.jsx)(a.A,{kind:"normal"})]}),(0,l.jsx)(s.A,{id:"l00549"}),(0,l.jsxs)(c.A,{lineNumber:"549",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"comment",children:"// Kp = 0.6 * Ku"}),(0,l.jsx)(a.A,{kind:"normal"})]}),(0,l.jsx)(s.A,{id:"l00550"}),(0,l.jsxs)(c.A,{lineNumber:"550",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"comment",children:"// Ki = 1.2 * Ku / Tu (or Ti = Tu/2, Ki = Kp/Ti)"}),(0,l.jsx)(a.A,{kind:"normal"})]}),(0,l.jsx)(s.A,{id:"l00551"}),(0,l.jsxs)(c.A,{lineNumber:"551",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"comment",children:"// Kd = 0.075 * Ku * Tu (or Td = Tu/8, Kd = Kp*Td)"}),(0,l.jsx)(a.A,{kind:"normal"})]}),(0,l.jsx)(s.A,{id:"l00552"}),(0,l.jsx)(c.A,{lineNumber:"552",children:(0,l.jsx)(a.A,{kind:"normal",children:"    g_ctx.result.pid_zn.kp   = 0.6f * Ku;"})}),(0,l.jsx)(s.A,{id:"l00553"}),(0,l.jsx)(c.A,{lineNumber:"553",children:(0,l.jsx)(a.A,{kind:"normal",children:"    g_ctx.result.pid_zn.ki   = 1.2f * Ku / Tu;"})}),(0,l.jsx)(s.A,{id:"l00554"}),(0,l.jsx)(c.A,{lineNumber:"554",children:(0,l.jsx)(a.A,{kind:"normal",children:"    g_ctx.result.pid_zn.kd   = 0.075f * Ku * Tu;"})}),(0,l.jsx)(s.A,{id:"l00555"}),(0,l.jsxs)(c.A,{lineNumber:"555",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    g_ctx.result.pid_zn.imax = 50.0f;  "}),(0,l.jsx)(a.A,{kind:"comment",children:"// Reasonable defaults"}),(0,l.jsx)(a.A,{kind:"normal"})]}),(0,l.jsx)(s.A,{id:"l00556"}),(0,l.jsx)(c.A,{lineNumber:"556",children:(0,l.jsx)(a.A,{kind:"normal",children:"    g_ctx.result.pid_zn.imin = -5.0f;"})}),(0,l.jsx)(s.A,{id:"l00557"}),(0,l.jsx)(c.A,{lineNumber:"557",children:(0,l.jsx)(a.A,{kind:"normal"})}),(0,l.jsx)(s.A,{id:"l00558"}),(0,l.jsxs)(c.A,{lineNumber:"558",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"comment",children:"// Conservative/No Overshoot PID formula"}),(0,l.jsx)(a.A,{kind:"normal"})]}),(0,l.jsx)(s.A,{id:"l00559"}),(0,l.jsxs)(c.A,{lineNumber:"559",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"comment",children:"// More conservative tuning to reduce overshoot"}),(0,l.jsx)(a.A,{kind:"normal"})]}),(0,l.jsx)(s.A,{id:"l00560"}),(0,l.jsxs)(c.A,{lineNumber:"560",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"comment",children:"// Kp = 0.33 * Ku"}),(0,l.jsx)(a.A,{kind:"normal"})]}),(0,l.jsx)(s.A,{id:"l00561"}),(0,l.jsxs)(c.A,{lineNumber:"561",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"comment",children:"// Ki = 0.66 * Ku / Tu"}),(0,l.jsx)(a.A,{kind:"normal"})]}),(0,l.jsx)(s.A,{id:"l00562"}),(0,l.jsxs)(c.A,{lineNumber:"562",children:[(0,l.jsx)(a.A,{kind:"normal",children:"    "}),(0,l.jsx)(a.A,{kind:"comment",children:"// Kd = 0.11 * Ku * Tu"}),(0,l.jsx)(a.A,{kind:"normal"})]}),(0,l.jsx)(s.A,{id:"l00563"}),(0,l.jsx)(c.A,{lineNumber:"563",children:(0,l.jsx)(a.A,{kind:"normal",children:"    g_ctx.result.pid_conservative.kp   = 0.33f * Ku;"})}),(0,l.jsx)(s.A,{id:"l00564"}),(0,l.jsx)(c.A,{lineNumber:"564",children:(0,l.jsx)(a.A,{kind:"normal",children:"    g_ctx.result.pid_conservative.ki   = 0.66f * Ku / Tu;"})}),(0,l.jsx)(s.A,{id:"l00565"}),(0,l.jsx)(c.A,{lineNumber:"565",children:(0,l.jsx)(a.A,{kind:"normal",children:"    g_ctx.result.pid_conservative.kd   = 0.11f * Ku * Tu;"})}),(0,l.jsx)(s.A,{id:"l00566"}),(0,l.jsx)(c.A,{lineNumber:"566",children:(0,l.jsx)(a.A,{kind:"normal",children:"    g_ctx.result.pid_conservative.imax = 50.0f;"})}),(0,l.jsx)(s.A,{id:"l00567"}),(0,l.jsx)(c.A,{lineNumber:"567",children:(0,l.jsx)(a.A,{kind:"normal",children:"    g_ctx.result.pid_conservative.imin = -5.0f;"})}),(0,l.jsx)(s.A,{id:"l00568"}),(0,l.jsx)(c.A,{lineNumber:"568",children:(0,l.jsx)(a.A,{kind:"normal",children:"}"})})]})]})]})}function T(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(w,{...e})}):w(e)}},13763:(e,n,i)=>{i.d(n,{A:()=>d});var r=i(96540),l=i(74848);function d({kind:e,children:n}){return 0===r.Children.count(n)?(0,l.jsx)(l.Fragment,{}):"comment"===e?(0,l.jsx)("span",{class:"doxyHighlightComment",children:n}):"preprocessor"===e?(0,l.jsx)("span",{class:"doxyHighlightPreprocessor",children:n}):"keyword"===e?(0,l.jsx)("span",{class:"doxyHighlightKeyword",children:n}):"keywordtype"===e?(0,l.jsx)("span",{class:"doxyHighlightKeywordType",children:n}):"keywordflow"===e?(0,l.jsx)("span",{class:"doxyHighlightKeywordFlow",children:n}):"token"===e?(0,l.jsx)("span",{class:"doxyHighlightToken",children:n}):"stringliteral"===e?(0,l.jsx)("span",{class:"doxyHighlightStringLiteral",children:n}):"charliteral"===e?(0,l.jsx)("span",{class:"doxyHighlightCharLiteral",children:n}):(0,l.jsx)("span",{class:"doxyHighlight",children:n})}},17027:(e,n,i)=>{i.d(n,{A:()=>l});i(96540);var r=i(74848);function l({template:e,type:n,name:i,children:l}){return(0,r.jsxs)(r.Fragment,{children:[e&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("tr",{class:"doxyMemberIndexTemplate",children:(0,r.jsx)("td",{class:"doxyMemberIndexTemplate",colspan:"2",children:(0,r.jsx)("div",{children:e})})}),(0,r.jsxs)("tr",{class:"doxyMemberIndexItem",children:[n&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("td",{class:"doxyMemberIndexItemTypeTemplate",align:"right",valign:"top",children:n}),(0,r.jsx)("td",{class:"doxyMemberIndexItemNameTemplate",align:"left",valign:"top",children:i})]}),!n&&(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("td",{class:"doxyMemberIndexItemNoTypeNameTemplate",colspan:"2",align:"left",valign:"top",children:i})})]})]}),!e&&(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("tr",{class:"doxyMemberIndexItem",children:[(0,r.jsx)("td",{class:"doxyMemberIndexItemType",align:"right",valign:"top",children:n}),(0,r.jsx)("td",{class:"doxyMemberIndexItemName",align:"left",valign:"top",children:i})]})}),(0,r.jsxs)("tr",{class:"doxyMemberIndexDescription",children:[(0,r.jsx)("td",{class:"doxyMemberIndexDescriptionLeft"}),(0,r.jsx)("td",{class:"doxyMemberIndexDescriptionRight",children:l})]}),(0,r.jsx)("tr",{class:"doxyMemberIndexSeparator",children:(0,r.jsx)("td",{class:"doxyMemberIndexSeparator",colspan:"2"})})]})}},17949:(e,n,i)=>{i.d(n,{A:()=>l});i(96540);var r=i(74848);function l({children:e}){return(0,r.jsx)("div",{class:"doxySectionDef",children:e})}},23590:e=>{e.exports=JSON.parse('{"doxygenVersion":"1.15.0"}')},27032:(e,n,i)=>{i.d(n,{A:()=>l});i(96540);var r=i(74848);function l({lineNumber:e,lineLink:n,children:i}){return(0,r.jsxs)("div",{class:"doxyCodeLine",children:[e&&(0,r.jsx)("span",{class:"doxyLineNumber",children:n?(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("a",{href:n,children:e})}):`${e}`}),!e&&(0,r.jsx)("span",{class:"doxyNoLineNumber",children:"\xa0"}),(0,r.jsx)("span",{class:"doxyLineContent",children:i})]})}},28453:(e,n,i)=>{i.d(n,{R:()=>s,x:()=>c});var r=i(96540);const l={},d=r.createContext(l);function s(e){const n=r.useContext(d);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:s(e.components),r.createElement(d.Provider,{value:n},e.children)}},30729:(e,n,i)=>{i.d(n,{A:()=>l});i(96540);var r=i(74848);function l({title:e,children:n}){return(0,r.jsxs)("dl",{class:"doxyParamsList",children:[(0,r.jsx)("dt",{class:"doxyParamsTableTitle",children:e}),(0,r.jsx)("dd",{children:(0,r.jsx)("table",{class:"doxyParamsTable",children:n})})]})}},35796:(e,n,i)=>{i.d(n,{A:()=>l});i(96540);var r=i(74848);function l({name:e,children:n}){return(0,r.jsxs)("tr",{class:"doxyParamItem",children:[(0,r.jsx)("td",{class:"doxyParamItemName",children:e}),(0,r.jsx)("td",{class:"doxyParamItemDescription",children:n})]})}},54310:(e,n,i)=>{i.d(n,{A:()=>l});i(96540);var r=i(74848);function l({title:e,children:n}){return(0,r.jsx)("div",{class:"doxyIncludesList",children:n})}},55710:(e,n,i)=>{i.d(n,{A:()=>l});i(96540);var r=i(74848);function l({children:e}){return(0,r.jsx)("table",{class:"doxyMembersIndex",children:e})}},70900:(e,n,i)=>{i.d(n,{A:()=>l});i(96540);var r=i(74848);function l({template:e,prototype:n,labels:i,children:l}){return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{class:"doxyMemberItem",children:[(0,r.jsxs)("div",{class:"doxyMemberProto",children:[e&&(0,r.jsx)("div",{class:"doxyMemberTemplate",children:e}),(0,r.jsx)("table",{class:"doxyMemberLabels",children:(0,r.jsx)("tbody",{children:(0,r.jsxs)("tr",{class:"doxyMemberLabels",children:[(0,r.jsx)("td",{class:"doxyMemberLabelsLeft",children:(0,r.jsx)("table",{class:"doxyMemberName",children:(0,r.jsx)("tbody",{children:(0,r.jsx)("tr",{children:(0,r.jsx)("td",{class:"doxyMemberName",children:n})})})})}),i&&i.length>0&&(0,r.jsx)("td",{class:"doxyMemberLabelsRight",children:(0,r.jsx)("span",{class:"doxyMemberLabels",children:i.map(e=>(0,r.jsx)("span",{class:`doxyMemberLabel ${e}`,children:e}))})})]})})})]}),(0,r.jsx)("div",{class:"doxyMemberDoc",children:l})]})})}},77035:(e,n,i)=>{i.d(n,{A:()=>l});i(96540);var r=i(74848);function l({filePath:e,permalink:n,isLocal:i,children:l}){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("code",{children:["#include ","true"===i?'"':"<",n?.length>0?(0,r.jsx)("a",{href:n,children:e}):e,"true"===i?'"':">"]}),(0,r.jsx)("br",{})]})}},86563:(e,n,i)=>{i.d(n,{A:()=>l});i(96540);var r=i(74848);function l({title:e,children:n}){return(0,r.jsxs)("dl",{class:"doxySectionUser",children:[(0,r.jsx)("dt",{children:(0,r.jsx)("b",{children:e})}),(0,r.jsx)("dd",{children:n})]})}},94949:(e,n,i)=>{i.d(n,{A:()=>l});i(96540);var r=i(74848);function l({children:e}){return(0,r.jsx)("div",{class:"doxyProgramListing",children:e})}},96638:(e,n,i)=>{i.d(n,{A:()=>l});i(96540);var r=i(74848);function l({children:e,pluginConfig:n}){const i=` ${n.doxygenVersion??"unknown"}`;return(0,r.jsxs)("div",{class:"doxyPage",children:[e,(0,r.jsx)("hr",{}),(0,r.jsxs)("p",{class:"doxyGeneratedBy",children:["Generated via ",(0,r.jsx)("a",{href:"https://github.com/xpack/docusaurus-plugin-doxygen",children:"docusaurus-plugin-doxygen"})," by ",(0,r.jsx)("a",{href:"https://www.doxygen.nl",children:"Doxygen"}),i,"."]})]})}}}]);