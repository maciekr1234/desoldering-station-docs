"use strict";(globalThis.webpackChunkdocs_site=globalThis.webpackChunkdocs_site||[]).push([[7389],{28453:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>a});var i=s(96540);const r={},o=i.createContext(r);function t(e){const n=i.useContext(o);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),i.createElement(o.Provider,{value:n},e.children)}},55850:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>t,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"contributing/versioning","title":"Versioning Guide","description":"This document explains how to manage documentation versions and generate changelogs.","source":"@site/docs/contributing/versioning.md","sourceDirName":"contributing","slug":"/contributing/versioning","permalink":"/desoldering-station-docs/docs/contributing/versioning","draft":false,"unlisted":false,"editUrl":"https://github.com/maciekr1234/desoldering-station/tree/master/docs-site/docs/contributing/versioning.md","tags":[],"version":"current","lastUpdatedAt":1766797362000,"sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"docsSidebar","previous":{"title":"Contributing","permalink":"/desoldering-station-docs/docs/category/contributing"},"next":{"title":"API Reference","permalink":"/desoldering-station-docs/docs/api/"}}');var r=s(74848),o=s(28453);const t={sidebar_position:1},a="Versioning Guide",l={},c=[{value:"Documentation Versioning",id:"documentation-versioning",level:2},{value:"Current Setup",id:"current-setup",level:3},{value:"Creating a New Version",id:"creating-a-new-version",level:3},{value:"Version Configuration",id:"version-configuration",level:3},{value:"Navbar Dropdown",id:"navbar-dropdown",level:3},{value:"Changelog Generation",id:"changelog-generation",level:2},{value:"Conventional Commits",id:"conventional-commits",level:3},{value:"Generate Full Changelog",id:"generate-full-changelog",level:3},{value:"Generate Release Notes",id:"generate-release-notes",level:3},{value:"Commit Range",id:"commit-range",level:3},{value:"Release Workflow",id:"release-workflow",level:2},{value:"1. Prepare Release",id:"1-prepare-release",level:3},{value:"2. Version Documentation",id:"2-version-documentation",level:3},{value:"3. Tag Release",id:"3-tag-release",level:3},{value:"4. Create Blog Post (Optional)",id:"4-create-blog-post-optional",level:3},{value:"File Structure After Versioning",id:"file-structure-after-versioning",level:2},{value:"Tips",id:"tips",level:2},{value:"Don&#39;t Version Too Often",id:"dont-version-too-often",level:3},{value:"Keep Versions Manageable",id:"keep-versions-manageable",level:3},{value:"Banner Configuration",id:"banner-configuration",level:3}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"versioning-guide",children:"Versioning Guide"})}),"\n",(0,r.jsx)(n.p,{children:"This document explains how to manage documentation versions and generate changelogs."}),"\n",(0,r.jsx)(n.h2,{id:"documentation-versioning",children:"Documentation Versioning"}),"\n",(0,r.jsx)(n.p,{children:"The documentation site supports multiple versions using Docusaurus's built-in versioning."}),"\n",(0,r.jsx)(n.h3,{id:"current-setup",children:"Current Setup"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:'"Next \ud83d\udea7"'})," - The current development version (from ",(0,r.jsx)(n.code,{children:"docs/"})," folder)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Versioned releases"})," - Snapshots created when tagging releases"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"creating-a-new-version",children:"Creating a New Version"}),"\n",(0,r.jsx)(n.p,{children:"When you're ready to release a new version:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"cd docs-site\n\n# Create a versioned snapshot (e.g., for v1.0.0)\nnpm run docusaurus docs:version 1.0.0\n"})}),"\n",(0,r.jsx)(n.p,{children:"This will:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Copy the current ",(0,r.jsx)(n.code,{children:"docs/"})," folder to ",(0,r.jsx)(n.code,{children:"versioned_docs/version-1.0.0/"})]}),"\n",(0,r.jsxs)(n.li,{children:["Copy ",(0,r.jsx)(n.code,{children:"sidebars.ts"})," to ",(0,r.jsx)(n.code,{children:"versioned_sidebars/version-1.0.0-sidebars.json"})]}),"\n",(0,r.jsxs)(n.li,{children:["Add the version to ",(0,r.jsx)(n.code,{children:"versions.json"})]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"version-configuration",children:"Version Configuration"}),"\n",(0,r.jsxs)(n.p,{children:["In ",(0,r.jsx)(n.code,{children:"docusaurus.config.ts"}),", the versioning is configured:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"docs: {\n  // ...\n  lastVersion: 'current',\n  versions: {\n    current: {\n      label: 'Next \ud83d\udea7',\n      path: '',\n    },\n  },\n},\n"})}),"\n",(0,r.jsx)(n.p,{children:"After creating versions, you can customize labels:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"versions: {\n  current: {\n    label: 'Next \ud83d\udea7',\n    path: '',\n  },\n  '1.0.0': {\n    label: 'v1.0.0',\n    banner: 'none',  // or 'unreleased'\n  },\n},\n"})}),"\n",(0,r.jsx)(n.h3,{id:"navbar-dropdown",children:"Navbar Dropdown"}),"\n",(0,r.jsx)(n.p,{children:"The version dropdown is already configured in the navbar:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"{\n  type: 'docsVersionDropdown',\n  position: 'right',\n},\n"})}),"\n",(0,r.jsx)(n.h2,{id:"changelog-generation",children:"Changelog Generation"}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"scripts/generate_changelog.py"})," script generates changelogs from git commits using conventional commit format."]}),"\n",(0,r.jsx)(n.h3,{id:"conventional-commits",children:"Conventional Commits"}),"\n",(0,r.jsx)(n.p,{children:"For best results, use conventional commit messages:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"type(scope): description\n\n# Examples:\nfeat(heater): add temperature ramp rate control\nfix(pump): correct motor stall detection threshold\ndocs(api): update PID controller documentation\nrefactor(gui): simplify screen navigation\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Supported types:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"feat"})," - New features"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"fix"})," - Bug fixes"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"docs"})," - Documentation"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"style"})," - Code style changes"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"refactor"})," - Code refactoring"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"perf"})," - Performance improvements"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"test"})," - Tests"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"build"})," - Build system"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"ci"})," - CI/CD changes"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"chore"})," - Maintenance tasks"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"generate-full-changelog",children:"Generate Full Changelog"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Generate CHANGELOG.md from all tags\npython scripts/generate_changelog.py --full --output CHANGELOG.md\n"})}),"\n",(0,r.jsx)(n.h3,{id:"generate-release-notes",children:"Generate Release Notes"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Generate changelog since last tag\npython scripts/generate_changelog.py --since v1.0.0 --version v1.1.0\n\n# Generate as blog post for Docusaurus\npython scripts/generate_changelog.py \\\n  --format blog \\\n  --since v1.0.0 \\\n  --version v1.1.0 \\\n  --output docs-site/blog/2024-01-15-release-v1.1.0.md\n"})}),"\n",(0,r.jsx)(n.h3,{id:"commit-range",children:"Commit Range"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Between two tags\npython scripts/generate_changelog.py --since v1.0.0 --until v1.1.0\n\n# From a specific commit to HEAD\npython scripts/generate_changelog.py --since abc1234\n"})}),"\n",(0,r.jsx)(n.h2,{id:"release-workflow",children:"Release Workflow"}),"\n",(0,r.jsx)(n.p,{children:"Here's the recommended workflow for releases:"}),"\n",(0,r.jsx)(n.h3,{id:"1-prepare-release",children:"1. Prepare Release"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Ensure all changes are committed\ngit status\n\n# Generate changelog preview\npython scripts/generate_changelog.py --since v1.0.0\n\n# Review and finalize CHANGELOG.md\npython scripts/generate_changelog.py --full --output CHANGELOG.md\n"})}),"\n",(0,r.jsx)(n.h3,{id:"2-version-documentation",children:"2. Version Documentation"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"cd docs-site\n\n# Create versioned documentation snapshot\nnpm run docusaurus docs:version 1.1.0\n"})}),"\n",(0,r.jsx)(n.h3,{id:"3-tag-release",children:"3. Tag Release"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'# Commit version changes\ngit add .\ngit commit -m "docs: release v1.1.0"\n\n# Create annotated tag\ngit tag -a v1.1.0 -m "Release v1.1.0"\n\n# Push with tags\ngit push origin master --tags\n'})}),"\n",(0,r.jsx)(n.h3,{id:"4-create-blog-post-optional",children:"4. Create Blog Post (Optional)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"python scripts/generate_changelog.py \\\n  --format blog \\\n  --since v1.0.0 \\\n  --version v1.1.0 \\\n  --output docs-site/blog/$(date +%Y-%m-%d)-release-v1.1.0.md\n"})}),"\n",(0,r.jsx)(n.h2,{id:"file-structure-after-versioning",children:"File Structure After Versioning"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'docs-site/\n\u251c\u2500\u2500 docs/                          # Current "Next" version\n\u251c\u2500\u2500 versioned_docs/\n\u2502   \u251c\u2500\u2500 version-1.0.0/            # v1.0.0 snapshot\n\u2502   \u2514\u2500\u2500 version-1.1.0/            # v1.1.0 snapshot\n\u251c\u2500\u2500 versioned_sidebars/\n\u2502   \u251c\u2500\u2500 version-1.0.0-sidebars.json\n\u2502   \u2514\u2500\u2500 version-1.1.0-sidebars.json\n\u251c\u2500\u2500 versions.json                  # List of versions\n\u2514\u2500\u2500 docusaurus.config.ts\n'})}),"\n",(0,r.jsx)(n.h2,{id:"tips",children:"Tips"}),"\n",(0,r.jsx)(n.h3,{id:"dont-version-too-often",children:"Don't Version Too Often"}),"\n",(0,r.jsx)(n.p,{children:"Only create version snapshots for significant releases. Minor documentation fixes should go into the current docs and be reflected in all users' experience."}),"\n",(0,r.jsx)(n.h3,{id:"keep-versions-manageable",children:"Keep Versions Manageable"}),"\n",(0,r.jsx)(n.p,{children:"Consider removing very old versions to keep the site maintainable:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Remove old version\nrm -rf docs-site/versioned_docs/version-0.9.0\nrm docs-site/versioned_sidebars/version-0.9.0-sidebars.json\n# Edit versions.json to remove the entry\n"})}),"\n",(0,r.jsx)(n.h3,{id:"banner-configuration",children:"Banner Configuration"}),"\n",(0,r.jsx)(n.p,{children:"For unreleased versions or deprecated versions:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"versions: {\n  '2.0.0': {\n    banner: 'unreleased',  // Shows \"unreleased\" banner\n  },\n  '0.9.0': {\n    banner: 'unmaintained',  // Shows \"unmaintained\" banner\n  },\n},\n"})})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}}}]);