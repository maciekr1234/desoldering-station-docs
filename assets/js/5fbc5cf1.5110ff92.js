"use strict";(globalThis.webpackChunkdocs_site=globalThis.webpackChunkdocs_site||[]).push([[7624],{6439:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>s,default:()=>p,frontMatter:()=>o,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"api","title":"API Reference","description":"Auto-generated API documentation from source code comments.","source":"@site/docs/api.md","sourceDirName":".","slug":"/api","permalink":"/desoldering-station-docs/docs/api","draft":false,"unlisted":false,"editUrl":"https://github.com/maciekr1234/desoldering-station/tree/master/docs-site/docs/api.md","tags":[],"version":"current","lastUpdatedAt":1764776824000,"sidebarPosition":99,"frontMatter":{"sidebar_position":99},"sidebar":"docsSidebar","previous":{"title":"Temperature Calibration","permalink":"/desoldering-station-docs/docs/gui/temp-calibration"},"next":{"title":"Contributing","permalink":"/desoldering-station-docs/docs/category/contributing"}}');var i=t(4848),a=t(8453);const o={sidebar_position:99},s="API Reference",l={},c=[{value:"Core Classes",id:"core-classes",level:2},{value:"HeaterController",id:"heatercontroller",level:3},{value:"PumpController",id:"pumpcontroller",level:3},{value:"MotorDriver",id:"motordriver",level:3},{value:"Driver Functions",id:"driver-functions",level:2},{value:"PWM",id:"pwm",level:3},{value:"PID",id:"pid",level:3},{value:"Temperature",id:"temperature",level:3},{value:"Settings",id:"settings",level:2},{value:"Logging Macros",id:"logging-macros",level:2},{value:"Enumerations",id:"enumerations",level:2},{value:"HeaterState",id:"heaterstate",level:3},{value:"HeaterError",id:"heatererror",level:3},{value:"DebounceState",id:"debouncestate",level:3},{value:"Type Definitions",id:"type-definitions",level:2},{value:"pid_ctrl_parameter_t",id:"pid_ctrl_parameter_t",level:3},{value:"hw_pwm_t",id:"hw_pwm_t",level:3},{value:"motor_driver_config_t",id:"motor_driver_config_t",level:3}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",p:"p",pre:"pre",strong:"strong",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"api-reference",children:"API Reference"})}),"\n",(0,i.jsx)(n.p,{children:"Auto-generated API documentation from source code comments."}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsx)(n.p,{children:"This section provides an overview of the main APIs. For the complete API reference with all functions, see the source code documentation in the header files."})}),"\n",(0,i.jsx)(n.h2,{id:"core-classes",children:"Core Classes"}),"\n",(0,i.jsx)(n.h3,{id:"heatercontroller",children:"HeaterController"}),"\n",(0,i.jsx)(n.p,{children:"Main temperature control class."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cpp",children:"class HeaterController {\n    // State management\n    void changeState(HeaterState new_state);\n    HeaterState getState() const;\n    \n    // Temperature control\n    void setTargetTemperature(uint16_t celsius);\n    uint16_t getTargetTemperature() const;\n    bool isTargetTemperatureReached() const;\n    \n    // PID configuration\n    void setPID(float kp, float ki, float kd);\n    void setPID(float kp, float ki, float kd, float imax, float imin);\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"See:"})," ",(0,i.jsx)(n.a,{href:"./controllers/heater",children:"Heater Controller Documentation"})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"pumpcontroller",children:"PumpController"}),"\n",(0,i.jsx)(n.p,{children:"Vacuum pump motor control."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cpp",children:"class PumpController {\n    // Trigger state\n    bool readTrigger();\n    bool isTriggerPressed() const;\n    \n    // Motor access\n    MotorDriver& getMotorDriver();\n    \n    // Callbacks\n    void setTriggerCallback(trigger_callback_t cb);\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"See:"})," ",(0,i.jsx)(n.a,{href:"./controllers/pump",children:"Pump Controller Documentation"})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"motordriver",children:"MotorDriver"}),"\n",(0,i.jsx)(n.p,{children:"H-bridge motor driver."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cpp",children:"class MotorDriver {\n    void setSpeed(int8_t speed_percent);  // -100 to +100\n    void setAccelerationTime(uint16_t ms);\n    void stop();   // Coast\n    void brake();  // Active brake\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"See:"})," ",(0,i.jsx)(n.a,{href:"./drivers/motor-driver",children:"Motor Driver Documentation"})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"driver-functions",children:"Driver Functions"}),"\n",(0,i.jsx)(n.h3,{id:"pwm",children:"PWM"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cpp",children:"bool hw_pwm_init(pin_size_t pin, uint32_t freq_hz, hw_pwm_t* pwm);\nvoid hw_pwm_set_duty(hw_pwm_t* pwm, uint16_t duty);\nvoid hw_pwm_set_duty_percent(hw_pwm_t* pwm, float percent);\nvoid hw_pwm_enable(hw_pwm_t* pwm, bool enable);\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"See:"})," ",(0,i.jsx)(n.a,{href:"./drivers/pwm",children:"PWM Driver Documentation"})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"pid",children:"PID"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cpp",children:"esp_err_t pid_new_control_block(const pid_ctrl_parameter_t* params, \n                                 pid_ctrl_handle_t* handle);\nesp_err_t pid_compute(pid_ctrl_handle_t handle, float error, float* output);\nesp_err_t pid_update_parameters(pid_ctrl_handle_t handle, \n                                const pid_ctrl_parameter_t* params);\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"See:"})," ",(0,i.jsx)(n.a,{href:"./drivers/pid",children:"PID Controller Documentation"})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"temperature",children:"Temperature"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cpp",children:"void temperature_init(uint8_t adc_channel);\nfloat temperature_read();\nuint16_t temperature_read_raw();\nvoid temperature_set_calibration(float offset, float scale);\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"See:"})," ",(0,i.jsx)(n.a,{href:"./drivers/temperature",children:"Temperature Driver Documentation"})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"settings",children:"Settings"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cpp",children:"// Global settings structure\nextern Settings gSettings;\nextern SemaphoreHandle_t gSettingsMutex;\n\n// Functions\nvoid init_settings();\nbool load_global_settings();\nbool save_global_settings();\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"See:"})," ",(0,i.jsx)(n.a,{href:"./core/settings",children:"Settings System Documentation"})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"logging-macros",children:"Logging Macros"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cpp",children:"PICO_LOGE(tag, format, ...)  // Error\nPICO_LOGW(tag, format, ...)  // Warning\nPICO_LOGI(tag, format, ...)  // Info\nPICO_LOGD(tag, format, ...)  // Debug\nPICO_LOGV(tag, format, ...)  // Verbose\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"See:"})," ",(0,i.jsx)(n.a,{href:"./core/logging",children:"Logging System Documentation"})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"enumerations",children:"Enumerations"}),"\n",(0,i.jsx)(n.h3,{id:"heaterstate",children:"HeaterState"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cpp",children:"enum class HeaterState {\n    Off,      // Heater disabled, PWM = 0\n    Standby,  // PID control at standby_temperature from settings\n    Sleep,    // Heater off, waiting for motion\n    Running,  // Active PID control at user target\n    Error,    // Fault detected, safe mode\n    Tuning,   // Manual control for calibration\n};\n"})}),"\n",(0,i.jsx)(n.h3,{id:"heatererror",children:"HeaterError"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cpp",children:"enum class HeaterError {\n    None = 0,           // No error\n    NoHandle,           // Handle not connected (open circuit)\n    SensorFailure,      // Temperature sensor reading invalid\n    Overtemperature,    // Temperature exceeded maximum safe limit\n    HeatingTimeout,     // Failed to reach target temperature in time\n    RunawayHeating,     // Temperature rising uncontrollably\n    UnderTemperature,   // Temperature dropped unexpectedly\n};\n"})}),"\n",(0,i.jsx)(n.h3,{id:"debouncestate",children:"DebounceState"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cpp",children:"enum class DebounceState {\n    IDLE,       // Waiting for trigger\n    DEBOUNCING, // Validating input\n    STABLE      // Confirmed state\n};\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"type-definitions",children:"Type Definitions"}),"\n",(0,i.jsx)(n.h3,{id:"pid_ctrl_parameter_t",children:"pid_ctrl_parameter_t"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cpp",children:"typedef struct {\n    float kp;            // Proportional gain\n    float ki;            // Integral gain\n    float kd;            // Derivative gain\n    float max_output;    // Output upper limit\n    float min_output;    // Output lower limit\n    float max_integral;  // Integral windup limit\n    float min_integral;  // Integral windup limit (negative)\n    pid_cal_type_t cal_type;\n} pid_ctrl_parameter_t;\n"})}),"\n",(0,i.jsx)(n.h3,{id:"hw_pwm_t",children:"hw_pwm_t"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cpp",children:"typedef struct {\n    uint slice;       // PWM slice number\n    uint channel;     // Channel A or B\n    pin_size_t pin;   // GPIO pin\n    uint32_t freq;    // Frequency in Hz\n    uint16_t wrap;    // Counter wrap value\n} hw_pwm_t;\n"})}),"\n",(0,i.jsx)(n.h3,{id:"motor_driver_config_t",children:"motor_driver_config_t"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cpp",children:"struct motor_driver_config_t {\n    pin_size_t in1_pin;\n    pin_size_t in2_pin;\n    uint32_t pwm_freq;\n    uint16_t accel_time_ms;\n};\n"})})]})}function p(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>s});var r=t(6540);const i={},a=r.createContext(i);function o(e){const n=r.useContext(a);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),r.createElement(a.Provider,{value:n},e.children)}}}]);