"use strict";(globalThis.webpackChunkdocs_site=globalThis.webpackChunkdocs_site||[]).push([[2358],{13763:(e,d,i)=>{i.d(d,{A:()=>l});var r=i(96540),n=i(74848);function l({kind:e,children:d}){return 0===r.Children.count(d)?(0,n.jsx)(n.Fragment,{}):"comment"===e?(0,n.jsx)("span",{class:"doxyHighlightComment",children:d}):"preprocessor"===e?(0,n.jsx)("span",{class:"doxyHighlightPreprocessor",children:d}):"keyword"===e?(0,n.jsx)("span",{class:"doxyHighlightKeyword",children:d}):"keywordtype"===e?(0,n.jsx)("span",{class:"doxyHighlightKeywordType",children:d}):"keywordflow"===e?(0,n.jsx)("span",{class:"doxyHighlightKeywordFlow",children:d}):"token"===e?(0,n.jsx)("span",{class:"doxyHighlightToken",children:d}):"stringliteral"===e?(0,n.jsx)("span",{class:"doxyHighlightStringLiteral",children:d}):"charliteral"===e?(0,n.jsx)("span",{class:"doxyHighlightCharLiteral",children:d}):(0,n.jsx)("span",{class:"doxyHighlight",children:d})}},17027:(e,d,i)=>{i.d(d,{A:()=>n});i(96540);var r=i(74848);function n({template:e,type:d,name:i,children:n}){return(0,r.jsxs)(r.Fragment,{children:[e&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("tr",{class:"doxyMemberIndexTemplate",children:(0,r.jsx)("td",{class:"doxyMemberIndexTemplate",colspan:"2",children:(0,r.jsx)("div",{children:e})})}),(0,r.jsxs)("tr",{class:"doxyMemberIndexItem",children:[d&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("td",{class:"doxyMemberIndexItemTypeTemplate",align:"right",valign:"top",children:d}),(0,r.jsx)("td",{class:"doxyMemberIndexItemNameTemplate",align:"left",valign:"top",children:i})]}),!d&&(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("td",{class:"doxyMemberIndexItemNoTypeNameTemplate",colspan:"2",align:"left",valign:"top",children:i})})]})]}),!e&&(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("tr",{class:"doxyMemberIndexItem",children:[(0,r.jsx)("td",{class:"doxyMemberIndexItemType",align:"right",valign:"top",children:d}),(0,r.jsx)("td",{class:"doxyMemberIndexItemName",align:"left",valign:"top",children:i})]})}),(0,r.jsxs)("tr",{class:"doxyMemberIndexDescription",children:[(0,r.jsx)("td",{class:"doxyMemberIndexDescriptionLeft"}),(0,r.jsx)("td",{class:"doxyMemberIndexDescriptionRight",children:n})]}),(0,r.jsx)("tr",{class:"doxyMemberIndexSeparator",children:(0,r.jsx)("td",{class:"doxyMemberIndexSeparator",colspan:"2"})})]})}},17949:(e,d,i)=>{i.d(d,{A:()=>n});i(96540);var r=i(74848);function n({children:e}){return(0,r.jsx)("div",{class:"doxySectionDef",children:e})}},23474:(e,d,i)=>{i.r(d),i.d(d,{assets:()=>N,contentTitle:()=>g,default:()=>v,frontMatter:()=>_,metadata:()=>r,toc:()=>y});const r=JSON.parse('{"id":"api/files/src-drivers-pid-c","title":"The pid.c File Reference","description":"Included Headers","source":"@site/docs/api/files/src-drivers-pid-c.mdx","sourceDirName":"api/files","slug":"/api/files/src/drivers/pid-c","permalink":"/desoldering-station-docs/docs/api/files/src/drivers/pid-c","draft":false,"unlisted":false,"editUrl":null,"tags":[],"version":"current","lastUpdatedAt":null,"frontMatter":{"slug":"/api/files/src/drivers/pid-c","custom_edit_url":null,"keywords":["doxygen","reference","file"]},"sidebar":"doxygenSidebar","previous":{"title":"motor_driver.cpp","permalink":"/desoldering-station-docs/docs/api/files/src/drivers/motor-driver-cpp"},"next":{"title":"pwm.c","permalink":"/desoldering-station-docs/docs/api/files/src/drivers/pwm-c"}}');var n=i(74848),l=i(28453),s=i(28774),c=i(27032),a=i(96638),t=i(13763),o=i(54310),x=i(77035),h=i(70900),j=i(55710),p=i(17027),m=i(30729),A=i(35796),u=i(94949),b=i(17949),k=i(86563),f=i(23590);const _={slug:"/api/files/src/drivers/pid-c",custom_edit_url:null,keywords:["doxygen","reference","file"]},g="The pid.c File Reference",N={},y=[{value:"Included Headers",id:"included-headers",level:2},{value:"Classes Index",id:"classes-index",level:2},{value:"Typedefs Index",id:"typedefs-index",level:2},{value:"Functions Index",id:"functions-index",level:2},{value:"Variables Index",id:"variables-index",level:2},{value:"Typedefs",id:"typedefs",level:2},{value:"pid_cal_func_t",id:"aaa938c8ba12f4bde12e8c48367cddd9f",level:3},{value:"Functions",id:"functions",level:2},{value:"pid_calc_incremental()",id:"add1ac397286fcf514d4cbd59400fd48e",level:3},{value:"pid_calc_positional()",id:"af1958914ad3abe97dfef1d5e000b04fd",level:3},{value:"pid_compute()",id:"a6d11cf4eec697aa3ece607a2a5be27f4",level:3},{value:"pid_del_control_block()",id:"a488a843402f43a41a38d00f0f7d670ac",level:3},{value:"pid_get_parameters()",id:"a0beffc6ede2d250a98154625dcd1bb25",level:3},{value:"pid_new_control_block()",id:"a9938dd0fe274d9eae9dcced1ed480650",level:3},{value:"pid_reset_ctrl_block()",id:"a54dce92cfa319be59dabfa5d17b9c08f",level:3},{value:"pid_update_parameters()",id:"ac5e5c05d1c29b859253f501feeb66ab4",level:3},{value:"Variables",id:"variables",level:2},{value:"TAG",id:"a5a85b9c772bbeb480b209a3e6ea92b4c",level:3},{value:"File Listing",id:"file-listing",level:2}];function I(e){const d={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",...(0,l.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(d.header,{children:(0,n.jsxs)(d.h1,{id:"the-pidc-file-reference",children:["The ",(0,n.jsx)(d.code,{children:"pid.c"})," File Reference"]})}),"\n",(0,n.jsxs)(a.A,{pluginConfig:f,children:[(0,n.jsx)(d.h2,{id:"included-headers",children:"Included Headers"}),(0,n.jsxs)(o.A,{children:[(0,n.jsx)(x.A,{filePath:"stdlib.h",permalink:"",isLocal:"false"}),(0,n.jsx)(x.A,{filePath:"string.h",permalink:"",isLocal:"false"}),(0,n.jsx)(x.A,{filePath:"drivers/pid.h",permalink:"/desoldering-station-docs/docs/api/files/include/drivers/pid-h",isLocal:"true"}),(0,n.jsx)(x.A,{filePath:"core/pico_log.h",permalink:"/desoldering-station-docs/docs/api/files/include/core/pico-log-h",isLocal:"true"}),(0,n.jsx)(x.A,{filePath:"core/pico_err.h",permalink:"/desoldering-station-docs/docs/api/files/include/core/pico-err-h",isLocal:"true"})]}),(0,n.jsx)(d.h2,{id:"classes-index",children:"Classes Index"}),(0,n.jsx)(j.A,{children:(0,n.jsx)(p.A,{type:"struct",name:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(d.a,{href:"/desoldering-station-docs/docs/api/structs/pid-ctrl-block-t",children:"pid_ctrl_block_t"})}),children:(0,n.jsxs)(d.p,{children:["Opaque PID control block handle. ",(0,n.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/pid-ctrl-block-t/#details",children:"More..."})]})})}),(0,n.jsx)(d.h2,{id:"typedefs-index",children:"Typedefs Index"}),(0,n.jsx)(j.A,{children:(0,n.jsx)(p.A,{type:"typedef",name:(0,n.jsxs)(n.Fragment,{children:["float(* ",(0,n.jsx)(d.a,{href:"#aaa938c8ba12f4bde12e8c48367cddd9f",children:"pid_cal_func_t"}),")(pid_ctrl_block_t *pid, float error)"]})})}),(0,n.jsx)(d.h2,{id:"functions-index",children:"Functions Index"}),(0,n.jsxs)(j.A,{children:[(0,n.jsx)(p.A,{type:"float",name:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(d.a,{href:"#add1ac397286fcf514d4cbd59400fd48e",children:"pid_calc_incremental"})," (pid_ctrl_block_t *pid, float error)"]})}),(0,n.jsx)(p.A,{type:"float",name:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(d.a,{href:"#af1958914ad3abe97dfef1d5e000b04fd",children:"pid_calc_positional"})," (pid_ctrl_block_t *pid, float error)"]})}),(0,n.jsx)(p.A,{type:(0,n.jsx)(n.Fragment,{children:"pico_err_t"}),name:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(d.a,{href:"#a6d11cf4eec697aa3ece607a2a5be27f4",children:"pid_compute"})," (pid_ctrl_block_handle_t handle, float input_error, float *result)"]}),children:(0,n.jsxs)(d.p,{children:["Compute PID output based on the input error. ",(0,n.jsx)("a",{href:"#a6d11cf4eec697aa3ece607a2a5be27f4",children:"More..."})]})}),(0,n.jsx)(p.A,{type:(0,n.jsx)(n.Fragment,{children:"pico_err_t"}),name:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(d.a,{href:"#a488a843402f43a41a38d00f0f7d670ac",children:"pid_del_control_block"})," (pid_ctrl_block_handle_t handle)"]}),children:(0,n.jsxs)(d.p,{children:["Delete a PID control block. ",(0,n.jsx)("a",{href:"#a488a843402f43a41a38d00f0f7d670ac",children:"More..."})]})}),(0,n.jsx)(p.A,{type:(0,n.jsx)(n.Fragment,{children:"pico_err_t"}),name:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(d.a,{href:"#a0beffc6ede2d250a98154625dcd1bb25",children:"pid_get_parameters"})," (pid_ctrl_block_handle_t handle, pid_ctrl_parameter_t *params)"]}),children:(0,n.jsxs)(d.p,{children:["Get PID control parameters. ",(0,n.jsx)("a",{href:"#a0beffc6ede2d250a98154625dcd1bb25",children:"More..."})]})}),(0,n.jsx)(p.A,{type:(0,n.jsx)(n.Fragment,{children:"pico_err_t"}),name:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(d.a,{href:"#a9938dd0fe274d9eae9dcced1ed480650",children:"pid_new_control_block"})," (const pid_ctrl_parameter_t *config, pid_ctrl_block_handle_t *handle)"]}),children:(0,n.jsxs)(d.p,{children:["Create a new PID control block. ",(0,n.jsx)("a",{href:"#a9938dd0fe274d9eae9dcced1ed480650",children:"More..."})]})}),(0,n.jsx)(p.A,{type:(0,n.jsx)(n.Fragment,{children:"pico_err_t"}),name:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(d.a,{href:"#a54dce92cfa319be59dabfa5d17b9c08f",children:"pid_reset_ctrl_block"})," (pid_ctrl_block_handle_t handle)"]}),children:(0,n.jsxs)(d.p,{children:["Reset the PID control block internal state. ",(0,n.jsx)("a",{href:"#a54dce92cfa319be59dabfa5d17b9c08f",children:"More..."})]})}),(0,n.jsx)(p.A,{type:(0,n.jsx)(n.Fragment,{children:"pico_err_t"}),name:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(d.a,{href:"#ac5e5c05d1c29b859253f501feeb66ab4",children:"pid_update_parameters"})," (pid_ctrl_block_handle_t handle, const pid_ctrl_parameter_t *params)"]}),children:(0,n.jsxs)(d.p,{children:["Update PID control parameters. ",(0,n.jsx)("a",{href:"#ac5e5c05d1c29b859253f501feeb66ab4",children:"More..."})]})})]}),(0,n.jsx)(d.h2,{id:"variables-index",children:"Variables Index"}),(0,n.jsx)(j.A,{children:(0,n.jsx)(p.A,{type:(0,n.jsx)(n.Fragment,{children:"const char *"}),name:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(d.a,{href:"#a5a85b9c772bbeb480b209a3e6ea92b4c",children:"TAG"}),' = "pid"']})})}),(0,n.jsxs)(b.A,{children:[(0,n.jsx)(d.h2,{id:"typedefs",children:"Typedefs"}),(0,n.jsx)(d.h3,{id:"aaa938c8ba12f4bde12e8c48367cddd9f",children:"pid_cal_func_t"}),(0,n.jsx)(h.A,{prototype:(0,n.jsx)(n.Fragment,{children:"typedef float(* pid_cal_func_t) (pid_ctrl_block_t *pid, float error)"}),children:(0,n.jsxs)(d.p,{children:["Definition at line ",(0,n.jsx)("a",{href:"#l00013",children:"13"})," of file ",(0,n.jsx)("a",{href:"/desoldering-station-docs/docs/api/files/src/drivers/pid-c",children:"pid.c"}),"."]})})]}),(0,n.jsxs)(b.A,{children:[(0,n.jsx)(d.h2,{id:"functions",children:"Functions"}),(0,n.jsx)(d.h3,{id:"add1ac397286fcf514d4cbd59400fd48e",children:"pid_calc_incremental()"}),(0,n.jsx)(h.A,{prototype:(0,n.jsxs)(n.Fragment,{children:["static float pid_calc_incremental (",(0,n.jsx)(d.a,{href:"/desoldering-station-docs/docs/api/structs/pid-ctrl-block-t",children:"pid_ctrl_block_t"})," * pid, float error)"]}),labels:["static"],children:(0,n.jsxs)(d.p,{children:["Definition at line ",(0,n.jsx)("a",{href:"#l00053",children:"53"})," of file ",(0,n.jsx)("a",{href:"/desoldering-station-docs/docs/api/files/src/drivers/pid-c",children:"pid.c"}),"."]})}),(0,n.jsx)(d.h3,{id:"af1958914ad3abe97dfef1d5e000b04fd",children:"pid_calc_positional()"}),(0,n.jsx)(h.A,{prototype:(0,n.jsxs)(n.Fragment,{children:["static float pid_calc_positional (",(0,n.jsx)(d.a,{href:"/desoldering-station-docs/docs/api/structs/pid-ctrl-block-t",children:"pid_ctrl_block_t"})," * pid, float error)"]}),labels:["static"],children:(0,n.jsxs)(d.p,{children:["Definition at line ",(0,n.jsx)("a",{href:"#l00031",children:"31"})," of file ",(0,n.jsx)("a",{href:"/desoldering-station-docs/docs/api/files/src/drivers/pid-c",children:"pid.c"}),"."]})}),(0,n.jsx)(d.h3,{id:"a6d11cf4eec697aa3ece607a2a5be27f4",children:"pid_compute()"}),(0,n.jsxs)(h.A,{prototype:(0,n.jsx)(n.Fragment,{children:"pico_err_t pid_compute (pid_ctrl_block_handle_t handle, float input_error, float * result)"}),children:[(0,n.jsx)(d.p,{children:"Compute PID output based on the input error."}),(0,n.jsxs)(m.A,{title:"Parameters",children:[(0,n.jsx)(A.A,{name:"handle",children:"PID control block handle"}),(0,n.jsx)(A.A,{name:"input_error",children:"Input error value"}),(0,n.jsx)(A.A,{name:"result",children:"Pointer to store the computed PID output"})]}),(0,n.jsx)(k.A,{title:"Returns",children:(0,n.jsx)(d.p,{children:"PICO_OK on success, error code otherwise"})}),(0,n.jsx)(d.p,{children:"This function computes the PID output using the provided input error and the parameters stored in the PID control block."}),(0,n.jsxs)(d.p,{children:["Definition at line ",(0,n.jsx)("a",{href:"#l00144",children:"144"})," of file ",(0,n.jsx)("a",{href:"/desoldering-station-docs/docs/api/files/src/drivers/pid-c",children:"pid.c"}),"."]})]}),(0,n.jsx)(d.h3,{id:"a488a843402f43a41a38d00f0f7d670ac",children:"pid_del_control_block()"}),(0,n.jsxs)(h.A,{prototype:(0,n.jsx)(n.Fragment,{children:"pico_err_t pid_del_control_block (pid_ctrl_block_handle_t handle)"}),children:[(0,n.jsx)(d.p,{children:"Delete a PID control block."}),(0,n.jsx)(m.A,{title:"Parameters",children:(0,n.jsx)(A.A,{name:"handle",children:"PID control block handle to be deleted"})}),(0,n.jsx)(k.A,{title:"Returns",children:(0,n.jsx)(d.p,{children:"PICO_OK on success, error code otherwise"})}),(0,n.jsxs)(d.p,{children:["Definition at line ",(0,n.jsx)("a",{href:"#l00095",children:"95"})," of file ",(0,n.jsx)("a",{href:"/desoldering-station-docs/docs/api/files/src/drivers/pid-c",children:"pid.c"}),"."]})]}),(0,n.jsx)(d.h3,{id:"a0beffc6ede2d250a98154625dcd1bb25",children:"pid_get_parameters()"}),(0,n.jsxs)(h.A,{prototype:(0,n.jsxs)(n.Fragment,{children:["pico_err_t pid_get_parameters (pid_ctrl_block_handle_t handle, ",(0,n.jsx)(d.a,{href:"/desoldering-station-docs/docs/api/structs/pid-ctrl-parameter-t",children:"pid_ctrl_parameter_t"})," * params)"]}),children:[(0,n.jsx)(d.p,{children:"Get PID control parameters."}),(0,n.jsxs)(m.A,{title:"Parameters",children:[(0,n.jsx)(A.A,{name:"handle",children:"PID control block handle"}),(0,n.jsx)(A.A,{name:"params",children:"Pointer to the structure to store the retrieved parameters"})]}),(0,n.jsx)(k.A,{title:"Returns",children:(0,n.jsx)(d.p,{children:"PICO_OK on success, error code otherwise"})}),(0,n.jsx)(d.p,{children:"This function copies all internal PID parameters from the control block into the provided structure."}),(0,n.jsxs)(d.p,{children:["Definition at line ",(0,n.jsx)("a",{href:"#l00101",children:"101"})," of file ",(0,n.jsx)("a",{href:"/desoldering-station-docs/docs/api/files/src/drivers/pid-c",children:"pid.c"}),"."]})]}),(0,n.jsx)(d.h3,{id:"a9938dd0fe274d9eae9dcced1ed480650",children:"pid_new_control_block()"}),(0,n.jsxs)(h.A,{prototype:(0,n.jsxs)(n.Fragment,{children:["pico_err_t pid_new_control_block (const ",(0,n.jsx)(d.a,{href:"/desoldering-station-docs/docs/api/structs/pid-ctrl-parameter-t",children:"pid_ctrl_parameter_t"})," * config, pid_ctrl_block_handle_t * handle)"]}),children:[(0,n.jsx)(d.p,{children:"Create a new PID control block."}),(0,n.jsxs)(m.A,{title:"Parameters",children:[(0,n.jsx)(A.A,{name:"config",children:"Pointer to PID control parameters"}),(0,n.jsx)(A.A,{name:"handle",children:"Pointer to the created PID control block handle"})]}),(0,n.jsx)(k.A,{title:"Returns",children:(0,n.jsx)(d.p,{children:"PICO_OK on success, error code otherwise"})}),(0,n.jsx)(d.p,{children:"The created control block should be deleted by pid_del_control_block() function after use."}),(0,n.jsxs)(d.p,{children:["Definition at line ",(0,n.jsx)("a",{href:"#l00076",children:"76"})," of file ",(0,n.jsx)("a",{href:"/desoldering-station-docs/docs/api/files/src/drivers/pid-c",children:"pid.c"}),"."]})]}),(0,n.jsx)(d.h3,{id:"a54dce92cfa319be59dabfa5d17b9c08f",children:"pid_reset_ctrl_block()"}),(0,n.jsxs)(h.A,{prototype:(0,n.jsx)(n.Fragment,{children:"pico_err_t pid_reset_ctrl_block (pid_ctrl_block_handle_t handle)"}),children:[(0,n.jsx)(d.p,{children:"Reset the PID control block internal state."}),(0,n.jsx)(m.A,{title:"Parameters",children:(0,n.jsx)(A.A,{name:"handle",children:"PID control block handle"})}),(0,n.jsx)(k.A,{title:"Returns",children:(0,n.jsx)(d.p,{children:"PICO_OK on success, error code otherwise"})}),(0,n.jsx)(d.p,{children:"This function resets the internal state of the PID controller, including integral and previous error terms."}),(0,n.jsxs)(d.p,{children:["Definition at line ",(0,n.jsx)("a",{href:"#l00151",children:"151"})," of file ",(0,n.jsx)("a",{href:"/desoldering-station-docs/docs/api/files/src/drivers/pid-c",children:"pid.c"}),"."]})]}),(0,n.jsx)(d.h3,{id:"ac5e5c05d1c29b859253f501feeb66ab4",children:"pid_update_parameters()"}),(0,n.jsxs)(h.A,{prototype:(0,n.jsxs)(n.Fragment,{children:["pico_err_t pid_update_parameters (pid_ctrl_block_handle_t handle, const ",(0,n.jsx)(d.a,{href:"/desoldering-station-docs/docs/api/structs/pid-ctrl-parameter-t",children:"pid_ctrl_parameter_t"})," * params)"]}),children:[(0,n.jsx)(d.p,{children:"Update PID control parameters."}),(0,n.jsxs)(m.A,{title:"Parameters",children:[(0,n.jsx)(A.A,{name:"handle",children:"PID control block handle"}),(0,n.jsx)(A.A,{name:"params",children:"Pointer to the structure containing the new parameters"})]}),(0,n.jsx)(k.A,{title:"Returns",children:(0,n.jsx)(d.p,{children:"PICO_OK on success, error code otherwise"})}),(0,n.jsxs)(d.p,{children:["Definition at line ",(0,n.jsx)("a",{href:"#l00121",children:"121"})," of file ",(0,n.jsx)("a",{href:"/desoldering-station-docs/docs/api/files/src/drivers/pid-c",children:"pid.c"}),"."]})]})]}),(0,n.jsxs)(b.A,{children:[(0,n.jsx)(d.h2,{id:"variables",children:"Variables"}),(0,n.jsx)(d.h3,{id:"a5a85b9c772bbeb480b209a3e6ea92b4c",children:"TAG"}),(0,n.jsx)(h.A,{prototype:(0,n.jsx)(n.Fragment,{children:'const char* TAG = "pid"'}),labels:["static"],children:(0,n.jsxs)(d.p,{children:["Definition at line ",(0,n.jsx)("a",{href:"#l00008",children:"8"})," of file ",(0,n.jsx)("a",{href:"/desoldering-station-docs/docs/api/files/src/drivers/pid-c",children:"pid.c"}),"."]})})]}),(0,n.jsx)(d.h2,{id:"file-listing",children:"File Listing"}),(0,n.jsx)(d.p,{children:"The file content with the documentation metadata removed is:"}),(0,n.jsxs)(u.A,{children:[(0,n.jsx)(s.A,{id:"l00001"}),(0,n.jsxs)(c.A,{lineNumber:"1",children:[(0,n.jsx)(t.A,{kind:"preprocessor",children:"#include <stdlib.h>"}),(0,n.jsx)(t.A,{kind:"normal"})]}),(0,n.jsx)(s.A,{id:"l00002"}),(0,n.jsxs)(c.A,{lineNumber:"2",children:[(0,n.jsx)(t.A,{kind:"normal"}),(0,n.jsx)(t.A,{kind:"preprocessor",children:"#include <string.h>"}),(0,n.jsx)(t.A,{kind:"normal"})]}),(0,n.jsx)(s.A,{id:"l00003"}),(0,n.jsx)(c.A,{lineNumber:"3",children:(0,n.jsx)(t.A,{kind:"normal"})}),(0,n.jsx)(s.A,{id:"l00004"}),(0,n.jsxs)(c.A,{lineNumber:"4",children:[(0,n.jsx)(t.A,{kind:"normal"}),(0,n.jsx)(t.A,{kind:"preprocessor",children:'#include "drivers/pid.h"'}),(0,n.jsx)(t.A,{kind:"normal"})]}),(0,n.jsx)(s.A,{id:"l00005"}),(0,n.jsxs)(c.A,{lineNumber:"5",children:[(0,n.jsx)(t.A,{kind:"normal"}),(0,n.jsx)(t.A,{kind:"preprocessor",children:'#include "core/pico_log.h"'}),(0,n.jsx)(t.A,{kind:"normal"})]}),(0,n.jsx)(s.A,{id:"l00006"}),(0,n.jsxs)(c.A,{lineNumber:"6",children:[(0,n.jsx)(t.A,{kind:"normal"}),(0,n.jsx)(t.A,{kind:"preprocessor",children:'#include "core/pico_err.h"'}),(0,n.jsx)(t.A,{kind:"normal"})]}),(0,n.jsx)(s.A,{id:"l00007"}),(0,n.jsx)(c.A,{lineNumber:"7",children:(0,n.jsx)(t.A,{kind:"normal"})}),(0,n.jsx)(s.A,{id:"l00008"}),(0,n.jsxs)(c.A,{lineNumber:"8",children:[(0,n.jsx)(t.A,{kind:"normal"}),(0,n.jsx)(t.A,{kind:"keyword",children:"static"}),(0,n.jsx)(t.A,{kind:"normal",children:" "}),(0,n.jsx)(t.A,{kind:"keyword",children:"const"}),(0,n.jsx)(t.A,{kind:"normal",children:" "}),(0,n.jsx)(t.A,{kind:"keywordtype",children:"char"}),(0,n.jsx)(t.A,{kind:"normal",children:"* TAG = "}),(0,n.jsx)(t.A,{kind:"stringliteral",children:'"pid"'}),(0,n.jsx)(t.A,{kind:"normal",children:";"})]}),(0,n.jsx)(s.A,{id:"l00009"}),(0,n.jsx)(c.A,{lineNumber:"9",children:(0,n.jsx)(t.A,{kind:"normal"})}),(0,n.jsx)(s.A,{id:"l00010"}),(0,n.jsx)(c.A,{lineNumber:"10",children:(0,n.jsx)(t.A,{kind:"normal"})}),(0,n.jsx)(s.A,{id:"l00011"}),(0,n.jsx)(c.A,{lineNumber:"11",children:(0,n.jsx)(t.A,{kind:"normal"})}),(0,n.jsx)(s.A,{id:"l00012"}),(0,n.jsxs)(c.A,{lineNumber:"12",children:[(0,n.jsx)(t.A,{kind:"normal"}),(0,n.jsx)(t.A,{kind:"keyword",children:"typedef"}),(0,n.jsx)(t.A,{kind:"normal",children:" "}),(0,n.jsx)(t.A,{kind:"keyword",children:"struct "}),(0,n.jsxs)(t.A,{kind:"normal",children:[(0,n.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/pid-ctrl-block-t",children:"pid_ctrl_block_t"})," ",(0,n.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/pid-ctrl-block-t",children:"pid_ctrl_block_t"}),";"]})]}),(0,n.jsx)(s.A,{id:"l00013"}),(0,n.jsxs)(c.A,{lineNumber:"13",children:[(0,n.jsx)(t.A,{kind:"normal"}),(0,n.jsx)(t.A,{kind:"keyword",children:"typedef"}),(0,n.jsxs)(t.A,{kind:"normal",children:[" float (*pid_cal_func_t)(",(0,n.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/pid-ctrl-block-t",children:"pid_ctrl_block_t"}),"* pid, "]}),(0,n.jsx)(t.A,{kind:"keywordtype",children:"float"}),(0,n.jsx)(t.A,{kind:"normal",children:" error);"})]}),(0,n.jsx)(s.A,{id:"l00014"}),(0,n.jsx)(c.A,{lineNumber:"14",children:(0,n.jsx)(t.A,{kind:"normal"})}),(0,n.jsx)(s.A,{id:"l00015"}),(0,n.jsxs)(c.A,{lineNumber:"15",lineLink:"/desoldering-station-docs/docs/api/structs/pid-ctrl-block-t",children:[(0,n.jsx)(t.A,{kind:"normal"}),(0,n.jsx)(t.A,{kind:"keyword",children:"struct "}),(0,n.jsxs)(t.A,{kind:"normal",children:[(0,n.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/pid-ctrl-block-t",children:"pid_ctrl_block_t"})," {"]})]}),(0,n.jsx)(s.A,{id:"l00016"}),(0,n.jsxs)(c.A,{lineNumber:"16",lineLink:"/desoldering-station-docs/docs/api/structs/pid-ctrl-block-t/#a09cfc766a233ad617270562cc4146d07",children:[(0,n.jsx)(t.A,{kind:"normal",children:"    "}),(0,n.jsx)(t.A,{kind:"keywordtype",children:"float"}),(0,n.jsxs)(t.A,{kind:"normal",children:["          ",(0,n.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/pid-ctrl-block-t/#a09cfc766a233ad617270562cc4146d07",children:"Kp"}),";             "]}),(0,n.jsx)(t.A,{kind:"comment",children:"// PID Kp value"}),(0,n.jsx)(t.A,{kind:"normal"})]}),(0,n.jsx)(s.A,{id:"l00017"}),(0,n.jsxs)(c.A,{lineNumber:"17",lineLink:"/desoldering-station-docs/docs/api/structs/pid-ctrl-block-t/#a59fac16f568541187ff485c4c47b0ec5",children:[(0,n.jsx)(t.A,{kind:"normal",children:"    "}),(0,n.jsx)(t.A,{kind:"keywordtype",children:"float"}),(0,n.jsxs)(t.A,{kind:"normal",children:["          ",(0,n.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/pid-ctrl-block-t/#a59fac16f568541187ff485c4c47b0ec5",children:"Ki"}),";             "]}),(0,n.jsx)(t.A,{kind:"comment",children:"// PID Ki value"}),(0,n.jsx)(t.A,{kind:"normal"})]}),(0,n.jsx)(s.A,{id:"l00018"}),(0,n.jsxs)(c.A,{lineNumber:"18",lineLink:"/desoldering-station-docs/docs/api/structs/pid-ctrl-block-t/#a98268d71502ba080d88a9b1f50fdbe80",children:[(0,n.jsx)(t.A,{kind:"normal",children:"    "}),(0,n.jsx)(t.A,{kind:"keywordtype",children:"float"}),(0,n.jsxs)(t.A,{kind:"normal",children:["          ",(0,n.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/pid-ctrl-block-t/#a98268d71502ba080d88a9b1f50fdbe80",children:"Kd"}),";             "]}),(0,n.jsx)(t.A,{kind:"comment",children:"// PID Kd value"}),(0,n.jsx)(t.A,{kind:"normal"})]}),(0,n.jsx)(s.A,{id:"l00019"}),(0,n.jsxs)(c.A,{lineNumber:"19",lineLink:"/desoldering-station-docs/docs/api/structs/pid-ctrl-block-t/#aa8a333e7b6b2541997fe5c95c3c4fb6e",children:[(0,n.jsx)(t.A,{kind:"normal",children:"    "}),(0,n.jsx)(t.A,{kind:"keywordtype",children:"float"}),(0,n.jsxs)(t.A,{kind:"normal",children:["          ",(0,n.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/pid-ctrl-block-t/#aa8a333e7b6b2541997fe5c95c3c4fb6e",children:"previous_err1"}),";  "]}),(0,n.jsx)(t.A,{kind:"comment",children:"// e(k-1)"}),(0,n.jsx)(t.A,{kind:"normal"})]}),(0,n.jsx)(s.A,{id:"l00020"}),(0,n.jsxs)(c.A,{lineNumber:"20",lineLink:"/desoldering-station-docs/docs/api/structs/pid-ctrl-block-t/#afb42cce16b66eeae0d60bb44b97c8520",children:[(0,n.jsx)(t.A,{kind:"normal",children:"    "}),(0,n.jsx)(t.A,{kind:"keywordtype",children:"float"}),(0,n.jsxs)(t.A,{kind:"normal",children:["          ",(0,n.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/pid-ctrl-block-t/#afb42cce16b66eeae0d60bb44b97c8520",children:"previous_err2"}),";  "]}),(0,n.jsx)(t.A,{kind:"comment",children:"// e(k-2)"}),(0,n.jsx)(t.A,{kind:"normal"})]}),(0,n.jsx)(s.A,{id:"l00021"}),(0,n.jsxs)(c.A,{lineNumber:"21",lineLink:"/desoldering-station-docs/docs/api/structs/pid-ctrl-block-t/#a7f4b523c78367e8936d31138167cb98e",children:[(0,n.jsx)(t.A,{kind:"normal",children:"    "}),(0,n.jsx)(t.A,{kind:"keywordtype",children:"float"}),(0,n.jsxs)(t.A,{kind:"normal",children:["          ",(0,n.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/pid-ctrl-block-t/#a7f4b523c78367e8936d31138167cb98e",children:"integral_err"}),";   "]}),(0,n.jsx)(t.A,{kind:"comment",children:"// Sum of error"}),(0,n.jsx)(t.A,{kind:"normal"})]}),(0,n.jsx)(s.A,{id:"l00022"}),(0,n.jsxs)(c.A,{lineNumber:"22",lineLink:"/desoldering-station-docs/docs/api/structs/pid-ctrl-block-t/#abff68b9c41b65c422f60ef8dc56711fb",children:[(0,n.jsx)(t.A,{kind:"normal",children:"    "}),(0,n.jsx)(t.A,{kind:"keywordtype",children:"float"}),(0,n.jsxs)(t.A,{kind:"normal",children:["          ",(0,n.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/pid-ctrl-block-t/#abff68b9c41b65c422f60ef8dc56711fb",children:"last_output"}),";    "]}),(0,n.jsx)(t.A,{kind:"comment",children:"// PID output in last control period"}),(0,n.jsx)(t.A,{kind:"normal"})]}),(0,n.jsx)(s.A,{id:"l00023"}),(0,n.jsxs)(c.A,{lineNumber:"23",lineLink:"/desoldering-station-docs/docs/api/structs/pid-ctrl-block-t/#a56964985398133cdd7108e45f32f0e0f",children:[(0,n.jsx)(t.A,{kind:"normal",children:"    "}),(0,n.jsx)(t.A,{kind:"keywordtype",children:"float"}),(0,n.jsxs)(t.A,{kind:"normal",children:["          ",(0,n.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/pid-ctrl-block-t/#a56964985398133cdd7108e45f32f0e0f",children:"max_output"}),";     "]}),(0,n.jsx)(t.A,{kind:"comment",children:"// PID maximum output limitation"}),(0,n.jsx)(t.A,{kind:"normal"})]}),(0,n.jsx)(s.A,{id:"l00024"}),(0,n.jsxs)(c.A,{lineNumber:"24",lineLink:"/desoldering-station-docs/docs/api/structs/pid-ctrl-block-t/#a95b8ee55ef351ed053ea147e10ef14cd",children:[(0,n.jsx)(t.A,{kind:"normal",children:"    "}),(0,n.jsx)(t.A,{kind:"keywordtype",children:"float"}),(0,n.jsxs)(t.A,{kind:"normal",children:["          ",(0,n.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/pid-ctrl-block-t/#a95b8ee55ef351ed053ea147e10ef14cd",children:"min_output"}),";     "]}),(0,n.jsx)(t.A,{kind:"comment",children:"// PID minimum output limitation"}),(0,n.jsx)(t.A,{kind:"normal"})]}),(0,n.jsx)(s.A,{id:"l00025"}),(0,n.jsxs)(c.A,{lineNumber:"25",lineLink:"/desoldering-station-docs/docs/api/structs/pid-ctrl-block-t/#a00eb16a82a4f9602a2dcc96093f873f8",children:[(0,n.jsx)(t.A,{kind:"normal",children:"    "}),(0,n.jsx)(t.A,{kind:"keywordtype",children:"float"}),(0,n.jsxs)(t.A,{kind:"normal",children:["          ",(0,n.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/pid-ctrl-block-t/#a00eb16a82a4f9602a2dcc96093f873f8",children:"max_integral"}),";   "]}),(0,n.jsx)(t.A,{kind:"comment",children:"// PID maximum integral value limitation"}),(0,n.jsx)(t.A,{kind:"normal"})]}),(0,n.jsx)(s.A,{id:"l00026"}),(0,n.jsxs)(c.A,{lineNumber:"26",lineLink:"/desoldering-station-docs/docs/api/structs/pid-ctrl-block-t/#a9c0dbb41d8b43e1b480f5f9a71d14ab9",children:[(0,n.jsx)(t.A,{kind:"normal",children:"    "}),(0,n.jsx)(t.A,{kind:"keywordtype",children:"float"}),(0,n.jsxs)(t.A,{kind:"normal",children:["          ",(0,n.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/pid-ctrl-block-t/#a9c0dbb41d8b43e1b480f5f9a71d14ab9",children:"min_integral"}),";   "]}),(0,n.jsx)(t.A,{kind:"comment",children:"// PID minimum integral value limitation"}),(0,n.jsx)(t.A,{kind:"normal"})]}),(0,n.jsx)(s.A,{id:"l00027"}),(0,n.jsxs)(c.A,{lineNumber:"27",lineLink:"/desoldering-station-docs/docs/api/structs/pid-ctrl-block-t/#aab755a7c8533eaa9efcab48be44677fe",children:[(0,n.jsxs)(t.A,{kind:"normal",children:["    pid_cal_func_t ",(0,n.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/pid-ctrl-block-t/#aab755a7c8533eaa9efcab48be44677fe",children:"calculate_func"}),"; "]}),(0,n.jsx)(t.A,{kind:"comment",children:"// calculation function, depends on actual PID type set by user"}),(0,n.jsx)(t.A,{kind:"normal"})]}),(0,n.jsx)(s.A,{id:"l00028"}),(0,n.jsx)(c.A,{lineNumber:"28",children:(0,n.jsx)(t.A,{kind:"normal",children:"};"})}),(0,n.jsx)(s.A,{id:"l00029"}),(0,n.jsx)(c.A,{lineNumber:"29",children:(0,n.jsx)(t.A,{kind:"normal"})}),(0,n.jsx)(s.A,{id:"l00030"}),(0,n.jsx)(c.A,{lineNumber:"30",children:(0,n.jsx)(t.A,{kind:"normal"})}),(0,n.jsx)(s.A,{id:"l00031"}),(0,n.jsxs)(c.A,{lineNumber:"31",children:[(0,n.jsx)(t.A,{kind:"normal"}),(0,n.jsx)(t.A,{kind:"keyword",children:"static"}),(0,n.jsx)(t.A,{kind:"normal",children:" "}),(0,n.jsx)(t.A,{kind:"keywordtype",children:"float"}),(0,n.jsxs)(t.A,{kind:"normal",children:[" pid_calc_positional(",(0,n.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/pid-ctrl-block-t",children:"pid_ctrl_block_t"}),"* pid, "]}),(0,n.jsx)(t.A,{kind:"keywordtype",children:"float"}),(0,n.jsx)(t.A,{kind:"normal",children:" error) {"})]}),(0,n.jsx)(s.A,{id:"l00032"}),(0,n.jsxs)(c.A,{lineNumber:"32",children:[(0,n.jsx)(t.A,{kind:"normal",children:"    "}),(0,n.jsx)(t.A,{kind:"keywordtype",children:"float"}),(0,n.jsx)(t.A,{kind:"normal",children:" output = 0;"})]}),(0,n.jsx)(s.A,{id:"l00033"}),(0,n.jsxs)(c.A,{lineNumber:"33",children:[(0,n.jsx)(t.A,{kind:"normal",children:"    "}),(0,n.jsx)(t.A,{kind:"comment",children:"/* Add current error to the integral error */"}),(0,n.jsx)(t.A,{kind:"normal"})]}),(0,n.jsx)(s.A,{id:"l00034"}),(0,n.jsx)(c.A,{lineNumber:"34",children:(0,n.jsxs)(t.A,{kind:"normal",children:["    pid->",(0,n.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/pid-ctrl-block-t/#a7f4b523c78367e8936d31138167cb98e",children:"integral_err"})," += error;"]})}),(0,n.jsx)(s.A,{id:"l00035"}),(0,n.jsxs)(c.A,{lineNumber:"35",children:[(0,n.jsx)(t.A,{kind:"normal",children:"    "}),(0,n.jsx)(t.A,{kind:"comment",children:"/* If the integral error is out of the range, it will be limited */"}),(0,n.jsx)(t.A,{kind:"normal"})]}),(0,n.jsx)(s.A,{id:"l00036"}),(0,n.jsx)(c.A,{lineNumber:"36",children:(0,n.jsxs)(t.A,{kind:"normal",children:["    pid->",(0,n.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/pid-ctrl-block-t/#a7f4b523c78367e8936d31138167cb98e",children:"integral_err"})," = MIN(pid->",(0,n.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/pid-ctrl-block-t/#a7f4b523c78367e8936d31138167cb98e",children:"integral_err"}),", pid->",(0,n.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/pid-ctrl-block-t/#a00eb16a82a4f9602a2dcc96093f873f8",children:"max_integral"}),");"]})}),(0,n.jsx)(s.A,{id:"l00037"}),(0,n.jsx)(c.A,{lineNumber:"37",children:(0,n.jsxs)(t.A,{kind:"normal",children:["    pid->",(0,n.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/pid-ctrl-block-t/#a7f4b523c78367e8936d31138167cb98e",children:"integral_err"})," = MAX(pid->",(0,n.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/pid-ctrl-block-t/#a7f4b523c78367e8936d31138167cb98e",children:"integral_err"}),", pid->",(0,n.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/pid-ctrl-block-t/#a9c0dbb41d8b43e1b480f5f9a71d14ab9",children:"min_integral"}),");"]})}),(0,n.jsx)(s.A,{id:"l00038"}),(0,n.jsx)(c.A,{lineNumber:"38",children:(0,n.jsx)(t.A,{kind:"normal"})}),(0,n.jsx)(s.A,{id:"l00039"}),(0,n.jsxs)(c.A,{lineNumber:"39",children:[(0,n.jsx)(t.A,{kind:"normal",children:"    "}),(0,n.jsx)(t.A,{kind:"comment",children:"/* Calculate the pid control value by location formula */"}),(0,n.jsx)(t.A,{kind:"normal"})]}),(0,n.jsx)(s.A,{id:"l00040"}),(0,n.jsxs)(c.A,{lineNumber:"40",children:[(0,n.jsx)(t.A,{kind:"normal",children:"    "}),(0,n.jsx)(t.A,{kind:"comment",children:"/* u(k) = e(k)*Kp + (e(k)-e(k-1))*Kd + integral*Ki */"}),(0,n.jsx)(t.A,{kind:"normal"})]}),(0,n.jsx)(s.A,{id:"l00041"}),(0,n.jsx)(c.A,{lineNumber:"41",children:(0,n.jsxs)(t.A,{kind:"normal",children:["    output = error * pid->",(0,n.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/pid-ctrl-block-t/#a09cfc766a233ad617270562cc4146d07",children:"Kp"})," + (error - pid->",(0,n.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/pid-ctrl-block-t/#aa8a333e7b6b2541997fe5c95c3c4fb6e",children:"previous_err1"}),") * pid->",(0,n.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/pid-ctrl-block-t/#a98268d71502ba080d88a9b1f50fdbe80",children:"Kd"})," + pid->",(0,n.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/pid-ctrl-block-t/#a7f4b523c78367e8936d31138167cb98e",children:"integral_err"})," * pid->",(0,n.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/pid-ctrl-block-t/#a59fac16f568541187ff485c4c47b0ec5",children:"Ki"}),";"]})}),(0,n.jsx)(s.A,{id:"l00042"}),(0,n.jsx)(c.A,{lineNumber:"42",children:(0,n.jsx)(t.A,{kind:"normal"})}),(0,n.jsx)(s.A,{id:"l00043"}),(0,n.jsxs)(c.A,{lineNumber:"43",children:[(0,n.jsx)(t.A,{kind:"normal",children:"    "}),(0,n.jsx)(t.A,{kind:"comment",children:"/* If the output is out of the range, it will be limited */"}),(0,n.jsx)(t.A,{kind:"normal"})]}),(0,n.jsx)(s.A,{id:"l00044"}),(0,n.jsx)(c.A,{lineNumber:"44",children:(0,n.jsxs)(t.A,{kind:"normal",children:["    output = MIN(output, pid->",(0,n.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/pid-ctrl-block-t/#a56964985398133cdd7108e45f32f0e0f",children:"max_output"}),");"]})}),(0,n.jsx)(s.A,{id:"l00045"}),(0,n.jsx)(c.A,{lineNumber:"45",children:(0,n.jsxs)(t.A,{kind:"normal",children:["    output = MAX(output, pid->",(0,n.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/pid-ctrl-block-t/#a95b8ee55ef351ed053ea147e10ef14cd",children:"min_output"}),");"]})}),(0,n.jsx)(s.A,{id:"l00046"}),(0,n.jsx)(c.A,{lineNumber:"46",children:(0,n.jsx)(t.A,{kind:"normal"})}),(0,n.jsx)(s.A,{id:"l00047"}),(0,n.jsxs)(c.A,{lineNumber:"47",children:[(0,n.jsx)(t.A,{kind:"normal",children:"    "}),(0,n.jsx)(t.A,{kind:"comment",children:"/* Update previous error */"}),(0,n.jsx)(t.A,{kind:"normal"})]}),(0,n.jsx)(s.A,{id:"l00048"}),(0,n.jsx)(c.A,{lineNumber:"48",children:(0,n.jsxs)(t.A,{kind:"normal",children:["    pid->",(0,n.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/pid-ctrl-block-t/#aa8a333e7b6b2541997fe5c95c3c4fb6e",children:"previous_err1"})," = error;"]})}),(0,n.jsx)(s.A,{id:"l00049"}),(0,n.jsx)(c.A,{lineNumber:"49",children:(0,n.jsx)(t.A,{kind:"normal"})}),(0,n.jsx)(s.A,{id:"l00050"}),(0,n.jsxs)(c.A,{lineNumber:"50",children:[(0,n.jsx)(t.A,{kind:"normal",children:"    "}),(0,n.jsx)(t.A,{kind:"keywordflow",children:"return"}),(0,n.jsx)(t.A,{kind:"normal",children:" output;"})]}),(0,n.jsx)(s.A,{id:"l00051"}),(0,n.jsx)(c.A,{lineNumber:"51",children:(0,n.jsx)(t.A,{kind:"normal",children:"}"})}),(0,n.jsx)(s.A,{id:"l00052"}),(0,n.jsx)(c.A,{lineNumber:"52",children:(0,n.jsx)(t.A,{kind:"normal"})}),(0,n.jsx)(s.A,{id:"l00053"}),(0,n.jsxs)(c.A,{lineNumber:"53",children:[(0,n.jsx)(t.A,{kind:"normal"}),(0,n.jsx)(t.A,{kind:"keyword",children:"static"}),(0,n.jsx)(t.A,{kind:"normal",children:" "}),(0,n.jsx)(t.A,{kind:"keywordtype",children:"float"}),(0,n.jsxs)(t.A,{kind:"normal",children:[" pid_calc_incremental(",(0,n.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/pid-ctrl-block-t",children:"pid_ctrl_block_t"}),"* pid, "]}),(0,n.jsx)(t.A,{kind:"keywordtype",children:"float"}),(0,n.jsx)(t.A,{kind:"normal",children:" error) {"})]}),(0,n.jsx)(s.A,{id:"l00054"}),(0,n.jsxs)(c.A,{lineNumber:"54",children:[(0,n.jsx)(t.A,{kind:"normal",children:"    "}),(0,n.jsx)(t.A,{kind:"keywordtype",children:"float"}),(0,n.jsx)(t.A,{kind:"normal",children:" output = 0;"})]}),(0,n.jsx)(s.A,{id:"l00055"}),(0,n.jsx)(c.A,{lineNumber:"55",children:(0,n.jsx)(t.A,{kind:"normal"})}),(0,n.jsx)(s.A,{id:"l00056"}),(0,n.jsxs)(c.A,{lineNumber:"56",children:[(0,n.jsx)(t.A,{kind:"normal",children:"    "}),(0,n.jsx)(t.A,{kind:"comment",children:"/* Calculate the pid control value by increment formula */"}),(0,n.jsx)(t.A,{kind:"normal"})]}),(0,n.jsx)(s.A,{id:"l00057"}),(0,n.jsxs)(c.A,{lineNumber:"57",children:[(0,n.jsx)(t.A,{kind:"normal",children:"    "}),(0,n.jsx)(t.A,{kind:"comment",children:"/* du(k) = (e(k)-e(k-1))*Kp + (e(k)-2*e(k-1)+e(k-2))*Kd + e(k)*Ki */"}),(0,n.jsx)(t.A,{kind:"normal"})]}),(0,n.jsx)(s.A,{id:"l00058"}),(0,n.jsxs)(c.A,{lineNumber:"58",children:[(0,n.jsx)(t.A,{kind:"normal",children:"    "}),(0,n.jsx)(t.A,{kind:"comment",children:"/* u(k) = du(k) + u(k-1) */"}),(0,n.jsx)(t.A,{kind:"normal"})]}),(0,n.jsx)(s.A,{id:"l00059"}),(0,n.jsx)(c.A,{lineNumber:"59",children:(0,n.jsxs)(t.A,{kind:"normal",children:["    output = (error - pid->",(0,n.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/pid-ctrl-block-t/#aa8a333e7b6b2541997fe5c95c3c4fb6e",children:"previous_err1"}),") * pid->",(0,n.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/pid-ctrl-block-t/#a09cfc766a233ad617270562cc4146d07",children:"Kp"})," + (error - 2 * pid->",(0,n.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/pid-ctrl-block-t/#aa8a333e7b6b2541997fe5c95c3c4fb6e",children:"previous_err1"})," + pid->",(0,n.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/pid-ctrl-block-t/#afb42cce16b66eeae0d60bb44b97c8520",children:"previous_err2"}),") * pid->",(0,n.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/pid-ctrl-block-t/#a98268d71502ba080d88a9b1f50fdbe80",children:"Kd"})," +"]})}),(0,n.jsx)(s.A,{id:"l00060"}),(0,n.jsx)(c.A,{lineNumber:"60",children:(0,n.jsxs)(t.A,{kind:"normal",children:["             error * pid->",(0,n.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/pid-ctrl-block-t/#a59fac16f568541187ff485c4c47b0ec5",children:"Ki"})," + pid->",(0,n.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/pid-ctrl-block-t/#abff68b9c41b65c422f60ef8dc56711fb",children:"last_output"}),";"]})}),(0,n.jsx)(s.A,{id:"l00061"}),(0,n.jsx)(c.A,{lineNumber:"61",children:(0,n.jsx)(t.A,{kind:"normal"})}),(0,n.jsx)(s.A,{id:"l00062"}),(0,n.jsxs)(c.A,{lineNumber:"62",children:[(0,n.jsx)(t.A,{kind:"normal",children:"    "}),(0,n.jsx)(t.A,{kind:"comment",children:"/* If the output is beyond the range, it will be limited */"}),(0,n.jsx)(t.A,{kind:"normal"})]}),(0,n.jsx)(s.A,{id:"l00063"}),(0,n.jsx)(c.A,{lineNumber:"63",children:(0,n.jsxs)(t.A,{kind:"normal",children:["    output = MIN(output, pid->",(0,n.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/pid-ctrl-block-t/#a56964985398133cdd7108e45f32f0e0f",children:"max_output"}),");"]})}),(0,n.jsx)(s.A,{id:"l00064"}),(0,n.jsx)(c.A,{lineNumber:"64",children:(0,n.jsxs)(t.A,{kind:"normal",children:["    output = MAX(output, pid->",(0,n.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/pid-ctrl-block-t/#a95b8ee55ef351ed053ea147e10ef14cd",children:"min_output"}),");"]})}),(0,n.jsx)(s.A,{id:"l00065"}),(0,n.jsx)(c.A,{lineNumber:"65",children:(0,n.jsx)(t.A,{kind:"normal"})}),(0,n.jsx)(s.A,{id:"l00066"}),(0,n.jsxs)(c.A,{lineNumber:"66",children:[(0,n.jsx)(t.A,{kind:"normal",children:"    "}),(0,n.jsx)(t.A,{kind:"comment",children:"/* Update previous error */"}),(0,n.jsx)(t.A,{kind:"normal"})]}),(0,n.jsx)(s.A,{id:"l00067"}),(0,n.jsx)(c.A,{lineNumber:"67",children:(0,n.jsxs)(t.A,{kind:"normal",children:["    pid->",(0,n.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/pid-ctrl-block-t/#afb42cce16b66eeae0d60bb44b97c8520",children:"previous_err2"})," = pid->",(0,n.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/pid-ctrl-block-t/#aa8a333e7b6b2541997fe5c95c3c4fb6e",children:"previous_err1"}),";"]})}),(0,n.jsx)(s.A,{id:"l00068"}),(0,n.jsx)(c.A,{lineNumber:"68",children:(0,n.jsxs)(t.A,{kind:"normal",children:["    pid->",(0,n.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/pid-ctrl-block-t/#aa8a333e7b6b2541997fe5c95c3c4fb6e",children:"previous_err1"})," = error;"]})}),(0,n.jsx)(s.A,{id:"l00069"}),(0,n.jsx)(c.A,{lineNumber:"69",children:(0,n.jsx)(t.A,{kind:"normal"})}),(0,n.jsx)(s.A,{id:"l00070"}),(0,n.jsxs)(c.A,{lineNumber:"70",children:[(0,n.jsx)(t.A,{kind:"normal",children:"    "}),(0,n.jsx)(t.A,{kind:"comment",children:"/* Update last output */"}),(0,n.jsx)(t.A,{kind:"normal"})]}),(0,n.jsx)(s.A,{id:"l00071"}),(0,n.jsx)(c.A,{lineNumber:"71",children:(0,n.jsxs)(t.A,{kind:"normal",children:["    pid->",(0,n.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/pid-ctrl-block-t/#abff68b9c41b65c422f60ef8dc56711fb",children:"last_output"})," = output;"]})}),(0,n.jsx)(s.A,{id:"l00072"}),(0,n.jsx)(c.A,{lineNumber:"72",children:(0,n.jsx)(t.A,{kind:"normal"})}),(0,n.jsx)(s.A,{id:"l00073"}),(0,n.jsxs)(c.A,{lineNumber:"73",children:[(0,n.jsx)(t.A,{kind:"normal",children:"    "}),(0,n.jsx)(t.A,{kind:"keywordflow",children:"return"}),(0,n.jsx)(t.A,{kind:"normal",children:" output;"})]}),(0,n.jsx)(s.A,{id:"l00074"}),(0,n.jsx)(c.A,{lineNumber:"74",children:(0,n.jsx)(t.A,{kind:"normal",children:"}"})}),(0,n.jsx)(s.A,{id:"l00075"}),(0,n.jsx)(c.A,{lineNumber:"75",children:(0,n.jsx)(t.A,{kind:"normal"})}),(0,n.jsx)(s.A,{id:"l00076"}),(0,n.jsxs)(c.A,{lineNumber:"76",children:[(0,n.jsx)(t.A,{kind:"normal",children:"pico_err_t pid_new_control_block("}),(0,n.jsx)(t.A,{kind:"keyword",children:"const"}),(0,n.jsxs)(t.A,{kind:"normal",children:[" ",(0,n.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/pid-ctrl-parameter-t",children:"pid_ctrl_parameter_t"}),"* config, pid_ctrl_block_handle_t* handle) {"]})]}),(0,n.jsx)(s.A,{id:"l00077"}),(0,n.jsx)(c.A,{lineNumber:"77",children:(0,n.jsx)(t.A,{kind:"normal",children:"    pico_err_t         ret = PICO_OK;"})}),(0,n.jsx)(s.A,{id:"l00078"}),(0,n.jsx)(c.A,{lineNumber:"78",children:(0,n.jsxs)(t.A,{kind:"normal",children:["    ",(0,n.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/pid-ctrl-block-t",children:"pid_ctrl_block_t"}),"* pid = NULL;"]})}),(0,n.jsx)(s.A,{id:"l00079"}),(0,n.jsxs)(c.A,{lineNumber:"79",children:[(0,n.jsx)(t.A,{kind:"normal",children:"    "}),(0,n.jsx)(t.A,{kind:"comment",children:"/* Check the input pointer */"}),(0,n.jsx)(t.A,{kind:"normal"})]}),(0,n.jsx)(s.A,{id:"l00080"}),(0,n.jsxs)(c.A,{lineNumber:"80",children:[(0,n.jsx)(t.A,{kind:"normal",children:"    PICO_GOTO_ON_FALSE(config && handle, PICO_ERROR_INVALID_ARG, err, TAG, "}),(0,n.jsx)(t.A,{kind:"stringliteral",children:'"invalid argument"'}),(0,n.jsx)(t.A,{kind:"normal",children:");"})]}),(0,n.jsx)(s.A,{id:"l00081"}),(0,n.jsx)(c.A,{lineNumber:"81",children:(0,n.jsx)(t.A,{kind:"normal"})}),(0,n.jsx)(s.A,{id:"l00082"}),(0,n.jsxs)(c.A,{lineNumber:"82",children:[(0,n.jsx)(t.A,{kind:"normal",children:"    pid = calloc(1, "}),(0,n.jsx)(t.A,{kind:"keyword",children:"sizeof"}),(0,n.jsxs)(t.A,{kind:"normal",children:["(",(0,n.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/pid-ctrl-block-t",children:"pid_ctrl_block_t"}),"));"]})]}),(0,n.jsx)(s.A,{id:"l00083"}),(0,n.jsxs)(c.A,{lineNumber:"83",children:[(0,n.jsx)(t.A,{kind:"normal",children:"    PICO_GOTO_ON_FALSE(pid, PICO_ERROR_INSUFFICIENT_RESOURCES, err, TAG, "}),(0,n.jsx)(t.A,{kind:"stringliteral",children:'"no mem for PID control block"'}),(0,n.jsx)(t.A,{kind:"normal",children:");"})]}),(0,n.jsx)(s.A,{id:"l00084"}),(0,n.jsxs)(c.A,{lineNumber:"84",children:[(0,n.jsx)(t.A,{kind:"normal",children:"    PICO_GOTO_ON_ERROR(pid_update_parameters(pid, config), err, TAG, "}),(0,n.jsx)(t.A,{kind:"stringliteral",children:'"init PID parameters failed"'}),(0,n.jsx)(t.A,{kind:"normal",children:");"})]}),(0,n.jsx)(s.A,{id:"l00085"}),(0,n.jsx)(c.A,{lineNumber:"85",children:(0,n.jsx)(t.A,{kind:"normal",children:"    *handle = pid;"})}),(0,n.jsx)(s.A,{id:"l00086"}),(0,n.jsxs)(c.A,{lineNumber:"86",children:[(0,n.jsx)(t.A,{kind:"normal",children:"    "}),(0,n.jsx)(t.A,{kind:"keywordflow",children:"return"}),(0,n.jsx)(t.A,{kind:"normal",children:" ret;"})]}),(0,n.jsx)(s.A,{id:"l00087"}),(0,n.jsx)(c.A,{lineNumber:"87",children:(0,n.jsx)(t.A,{kind:"normal"})}),(0,n.jsx)(s.A,{id:"l00088"}),(0,n.jsx)(c.A,{lineNumber:"88",children:(0,n.jsx)(t.A,{kind:"normal",children:"err:"})}),(0,n.jsx)(s.A,{id:"l00089"}),(0,n.jsxs)(c.A,{lineNumber:"89",children:[(0,n.jsx)(t.A,{kind:"normal",children:"    "}),(0,n.jsx)(t.A,{kind:"keywordflow",children:"if"}),(0,n.jsx)(t.A,{kind:"normal",children:" (pid) {"})]}),(0,n.jsx)(s.A,{id:"l00090"}),(0,n.jsx)(c.A,{lineNumber:"90",children:(0,n.jsx)(t.A,{kind:"normal",children:"        free(pid);"})}),(0,n.jsx)(s.A,{id:"l00091"}),(0,n.jsx)(c.A,{lineNumber:"91",children:(0,n.jsx)(t.A,{kind:"normal",children:"    }"})}),(0,n.jsx)(s.A,{id:"l00092"}),(0,n.jsxs)(c.A,{lineNumber:"92",children:[(0,n.jsx)(t.A,{kind:"normal",children:"    "}),(0,n.jsx)(t.A,{kind:"keywordflow",children:"return"}),(0,n.jsx)(t.A,{kind:"normal",children:" ret;"})]}),(0,n.jsx)(s.A,{id:"l00093"}),(0,n.jsx)(c.A,{lineNumber:"93",children:(0,n.jsx)(t.A,{kind:"normal",children:"}"})}),(0,n.jsx)(s.A,{id:"l00094"}),(0,n.jsx)(c.A,{lineNumber:"94",children:(0,n.jsx)(t.A,{kind:"normal"})}),(0,n.jsx)(s.A,{id:"l00095"}),(0,n.jsx)(c.A,{lineNumber:"95",children:(0,n.jsx)(t.A,{kind:"normal",children:"pico_err_t pid_del_control_block(pid_ctrl_block_handle_t handle) {"})}),(0,n.jsx)(s.A,{id:"l00096"}),(0,n.jsxs)(c.A,{lineNumber:"96",children:[(0,n.jsx)(t.A,{kind:"normal",children:"    PICO_RETURN_ON_FALSE(handle, PICO_ERROR_INVALID_ARG, TAG, "}),(0,n.jsx)(t.A,{kind:"stringliteral",children:'"invalid argument"'}),(0,n.jsx)(t.A,{kind:"normal",children:");"})]}),(0,n.jsx)(s.A,{id:"l00097"}),(0,n.jsx)(c.A,{lineNumber:"97",children:(0,n.jsx)(t.A,{kind:"normal",children:"    free(handle);"})}),(0,n.jsx)(s.A,{id:"l00098"}),(0,n.jsxs)(c.A,{lineNumber:"98",children:[(0,n.jsx)(t.A,{kind:"normal",children:"    "}),(0,n.jsx)(t.A,{kind:"keywordflow",children:"return"}),(0,n.jsx)(t.A,{kind:"normal",children:" PICO_OK;"})]}),(0,n.jsx)(s.A,{id:"l00099"}),(0,n.jsx)(c.A,{lineNumber:"99",children:(0,n.jsx)(t.A,{kind:"normal",children:"}"})}),(0,n.jsx)(s.A,{id:"l00100"}),(0,n.jsx)(c.A,{lineNumber:"100",children:(0,n.jsx)(t.A,{kind:"normal"})}),(0,n.jsx)(s.A,{id:"l00101"}),(0,n.jsx)(c.A,{lineNumber:"101",children:(0,n.jsxs)(t.A,{kind:"normal",children:["pico_err_t pid_get_parameters(pid_ctrl_block_handle_t handle, ",(0,n.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/pid-ctrl-parameter-t",children:"pid_ctrl_parameter_t"}),"* params) {"]})}),(0,n.jsx)(s.A,{id:"l00102"}),(0,n.jsxs)(c.A,{lineNumber:"102",children:[(0,n.jsx)(t.A,{kind:"normal",children:"    PICO_RETURN_ON_FALSE(handle && params, PICO_ERROR_INVALID_ARG, TAG, "}),(0,n.jsx)(t.A,{kind:"stringliteral",children:'"invalid argument"'}),(0,n.jsx)(t.A,{kind:"normal",children:");"})]}),(0,n.jsx)(s.A,{id:"l00103"}),(0,n.jsx)(c.A,{lineNumber:"103",children:(0,n.jsx)(t.A,{kind:"normal"})}),(0,n.jsx)(s.A,{id:"l00104"}),(0,n.jsx)(c.A,{lineNumber:"104",children:(0,n.jsxs)(t.A,{kind:"normal",children:["    params->",(0,n.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/pid-ctrl-parameter-t/#a1f7add0f84d583bc2eceb290d6c4cc06",children:"kp"}),"           = handle->Kp;"]})}),(0,n.jsx)(s.A,{id:"l00105"}),(0,n.jsx)(c.A,{lineNumber:"105",children:(0,n.jsxs)(t.A,{kind:"normal",children:["    params->",(0,n.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/pid-ctrl-parameter-t/#a050993b7ca6c97e62c1020017f716b91",children:"ki"}),"           = handle->Ki;"]})}),(0,n.jsx)(s.A,{id:"l00106"}),(0,n.jsx)(c.A,{lineNumber:"106",children:(0,n.jsxs)(t.A,{kind:"normal",children:["    params->",(0,n.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/pid-ctrl-parameter-t/#ae7a5c6018507bb1361fcca170e069b9c",children:"kd"}),"           = handle->Kd;"]})}),(0,n.jsx)(s.A,{id:"l00107"}),(0,n.jsx)(c.A,{lineNumber:"107",children:(0,n.jsxs)(t.A,{kind:"normal",children:["    params->",(0,n.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/pid-ctrl-parameter-t/#a56964985398133cdd7108e45f32f0e0f",children:"max_output"}),"   = handle->max_output;"]})}),(0,n.jsx)(s.A,{id:"l00108"}),(0,n.jsx)(c.A,{lineNumber:"108",children:(0,n.jsxs)(t.A,{kind:"normal",children:["    params->",(0,n.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/pid-ctrl-parameter-t/#a95b8ee55ef351ed053ea147e10ef14cd",children:"min_output"}),"   = handle->min_output;"]})}),(0,n.jsx)(s.A,{id:"l00109"}),(0,n.jsx)(c.A,{lineNumber:"109",children:(0,n.jsxs)(t.A,{kind:"normal",children:["    params->",(0,n.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/pid-ctrl-parameter-t/#a00eb16a82a4f9602a2dcc96093f873f8",children:"max_integral"})," = handle->max_integral;"]})}),(0,n.jsx)(s.A,{id:"l00110"}),(0,n.jsx)(c.A,{lineNumber:"110",children:(0,n.jsxs)(t.A,{kind:"normal",children:["    params->",(0,n.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/pid-ctrl-parameter-t/#a9c0dbb41d8b43e1b480f5f9a71d14ab9",children:"min_integral"})," = handle->min_integral;"]})}),(0,n.jsx)(s.A,{id:"l00111"}),(0,n.jsx)(c.A,{lineNumber:"111",children:(0,n.jsx)(t.A,{kind:"normal"})}),(0,n.jsx)(s.A,{id:"l00112"}),(0,n.jsxs)(c.A,{lineNumber:"112",children:[(0,n.jsx)(t.A,{kind:"normal",children:"    "}),(0,n.jsx)(t.A,{kind:"keywordflow",children:"if"}),(0,n.jsx)(t.A,{kind:"normal",children:" (handle->calculate_func == pid_calc_incremental) {"})]}),(0,n.jsx)(s.A,{id:"l00113"}),(0,n.jsx)(c.A,{lineNumber:"113",children:(0,n.jsxs)(t.A,{kind:"normal",children:["        params->",(0,n.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/pid-ctrl-parameter-t/#ad516c30d4918c9626b40cd6ad7500458",children:"cal_type"})," = PID_CAL_TYPE_INCREMENTAL;"]})}),(0,n.jsx)(s.A,{id:"l00114"}),(0,n.jsxs)(c.A,{lineNumber:"114",children:[(0,n.jsx)(t.A,{kind:"normal",children:"    } "}),(0,n.jsx)(t.A,{kind:"keywordflow",children:"else"}),(0,n.jsx)(t.A,{kind:"normal",children:" {"})]}),(0,n.jsx)(s.A,{id:"l00115"}),(0,n.jsx)(c.A,{lineNumber:"115",children:(0,n.jsxs)(t.A,{kind:"normal",children:["        params->",(0,n.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/pid-ctrl-parameter-t/#ad516c30d4918c9626b40cd6ad7500458",children:"cal_type"})," = PID_CAL_TYPE_POSITIONAL;"]})}),(0,n.jsx)(s.A,{id:"l00116"}),(0,n.jsx)(c.A,{lineNumber:"116",children:(0,n.jsx)(t.A,{kind:"normal",children:"    }"})}),(0,n.jsx)(s.A,{id:"l00117"}),(0,n.jsx)(c.A,{lineNumber:"117",children:(0,n.jsx)(t.A,{kind:"normal"})}),(0,n.jsx)(s.A,{id:"l00118"}),(0,n.jsxs)(c.A,{lineNumber:"118",children:[(0,n.jsx)(t.A,{kind:"normal",children:"    "}),(0,n.jsx)(t.A,{kind:"keywordflow",children:"return"}),(0,n.jsx)(t.A,{kind:"normal",children:" PICO_OK;"})]}),(0,n.jsx)(s.A,{id:"l00119"}),(0,n.jsx)(c.A,{lineNumber:"119",children:(0,n.jsx)(t.A,{kind:"normal",children:"}"})}),(0,n.jsx)(s.A,{id:"l00120"}),(0,n.jsx)(c.A,{lineNumber:"120",children:(0,n.jsx)(t.A,{kind:"normal"})}),(0,n.jsx)(s.A,{id:"l00121"}),(0,n.jsxs)(c.A,{lineNumber:"121",children:[(0,n.jsx)(t.A,{kind:"normal",children:"pico_err_t pid_update_parameters(pid_ctrl_block_handle_t handle, "}),(0,n.jsx)(t.A,{kind:"keyword",children:"const"}),(0,n.jsxs)(t.A,{kind:"normal",children:[" ",(0,n.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/pid-ctrl-parameter-t",children:"pid_ctrl_parameter_t"}),"* params) {"]})]}),(0,n.jsx)(s.A,{id:"l00122"}),(0,n.jsxs)(c.A,{lineNumber:"122",children:[(0,n.jsx)(t.A,{kind:"normal",children:"    PICO_RETURN_ON_FALSE(handle && params, PICO_ERROR_INVALID_ARG, TAG, "}),(0,n.jsx)(t.A,{kind:"stringliteral",children:'"invalid argument"'}),(0,n.jsx)(t.A,{kind:"normal",children:");"})]}),(0,n.jsx)(s.A,{id:"l00123"}),(0,n.jsx)(c.A,{lineNumber:"123",children:(0,n.jsxs)(t.A,{kind:"normal",children:["    handle->Kp           = params->",(0,n.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/pid-ctrl-parameter-t/#a1f7add0f84d583bc2eceb290d6c4cc06",children:"kp"}),";"]})}),(0,n.jsx)(s.A,{id:"l00124"}),(0,n.jsx)(c.A,{lineNumber:"124",children:(0,n.jsxs)(t.A,{kind:"normal",children:["    handle->Ki           = params->",(0,n.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/pid-ctrl-parameter-t/#a050993b7ca6c97e62c1020017f716b91",children:"ki"}),";"]})}),(0,n.jsx)(s.A,{id:"l00125"}),(0,n.jsx)(c.A,{lineNumber:"125",children:(0,n.jsxs)(t.A,{kind:"normal",children:["    handle->Kd           = params->",(0,n.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/pid-ctrl-parameter-t/#ae7a5c6018507bb1361fcca170e069b9c",children:"kd"}),";"]})}),(0,n.jsx)(s.A,{id:"l00126"}),(0,n.jsx)(c.A,{lineNumber:"126",children:(0,n.jsxs)(t.A,{kind:"normal",children:["    handle->max_output   = params->",(0,n.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/pid-ctrl-parameter-t/#a56964985398133cdd7108e45f32f0e0f",children:"max_output"}),";"]})}),(0,n.jsx)(s.A,{id:"l00127"}),(0,n.jsx)(c.A,{lineNumber:"127",children:(0,n.jsxs)(t.A,{kind:"normal",children:["    handle->min_output   = params->",(0,n.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/pid-ctrl-parameter-t/#a95b8ee55ef351ed053ea147e10ef14cd",children:"min_output"}),";"]})}),(0,n.jsx)(s.A,{id:"l00128"}),(0,n.jsx)(c.A,{lineNumber:"128",children:(0,n.jsxs)(t.A,{kind:"normal",children:["    handle->max_integral = params->",(0,n.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/pid-ctrl-parameter-t/#a00eb16a82a4f9602a2dcc96093f873f8",children:"max_integral"}),";"]})}),(0,n.jsx)(s.A,{id:"l00129"}),(0,n.jsx)(c.A,{lineNumber:"129",children:(0,n.jsxs)(t.A,{kind:"normal",children:["    handle->min_integral = params->",(0,n.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/pid-ctrl-parameter-t/#a9c0dbb41d8b43e1b480f5f9a71d14ab9",children:"min_integral"}),";"]})}),(0,n.jsx)(s.A,{id:"l00130"}),(0,n.jsxs)(c.A,{lineNumber:"130",children:[(0,n.jsx)(t.A,{kind:"normal",children:"    "}),(0,n.jsx)(t.A,{kind:"comment",children:"/* Set the calculate function according to the PID type */"}),(0,n.jsx)(t.A,{kind:"normal"})]}),(0,n.jsx)(s.A,{id:"l00131"}),(0,n.jsxs)(c.A,{lineNumber:"131",children:[(0,n.jsx)(t.A,{kind:"normal",children:"    "}),(0,n.jsx)(t.A,{kind:"keywordflow",children:"switch"}),(0,n.jsxs)(t.A,{kind:"normal",children:[" (params->",(0,n.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/pid-ctrl-parameter-t/#ad516c30d4918c9626b40cd6ad7500458",children:"cal_type"}),") {"]})]}),(0,n.jsx)(s.A,{id:"l00132"}),(0,n.jsxs)(c.A,{lineNumber:"132",children:[(0,n.jsx)(t.A,{kind:"normal",children:"        "}),(0,n.jsx)(t.A,{kind:"keywordflow",children:"case"}),(0,n.jsx)(t.A,{kind:"normal",children:" PID_CAL_TYPE_INCREMENTAL:"})]}),(0,n.jsx)(s.A,{id:"l00133"}),(0,n.jsx)(c.A,{lineNumber:"133",children:(0,n.jsx)(t.A,{kind:"normal",children:"            handle->calculate_func = pid_calc_incremental;"})}),(0,n.jsx)(s.A,{id:"l00134"}),(0,n.jsxs)(c.A,{lineNumber:"134",children:[(0,n.jsx)(t.A,{kind:"normal",children:"            "}),(0,n.jsx)(t.A,{kind:"keywordflow",children:"break"}),(0,n.jsx)(t.A,{kind:"normal",children:";"})]}),(0,n.jsx)(s.A,{id:"l00135"}),(0,n.jsxs)(c.A,{lineNumber:"135",children:[(0,n.jsx)(t.A,{kind:"normal",children:"        "}),(0,n.jsx)(t.A,{kind:"keywordflow",children:"case"}),(0,n.jsx)(t.A,{kind:"normal",children:" PID_CAL_TYPE_POSITIONAL:"})]}),(0,n.jsx)(s.A,{id:"l00136"}),(0,n.jsx)(c.A,{lineNumber:"136",children:(0,n.jsx)(t.A,{kind:"normal",children:"            handle->calculate_func = pid_calc_positional;"})}),(0,n.jsx)(s.A,{id:"l00137"}),(0,n.jsxs)(c.A,{lineNumber:"137",children:[(0,n.jsx)(t.A,{kind:"normal",children:"            "}),(0,n.jsx)(t.A,{kind:"keywordflow",children:"break"}),(0,n.jsx)(t.A,{kind:"normal",children:";"})]}),(0,n.jsx)(s.A,{id:"l00138"}),(0,n.jsxs)(c.A,{lineNumber:"138",children:[(0,n.jsx)(t.A,{kind:"normal",children:"        "}),(0,n.jsx)(t.A,{kind:"keywordflow",children:"default"}),(0,n.jsx)(t.A,{kind:"normal",children:":"})]}),(0,n.jsx)(s.A,{id:"l00139"}),(0,n.jsxs)(c.A,{lineNumber:"139",children:[(0,n.jsx)(t.A,{kind:"normal",children:"            PICO_RETURN_ON_FALSE("}),(0,n.jsx)(t.A,{kind:"keyword",children:"false"}),(0,n.jsx)(t.A,{kind:"normal",children:", PICO_ERROR_INVALID_ARG, TAG, "}),(0,n.jsx)(t.A,{kind:"stringliteral",children:'"invalid PID calculation type:%d"'}),(0,n.jsxs)(t.A,{kind:"normal",children:[", params->",(0,n.jsx)("a",{href:"/desoldering-station-docs/docs/api/structs/pid-ctrl-parameter-t/#ad516c30d4918c9626b40cd6ad7500458",children:"cal_type"}),");"]})]}),(0,n.jsx)(s.A,{id:"l00140"}),(0,n.jsx)(c.A,{lineNumber:"140",children:(0,n.jsx)(t.A,{kind:"normal",children:"    }"})}),(0,n.jsx)(s.A,{id:"l00141"}),(0,n.jsxs)(c.A,{lineNumber:"141",children:[(0,n.jsx)(t.A,{kind:"normal",children:"    "}),(0,n.jsx)(t.A,{kind:"keywordflow",children:"return"}),(0,n.jsx)(t.A,{kind:"normal",children:" PICO_OK;"})]}),(0,n.jsx)(s.A,{id:"l00142"}),(0,n.jsx)(c.A,{lineNumber:"142",children:(0,n.jsx)(t.A,{kind:"normal",children:"}"})}),(0,n.jsx)(s.A,{id:"l00143"}),(0,n.jsx)(c.A,{lineNumber:"143",children:(0,n.jsx)(t.A,{kind:"normal"})}),(0,n.jsx)(s.A,{id:"l00144"}),(0,n.jsxs)(c.A,{lineNumber:"144",children:[(0,n.jsx)(t.A,{kind:"normal",children:"pico_err_t pid_compute(pid_ctrl_block_handle_t handle, "}),(0,n.jsx)(t.A,{kind:"keywordtype",children:"float"}),(0,n.jsx)(t.A,{kind:"normal",children:" input_error, "}),(0,n.jsx)(t.A,{kind:"keywordtype",children:"float"}),(0,n.jsx)(t.A,{kind:"normal",children:"* result) {"})]}),(0,n.jsx)(s.A,{id:"l00145"}),(0,n.jsxs)(c.A,{lineNumber:"145",children:[(0,n.jsx)(t.A,{kind:"normal",children:"    PICO_RETURN_ON_FALSE(handle && result, PICO_ERROR_INVALID_ARG, TAG, "}),(0,n.jsx)(t.A,{kind:"stringliteral",children:'"invalid argument"'}),(0,n.jsx)(t.A,{kind:"normal",children:");"})]}),(0,n.jsx)(s.A,{id:"l00146"}),(0,n.jsx)(c.A,{lineNumber:"146",children:(0,n.jsx)(t.A,{kind:"normal",children:"    *result = handle->calculate_func(handle, input_error);"})}),(0,n.jsx)(s.A,{id:"l00147"}),(0,n.jsxs)(c.A,{lineNumber:"147",children:[(0,n.jsx)(t.A,{kind:"normal",children:"    "}),(0,n.jsx)(t.A,{kind:"keywordflow",children:"return"}),(0,n.jsx)(t.A,{kind:"normal",children:" PICO_OK;"})]}),(0,n.jsx)(s.A,{id:"l00148"}),(0,n.jsx)(c.A,{lineNumber:"148",children:(0,n.jsx)(t.A,{kind:"normal",children:"}"})}),(0,n.jsx)(s.A,{id:"l00149"}),(0,n.jsx)(c.A,{lineNumber:"149",children:(0,n.jsx)(t.A,{kind:"normal"})}),(0,n.jsx)(s.A,{id:"l00150"}),(0,n.jsxs)(c.A,{lineNumber:"150",children:[(0,n.jsx)(t.A,{kind:"normal"}),(0,n.jsx)(t.A,{kind:"comment",children:"// Resets the internal state of the PID control block (integral, previous errors, last output)."}),(0,n.jsx)(t.A,{kind:"normal"})]}),(0,n.jsx)(s.A,{id:"l00151"}),(0,n.jsx)(c.A,{lineNumber:"151",children:(0,n.jsx)(t.A,{kind:"normal",children:"pico_err_t pid_reset_ctrl_block(pid_ctrl_block_handle_t handle) {"})}),(0,n.jsx)(s.A,{id:"l00152"}),(0,n.jsxs)(c.A,{lineNumber:"152",children:[(0,n.jsx)(t.A,{kind:"normal",children:"    PICO_RETURN_ON_FALSE(handle, PICO_ERROR_INVALID_ARG, TAG, "}),(0,n.jsx)(t.A,{kind:"stringliteral",children:'"invalid argument"'}),(0,n.jsx)(t.A,{kind:"normal",children:");"})]}),(0,n.jsx)(s.A,{id:"l00153"}),(0,n.jsx)(c.A,{lineNumber:"153",children:(0,n.jsx)(t.A,{kind:"normal",children:"    handle->integral_err  = 0;"})}),(0,n.jsx)(s.A,{id:"l00154"}),(0,n.jsx)(c.A,{lineNumber:"154",children:(0,n.jsx)(t.A,{kind:"normal",children:"    handle->previous_err1 = 0;"})}),(0,n.jsx)(s.A,{id:"l00155"}),(0,n.jsx)(c.A,{lineNumber:"155",children:(0,n.jsx)(t.A,{kind:"normal",children:"    handle->previous_err2 = 0;"})}),(0,n.jsx)(s.A,{id:"l00156"}),(0,n.jsx)(c.A,{lineNumber:"156",children:(0,n.jsx)(t.A,{kind:"normal",children:"    handle->last_output   = 0;"})}),(0,n.jsx)(s.A,{id:"l00157"}),(0,n.jsxs)(c.A,{lineNumber:"157",children:[(0,n.jsx)(t.A,{kind:"normal",children:"    "}),(0,n.jsx)(t.A,{kind:"keywordflow",children:"return"}),(0,n.jsx)(t.A,{kind:"normal",children:" PICO_OK;"})]}),(0,n.jsx)(s.A,{id:"l00158"}),(0,n.jsx)(c.A,{lineNumber:"158",children:(0,n.jsx)(t.A,{kind:"normal",children:"}"})})]})]})]})}function v(e={}){const{wrapper:d}={...(0,l.R)(),...e.components};return d?(0,n.jsx)(d,{...e,children:(0,n.jsx)(I,{...e})}):I(e)}},23590:e=>{e.exports=JSON.parse('{"doxygenVersion":"1.15.0"}')},27032:(e,d,i)=>{i.d(d,{A:()=>n});i(96540);var r=i(74848);function n({lineNumber:e,lineLink:d,children:i}){return(0,r.jsxs)("div",{class:"doxyCodeLine",children:[e&&(0,r.jsx)("span",{class:"doxyLineNumber",children:d?(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("a",{href:d,children:e})}):`${e}`}),!e&&(0,r.jsx)("span",{class:"doxyNoLineNumber",children:"\xa0"}),(0,r.jsx)("span",{class:"doxyLineContent",children:i})]})}},28453:(e,d,i)=>{i.d(d,{R:()=>s,x:()=>c});var r=i(96540);const n={},l=r.createContext(n);function s(e){const d=r.useContext(l);return r.useMemo(function(){return"function"==typeof e?e(d):{...d,...e}},[d,e])}function c(e){let d;return d=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:s(e.components),r.createElement(l.Provider,{value:d},e.children)}},30729:(e,d,i)=>{i.d(d,{A:()=>n});i(96540);var r=i(74848);function n({title:e,children:d}){return(0,r.jsxs)("dl",{class:"doxyParamsList",children:[(0,r.jsx)("dt",{class:"doxyParamsTableTitle",children:e}),(0,r.jsx)("dd",{children:(0,r.jsx)("table",{class:"doxyParamsTable",children:d})})]})}},35796:(e,d,i)=>{i.d(d,{A:()=>n});i(96540);var r=i(74848);function n({name:e,children:d}){return(0,r.jsxs)("tr",{class:"doxyParamItem",children:[(0,r.jsx)("td",{class:"doxyParamItemName",children:e}),(0,r.jsx)("td",{class:"doxyParamItemDescription",children:d})]})}},54310:(e,d,i)=>{i.d(d,{A:()=>n});i(96540);var r=i(74848);function n({title:e,children:d}){return(0,r.jsx)("div",{class:"doxyIncludesList",children:d})}},55710:(e,d,i)=>{i.d(d,{A:()=>n});i(96540);var r=i(74848);function n({children:e}){return(0,r.jsx)("table",{class:"doxyMembersIndex",children:e})}},70900:(e,d,i)=>{i.d(d,{A:()=>n});i(96540);var r=i(74848);function n({template:e,prototype:d,labels:i,children:n}){return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{class:"doxyMemberItem",children:[(0,r.jsxs)("div",{class:"doxyMemberProto",children:[e&&(0,r.jsx)("div",{class:"doxyMemberTemplate",children:e}),(0,r.jsx)("table",{class:"doxyMemberLabels",children:(0,r.jsx)("tbody",{children:(0,r.jsxs)("tr",{class:"doxyMemberLabels",children:[(0,r.jsx)("td",{class:"doxyMemberLabelsLeft",children:(0,r.jsx)("table",{class:"doxyMemberName",children:(0,r.jsx)("tbody",{children:(0,r.jsx)("tr",{children:(0,r.jsx)("td",{class:"doxyMemberName",children:d})})})})}),i&&i.length>0&&(0,r.jsx)("td",{class:"doxyMemberLabelsRight",children:(0,r.jsx)("span",{class:"doxyMemberLabels",children:i.map(e=>(0,r.jsx)("span",{class:`doxyMemberLabel ${e}`,children:e}))})})]})})})]}),(0,r.jsx)("div",{class:"doxyMemberDoc",children:n})]})})}},77035:(e,d,i)=>{i.d(d,{A:()=>n});i(96540);var r=i(74848);function n({filePath:e,permalink:d,isLocal:i,children:n}){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("code",{children:["#include ","true"===i?'"':"<",d?.length>0?(0,r.jsx)("a",{href:d,children:e}):e,"true"===i?'"':">"]}),(0,r.jsx)("br",{})]})}},86563:(e,d,i)=>{i.d(d,{A:()=>n});i(96540);var r=i(74848);function n({title:e,children:d}){return(0,r.jsxs)("dl",{class:"doxySectionUser",children:[(0,r.jsx)("dt",{children:(0,r.jsx)("b",{children:e})}),(0,r.jsx)("dd",{children:d})]})}},94949:(e,d,i)=>{i.d(d,{A:()=>n});i(96540);var r=i(74848);function n({children:e}){return(0,r.jsx)("div",{class:"doxyProgramListing",children:e})}},96638:(e,d,i)=>{i.d(d,{A:()=>n});i(96540);var r=i(74848);function n({children:e,pluginConfig:d}){const i=` ${d.doxygenVersion??"unknown"}`;return(0,r.jsxs)("div",{class:"doxyPage",children:[e,(0,r.jsx)("hr",{}),(0,r.jsxs)("p",{class:"doxyGeneratedBy",children:["Generated via ",(0,r.jsx)("a",{href:"https://github.com/xpack/docusaurus-plugin-doxygen",children:"docusaurus-plugin-doxygen"})," by ",(0,r.jsx)("a",{href:"https://www.doxygen.nl",children:"Doxygen"}),i,"."]})]})}}}]);